import{_ as ke}from"./yUH5lwCE.js";import{d as O,a as Q,g as m,o as d,e,f as g,t as l,s as z,l as T,h as o,p as I,n as G,r as V,x as be,I as _e,i as B,z as we,j as H,E as Ve,w as ae,c as re,v as W,F as Y,k as X,b as K,y as de,K as Se,L as fe,q as Pe,G as De,D as Ae}from"./BSA_tgdP.js";import{u as Ee}from"./CVI93bK1.js";import{u as Te,f as ve,r as Ce,a as Me}from"./CnEUB9Be.js";import{_ as Ie}from"./BBzIiODl.js";import{_ as Re}from"./CYRtSSXC.js";import{_ as ze,d as je}from"./CKoZXdJA.js";import{_ as ce}from"./BaRlud3k.js";import{_ as ge}from"./yogEyCnZ.js";import{_ as Oe}from"./DgZOapO3.js";const Ue={class:"bg-gradient-to-r from-slate-800 to-slate-900 border-b-4 border-amber-500 sticky top-0 z-40"},Be={class:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-3 sm:py-4"},Le={class:"flex items-center justify-between gap-2"},Ne={class:"flex items-center gap-2 sm:gap-4 min-w-0"},He={class:"w-10 h-10 sm:w-12 sm:h-12 bg-amber-500 rounded-lg flex items-center justify-center shadow-lg flex-shrink-0"},Fe={class:"min-w-0"},qe={class:"text-xs sm:text-sm text-slate-400 truncate hidden sm:block"},Ge=O({__name:"EmployeeHeader",props:{empresa:{default:"Qualitec Instrumentos de Medi√ß√£o"}},setup(a){return(S,c)=>{const w=Q("Icon"),f=ke;return d(),m("header",Ue,[e("div",Be,[e("div",Le,[e("div",Ne,[e("div",He,[g(w,{name:"heroicons:cog-6-tooth",class:"text-slate-900 w-5 h-5 sm:w-7 sm:h-7"})]),e("div",Fe,[c[0]||(c[0]=e("h1",{class:"text-base sm:text-xl font-bold text-white truncate"},"Portal do Colaborador",-1)),e("p",qe,l(a.empresa||"Qualitec Instrumentos de Medi√ß√£o"),1)])]),g(f,{theme:"employee"})])])])}}}),Je=Object.assign(Ge,{__name:"EmployeeHeader"}),Ye={class:"mb-4 sm:mb-6 lg:mb-8"},Xe={class:"text-xl sm:text-2xl font-bold text-slate-800"},Qe={class:"text-sm sm:text-base text-slate-600 mt-0.5 sm:mt-1"},We={key:0,class:"hidden sm:inline"},Ke={key:0,class:"text-xs text-slate-500 mt-0.5 sm:hidden"},Ze=O({__name:"EmployeeSaudacao",props:{nome:{},cargo:{},departamento:{}},setup(a){const S=a,c=z(()=>S.nome?S.nome.split(" ")[0]:"Colaborador");return(w,f)=>(d(),m("div",Ye,[e("h2",Xe," Ol√°, "+l(o(c)||"Colaborador")+"! ",1),e("p",Qe,[I(l(a.cargo||"Colaborador")+" ",1),a.departamento?(d(),m("span",We," ‚Ä¢ "+l(a.departamento),1)):T("",!0)]),a.departamento?(d(),m("p",Ke,l(a.departamento),1)):T("",!0)]))}}),et=Object.assign(Ze,{__name:"EmployeeSaudacao"}),tt={class:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 border border-slate-200 shadow-sm hover:shadow-md transition-shadow"},ot={class:"flex items-center gap-2 sm:gap-3"},st={class:"min-w-0"},at={class:"text-[10px] sm:text-xs text-slate-500 font-medium truncate"},lt={class:"hidden sm:inline"},nt={class:"sm:hidden"},rt={class:"text-base sm:text-lg font-bold text-slate-800"},it=O({__name:"EmployeeStatCard",props:{icon:{},label:{},shortLabel:{},value:{},color:{default:"blue"}},setup(a){const S=a,c={blue:{bg:"bg-blue-100",icon:"text-blue-600"},amber:{bg:"bg-amber-100",icon:"text-amber-600"},purple:{bg:"bg-purple-100",icon:"text-purple-600"},green:{bg:"bg-green-100",icon:"text-green-600"},red:{bg:"bg-red-100",icon:"text-red-600"}},w=z(()=>c[S.color].bg),f=z(()=>c[S.color].icon);return(k,v)=>{const r=Q("Icon");return d(),m("div",tt,[e("div",ot,[e("div",{class:G(["w-8 h-8 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center flex-shrink-0",o(w)])},[g(r,{name:a.icon,class:G([o(f),"w-4 h-4 sm:w-5 sm:h-5"])},null,8,["name","class"])],2),e("div",st,[e("p",at,[e("span",lt,l(a.label),1),e("span",nt,l(a.shortLabel||a.label),1)]),e("p",rt,l(a.value),1)])])])}}}),dt=Object.assign(it,{__name:"EmployeeStatCard"}),ct={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3 lg:gap-4"},ut=O({__name:"EmployeeStatsGrid",props:{stats:{}},setup(a){return(S,c)=>{const w=dt;return d(),m("div",ct,[g(w,{icon:"heroicons:clock",label:"Banco de Horas","short-label":"Banco",value:a.stats?.banco_horas||"00:00",color:"blue"},null,8,["value"]),g(w,{icon:"heroicons:sun",label:"Dias de F√©rias","short-label":"F√©rias",value:a.stats?.dias_ferias||0,color:"amber"},null,8,["value"]),g(w,{icon:"heroicons:document-text",label:"Solicita√ß√µes","short-label":"Solic.",value:a.stats?.solicitacoes_pendentes||0,color:"purple"},null,8,["value"]),g(w,{icon:"heroicons:folder-open",label:"Docs Novos","short-label":"Docs",value:a.stats?.documentos_novos||0,color:"green"},null,8,["value"]),g(w,{icon:"heroicons:bell",label:"Comunicados","short-label":"Avisos",value:a.stats?.comunicados_nao_lidos||0,color:"red",class:"col-span-2 sm:col-span-1"},null,8,["value"])])}}}),mt=Object.assign(ut,{__name:"EmployeeStatsGrid"}),pt={key:0,class:"bg-gradient-to-br from-green-600 to-green-700 rounded-lg sm:rounded-xl p-4 sm:p-6 shadow-lg"},xt={class:"flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-6"},bt={class:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto"},gt={class:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-lg sm:rounded-xl flex items-center justify-center backdrop-blur-sm flex-shrink-0"},ft={class:"text-left flex-1"},vt={key:0,class:"flex items-center gap-1.5 sm:gap-2 mt-1 sm:mt-2"},_t={key:1,class:"mt-1 sm:mt-2"},ht={class:"w-full sm:w-auto text-left sm:text-right border-t sm:border-t-0 border-white/20 pt-3 sm:pt-0"},yt={class:"space-y-1.5 sm:space-y-2"},$t={class:"flex items-center gap-2 sm:gap-3 text-white/90 sm:justify-end"},wt={class:"text-xs sm:text-sm"},Et={key:0,class:"flex items-center gap-2 sm:gap-3 text-white/90 sm:justify-end"},Ct={class:"text-xs sm:text-sm"},kt={key:1,class:"flex items-center gap-2 sm:gap-3 text-white/90 sm:justify-end"},Vt={class:"text-xs sm:text-sm"},St=O({__name:"EmployeeHorasTrabalhadasCard",props:{registroHoje:{},horasFormatadas:{},emAndamento:{type:Boolean}},setup(a){return(S,c)=>{const w=Q("Icon");return a.registroHoje?(d(),m("div",pt,[e("div",xt,[e("div",bt,[e("div",gt,[g(w,{name:"heroicons:clock",class:"text-white w-6 h-6 sm:w-8 sm:h-8"})]),e("div",ft,[c[2]||(c[2]=e("p",{class:"text-xs sm:text-sm text-green-100 font-medium mb-0.5 sm:mb-1"},"Horas Trabalhadas Hoje",-1)),e("p",{class:G(["text-2xl sm:text-4xl font-bold text-white font-mono",{"animate-pulse":a.emAndamento}])},l(a.horasFormatadas),3),a.emAndamento?(d(),m("div",vt,[...c[0]||(c[0]=[e("span",{class:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-300 rounded-full animate-pulse"},null,-1),e("p",{class:"text-[10px] sm:text-xs text-green-100"},"Contagem em tempo real",-1)])])):(d(),m("div",_t,[...c[1]||(c[1]=[e("p",{class:"text-[10px] sm:text-xs text-green-100"},"Expediente finalizado",-1)])]))])]),e("div",ht,[e("div",yt,[e("div",$t,[g(w,{name:"heroicons:arrow-right-on-rectangle",class:"w-4 h-4"}),e("span",wt,"Entrada: "+l(a.registroHoje.entrada_1||"--:--"),1)]),a.registroHoje.saida_1?(d(),m("div",Et,[g(w,{name:"heroicons:pause",class:"w-4 h-4"}),e("span",Ct,"Intervalo: "+l(a.registroHoje.saida_1)+" - "+l(a.registroHoje.entrada_2||"..."),1)])):T("",!0),a.registroHoje.saida_2?(d(),m("div",kt,[g(w,{name:"heroicons:arrow-left-on-rectangle",class:"w-4 h-4"}),e("span",Vt,"Sa√≠da: "+l(a.registroHoje.saida_2),1)])):T("",!0)])])])])):T("",!0)}}}),Pt=Object.assign(St,{__name:"EmployeeHorasTrabalhadasCard"}),Dt=()=>{const a=V(null),S=V(null),c=V(!1),w=()=>new Promise((r,_)=>{if(!navigator.geolocation){_(new Error("Geolocaliza√ß√£o n√£o suportada pelo navegador"));return}c.value=!0,S.value=null,navigator.geolocation.getCurrentPosition(x=>{const i={latitude:x.coords.latitude,longitude:x.coords.longitude};a.value=i,c.value=!1,r(i)},x=>{c.value=!1;let i="Erro ao obter localiza√ß√£o";switch(x.code){case x.PERMISSION_DENIED:i="Permiss√£o de localiza√ß√£o negada. Habilite nas configura√ß√µes do navegador.";break;case x.POSITION_UNAVAILABLE:i="Localiza√ß√£o indispon√≠vel no momento.";break;case x.TIMEOUT:i="Tempo esgotado ao obter localiza√ß√£o.";break}S.value=i,_(new Error(i))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})});return{localizacaoAtual:a,erro:S,carregando:c,obterLocalizacao:w,verificarLocalPermitido:async()=>{try{const r=await w(),{data:_,error:x}=await Ee("/api/locais-ponto/verificar",{method:"POST",body:r},"$nmAJ6kLR1V");if(x.value)throw new Error(x.value.message||"Erro ao verificar local");return _.value}catch(r){throw S.value=r.message,r}},calcularDistancia:(r,_,x,i)=>{const t=(x-r)*Math.PI/180,u=(i-_)*Math.PI/180,n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(r*Math.PI/180)*Math.cos(x*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2),y=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return Math.round(6371e3*y)},verificarSuporteGPS:()=>"geolocation"in navigator}},At={class:"space-y-3 sm:space-y-4"},Tt={key:0,class:"p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg"},Mt=["disabled"],It={key:0,class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Rt={key:1,class:"animate-spin h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24"},zt={class:"text-sm sm:text-base"},jt={class:"flex items-start gap-2 sm:gap-3"},Ot={key:0,class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},Ut={key:1,class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},Bt={class:"flex-1 min-w-0"},Lt={key:1,class:"text-xs sm:text-sm mt-2 text-red-700 font-medium"},Nt={key:2,class:"p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg"},Ht={class:"flex items-start gap-2 sm:gap-3"},Ft={class:"flex-1 min-w-0"},qt={class:"text-xs sm:text-sm text-red-600 mt-1"},Gt={key:3,class:"p-3 sm:p-4 bg-green-50 border border-green-200 rounded-lg"},Jt={class:"flex items-start gap-2 sm:gap-3"},Yt={class:"text-green-800 font-medium text-sm sm:text-base"},Xt=O({__name:"ButtonBaterPontoGeo",emits:["sucesso"],setup(a,{emit:S}){const{obterLocalizacao:c,verificarLocalPermitido:w,verificarSuporteGPS:f,erro:k,carregando:v}=Dt(),r=V(!1),_=V(null),x=V(""),i=V(!0),s=S;be(()=>{i.value=f()});const t=async()=>{try{x.value="",_.value=null;const u=await c();if(_.value=await w(),!_.value?.permitido){console.error("‚ùå Fora do raio permitido");return}r.value=!0;const{data:n,error:y}=await Ee("/api/funcionario/ponto/registrar",{method:"POST",body:{latitude:u.latitude,longitude:u.longitude}},"$Gvt7VpftLx");if(y.value)throw new Error(y.value.message||"Erro ao registrar ponto");x.value=n.value?.message||"Ponto registrado com sucesso!",s("sucesso",n.value),setTimeout(()=>{x.value="",_.value=null},5e3)}catch(u){console.error("Erro ao bater ponto:",u)}finally{r.value=!1}};return(u,n)=>(d(),m("div",At,[o(i)?T("",!0):(d(),m("div",Tt,[...n[0]||(n[0]=[_e('<div class="flex items-start gap-2 sm:gap-3"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-red-600 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg><div class="flex-1 min-w-0"><p class="font-medium text-red-800 text-sm sm:text-base">GPS n√£o dispon√≠vel</p><p class="text-xs sm:text-sm text-red-600 mt-1">Seu navegador n√£o suporta geolocaliza√ß√£o ou voc√™ est√° em HTTP.</p></div></div>',1)])])),e("button",{onClick:t,disabled:!o(i)||o(r)||o(v),class:G(["w-full font-semibold py-3 sm:py-4 px-4 sm:px-6 rounded-lg sm:rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center gap-2 sm:gap-3 touch-manipulation min-h-[48px] sm:min-h-[56px]",o(i)?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 active:from-blue-800 active:to-blue-900 text-white hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed",(o(r)||o(v))&&"opacity-50 cursor-not-allowed"])},[!o(r)&&!o(v)?(d(),m("svg",It,[...n[1]||(n[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])])):(d(),m("svg",Rt,[...n[2]||(n[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])),e("span",zt,l(o(r)?"Registrando...":o(v)?"Obtendo GPS...":"Bater Ponto"),1)],10,Mt),o(_)?(d(),m("div",{key:1,class:G(["p-3 sm:p-4 rounded-lg",o(_).permitido?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[e("div",jt,[o(_).permitido?(d(),m("svg",Ot,[...n[3]||(n[3]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(d(),m("svg",Ut,[...n[4]||(n[4]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),e("div",Bt,[e("p",{class:G(["font-medium text-sm sm:text-base",o(_).permitido?"text-green-800":"text-red-800"])},l(o(_).permitido?"‚úÖ Dentro do raio":"‚ùå Fora do local"),3),o(_).local?(d(),m("p",{key:0,class:G(["text-xs sm:text-sm mt-1",o(_).permitido?"text-green-600":"text-red-600"])},l(o(_).local.nome)+" - "+l(o(_).local.distancia)+"m ",3)):T("",!0),o(_).permitido?T("",!0):(d(),m("p",Lt," ‚ö†Ô∏è Aproxime-se do local (m√°x. 30m) "))])])],2)):T("",!0),o(k)?(d(),m("div",Nt,[e("div",Ht,[n[6]||(n[6]=e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",Ft,[n[5]||(n[5]=e("p",{class:"font-medium text-red-800 text-sm sm:text-base"},"Erro de localiza√ß√£o",-1)),e("p",qt,l(o(k)),1)])])])):T("",!0),o(x)?(d(),m("div",Gt,[e("div",Jt,[n[7]||(n[7]=e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("p",Yt,l(o(x)),1)])])):T("",!0)]))}}),Qt=Object.assign(Xt,{__name:"ButtonBaterPontoGeo"}),Wt={class:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-lg sm:rounded-xl p-4 sm:p-6 shadow-lg"},Kt={class:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4"},Zt={class:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto"},eo={class:"w-12 h-12 sm:w-16 sm:h-16 bg-amber-500 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0"},to={class:"text-left sm:text-left flex-1 min-w-0"},oo={class:"text-xs sm:text-sm text-slate-400 truncate"},so={class:"w-full sm:w-auto"},ao={key:0,class:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-slate-600"},lo={class:"text-xs sm:text-sm text-slate-400 text-center sm:text-left"},no={class:"text-amber-400 font-medium"},ro=O({__name:"EmployeeRegistroPontoCard",props:{dataHoraAtual:{},ultimoRegistro:{default:""}},emits:["sucesso"],setup(a){return(S,c)=>{const w=Q("Icon"),f=Qt;return d(),m("div",Wt,[e("div",Kt,[e("div",Zt,[e("div",eo,[g(w,{name:"heroicons:finger-print",class:"text-slate-900 w-6 h-6 sm:w-8 sm:h-8"})]),e("div",to,[c[1]||(c[1]=e("h3",{class:"text-base sm:text-lg font-bold text-white"},"Registro de Ponto",-1)),e("p",oo,l(a.dataHoraAtual),1)])]),e("div",so,[g(f,{onSucesso:c[0]||(c[0]=k=>S.$emit("sucesso",k)),class:"w-full sm:w-auto"})])]),a.ultimoRegistro?(d(),m("div",ao,[e("p",lo,[c[2]||(c[2]=I(" √öltimo registro: ",-1)),e("span",no,l(a.ultimoRegistro),1)])])):T("",!0)])}}}),io=Object.assign(ro,{__name:"EmployeeRegistroPontoCard"}),co={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},uo={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},mo={class:"flex items-center justify-between p-6 border-b"},po={class:"text-sm text-gray-600 mt-1"},xo={class:"p-6"},bo={class:"bg-blue-50 rounded-lg p-4 mb-6"},go={class:"grid grid-cols-2 gap-4 text-sm"},fo={class:"font-medium ml-2"},vo={class:"font-medium ml-2"},_o={class:"mb-6"},ho={class:"border-2 border-dashed border-gray-300 rounded-lg p-4"},yo={class:"mb-6"},$o={class:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50"},wo=["disabled"],Eo={key:0,class:"flex items-center"},Co={key:1},ko=O({__name:"ModalAssinaturaDigital",props:{mes:{},ano:{},totalDias:{},totalHoras:{}},emits:["close","assinado"],setup(a,{emit:S}){const c=a,w=S,f=V(),k=V(""),v=V(!1),r=V(!1),_=V(!1),x=z(()=>["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][c.mes-1]),i=P=>{r.value=!0;const p=f.value;if(!p)return;const M=p.getContext("2d");if(!M)return;const L=p.getBoundingClientRect(),$=P.clientX-L.left,D=P.clientY-L.top;M.beginPath(),M.moveTo($,D)},s=P=>{if(!r.value)return;const p=f.value;if(!p)return;const M=p.getContext("2d");if(!M)return;const L=p.getBoundingClientRect(),$=P.clientX-L.left,D=P.clientY-L.top;M.lineTo($,D),M.stroke(),_.value=!0},t=()=>{r.value=!1},u=P=>{P.preventDefault(),r.value=!0;const p=f.value;if(!p)return;const M=p.getContext("2d");if(!M)return;const L=p.getBoundingClientRect(),$=P.touches[0],D=$.clientX-L.left,N=$.clientY-L.top;M.beginPath(),M.moveTo(D,N)},n=P=>{if(P.preventDefault(),!r.value)return;const p=f.value;if(!p)return;const M=p.getContext("2d");if(!M)return;const L=p.getBoundingClientRect(),$=P.touches[0],D=$.clientX-L.left,N=$.clientY-L.top;M.lineTo(D,N),M.stroke(),_.value=!0},y=()=>{const P=f.value;if(!P)return;const p=P.getContext("2d");p&&(p.clearRect(0,0,P.width,P.height),_.value=!1)},h=()=>{const P=f.value;if(!P)return;const p=P.getContext("2d");p&&(p.strokeStyle="#000000",p.lineWidth=2,p.lineCap="round",p.lineJoin="round")},b=async()=>{if(!_.value){alert("Por favor, fa√ßa sua assinatura antes de confirmar.");return}const P=f.value;if(P){v.value=!0;try{const p=P.toDataURL("image/png"),M=await $fetch("/api/funcionario/ponto/assinar-digital",{method:"POST",body:{mes:c.mes,ano:c.ano,assinaturaDigital:p,observacoes:k.value}});if(M&&M.success)w("assinado",M),w("close");else throw new Error("Resposta inv√°lida da API")}catch(p){console.error("Erro ao salvar assinatura:",p),alert(p.data?.message||"Erro ao salvar assinatura. Tente novamente.")}finally{v.value=!1}}};return be(()=>{h()}),(P,p)=>(d(),m("div",co,[e("div",uo,[e("div",mo,[e("div",null,[p[3]||(p[3]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Assinatura Digital do Ponto ",-1)),e("p",po,l(o(x))+" de "+l(a.ano),1)]),e("button",{onClick:p[0]||(p[0]=M=>P.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors"},[...p[4]||(p[4]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",xo,[e("div",bo,[p[7]||(p[7]=e("h4",{class:"font-medium text-blue-900 mb-2"},"Resumo do Per√≠odo",-1)),e("div",go,[e("div",null,[p[5]||(p[5]=e("span",{class:"text-blue-700"},"Total de dias:",-1)),e("span",fo,l(a.totalDias)+" dias",1)]),e("div",null,[p[6]||(p[6]=e("span",{class:"text-blue-700"},"Total de horas:",-1)),e("span",vo,l(a.totalHoras),1)])])]),e("div",_o,[p[9]||(p[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Assinatura Digital * ",-1)),e("div",ho,[e("canvas",{ref_key:"canvasAssinatura",ref:f,onMousedown:i,onMousemove:s,onMouseup:t,onTouchstart:u,onTouchmove:n,onTouchend:t,class:"w-full h-40 bg-white border rounded cursor-crosshair touch-none",width:"600",height:"160"},null,544),e("div",{class:"flex justify-between items-center mt-2"},[p[8]||(p[8]=e("p",{class:"text-xs text-gray-500"}," Assine com o mouse ou toque na tela ",-1)),e("button",{onClick:y,type:"button",class:"text-xs text-red-600 hover:text-red-800 font-medium"}," Limpar ")])])]),e("div",yo,[p[10]||(p[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Observa√ß√µes (opcional) ",-1)),B(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=M=>H(k)?k.value=M:null),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adicione observa√ß√µes sobre o per√≠odo..."},null,512),[[we,o(k)]])]),p[11]||(p[11]=_e('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6" data-v-cc918f68><div class="flex" data-v-cc918f68><svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-2" fill="currentColor" viewBox="0 0 20 20" data-v-cc918f68><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-cc918f68></path></svg><div data-v-cc918f68><h5 class="text-sm font-medium text-yellow-800" data-v-cc918f68>Importante</h5><p class="text-xs text-yellow-700 mt-1" data-v-cc918f68> Ao assinar digitalmente, voc√™ confirma que os registros de ponto est√£o corretos e completos para o per√≠odo selecionado. </p></div></div></div>',1))]),e("div",$o,[e("button",{onClick:p[2]||(p[2]=M=>P.$emit("close")),type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancelar "),e("button",{onClick:b,disabled:!o(_)||o(v),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[o(v)?(d(),m("span",Eo,[...p[12]||(p[12]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),I(" Salvando... ",-1)])])):(d(),m("span",Co,"Confirmar Assinatura"))],8,wo)])])]))}}),Vo=Object.assign(Ve(ko,[["__scopeId","data-v-cc918f68"]]),{__name:"ModalAssinaturaDigital"}),So={key:0,class:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg"},Po={class:"flex items-start gap-3"},Do={class:"text-sm text-amber-700 mt-1"},Ao={class:"flex flex-wrap items-center gap-4 mb-6"},To={class:"flex items-center gap-2"},Mo=["disabled"],Io=["value"],Ro={class:"flex items-center gap-2"},zo=["disabled"],jo=["value"],Oo=["disabled"],Uo={key:1,class:"text-center py-12"},Bo={key:2,class:"overflow-x-auto"},Lo={class:"w-full"},No={class:"divide-y divide-slate-200"},Ho={class:"px-4 py-3 text-sm font-medium text-slate-800"},Fo={class:"px-4 py-3 text-sm text-center text-slate-600"},qo={class:"px-4 py-3 text-sm text-center text-slate-600"},Go={class:"px-4 py-3 text-sm text-center text-slate-600"},Jo={class:"px-4 py-3 text-sm text-center text-slate-600"},Yo={class:"px-4 py-3 text-sm text-center"},Xo={class:"flex flex-col items-center gap-1"},Qo={key:0,class:"flex flex-wrap gap-1 justify-center"},Wo=["title"],Ko={class:"px-4 py-3 text-center"},Zo={key:3,class:"text-center py-12"},es={key:4,class:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4"},ts={class:"bg-slate-100 rounded-lg p-4"},os={class:"text-xl font-bold text-slate-800"},ss={class:"bg-green-100 rounded-lg p-4"},as={class:"text-xl font-bold text-green-700"},ls={class:"bg-amber-100 rounded-lg p-4"},ns={class:"text-xl font-bold text-amber-700"},rs={class:"bg-blue-100 rounded-lg p-4"},is={class:"text-xl font-bold text-blue-700"},ds={class:"bg-red-100 rounded-lg p-4"},cs={class:"text-xl font-bold text-red-700"},us={key:5,class:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg"},ms={class:"flex items-center"},ps={key:6,class:"mt-6 p-6 bg-blue-50 border border-blue-200 rounded-lg"},xs={class:"flex items-start justify-between gap-4"},bs={class:"flex-1"},gs={key:0,class:"flex items-center gap-3 p-3 bg-green-50 border border-green-200 rounded-lg"},fs={class:"flex-1"},vs={class:"text-sm font-medium text-green-800"},_s={class:"text-xs text-green-700 mt-1"},hs={class:"flex gap-2"},ys=["disabled"],$s=["disabled"],ws={key:1,class:"flex items-center gap-3"},Es=["disabled"],Cs={class:"text-xs text-slate-500"},ks={key:7,class:"mt-6 p-6 bg-slate-50 border border-slate-200 rounded-lg"},Vs={class:"flex items-center justify-between"},Ss={class:"text-sm text-slate-600"},Ps={class:"flex gap-2"},Ds=["disabled"],As=["disabled"],Ts=O({__name:"EmployeePontoTab",props:{registros:{},loading:{type:Boolean}},emits:["refresh"],setup(a,{emit:S}){const c=a,w=S,f=z(()=>c.registros),{calcularHoras:k}=Te(f),v=new Date,r=V(v.getMonth()+1),_=V(v.getFullYear()),x=V(!1),i=V(!1),s=V(!1),t=V(null),u=V(!1),n=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Mar√ßo"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}],y=z(()=>{const E=new Date().getFullYear();return[E-1,E,E+1]}),h=z(()=>{const E=new Date,C=new Date(_.value,r.value,0);return Math.floor((E.getTime()-C.getTime())/(1e3*60*60*24))>30}),b=z(()=>{const E=new Date;E.getMonth()+1;const C=E.getFullYear();return n.filter(R=>{if(_.value<C||_.value>C)return!1;const q=new Date(C,R.value,0);return Math.floor((E.getTime()-q.getTime())/(1e3*60*60*24))<=30})}),P=z(()=>{const E=new Date(_.value,r.value,0),C=new Date(E);return C.setDate(C.getDate()+30),C.toLocaleDateString("pt-BR")}),p=z(()=>{if(console.log("üîç [PONTO TAB] Calculando resumo para",c.registros.length,"registros"),c.registros.length>0){console.log("üìÖ [PONTO TAB] Datas dos registros:");const xe=c.registros.map(se=>se.data).sort();console.log("  Datas:",xe);const ne=c.registros.filter(se=>se.data&&se.data.includes("2024-11"));ne.length>0&&(console.log("‚ö†Ô∏è [PONTO TAB] PROBLEMA: Registros de novembro no componente:"),ne.forEach(se=>{console.log(`    ${se.data} - ${se.entrada_1} - ${se.saida_2||se.saida_1}`)}))}const E=c.registros.filter(xe=>xe.status==="Falta").length;let C=0,R=0,q=0,A=0;c.registros.forEach(xe=>{const ne=k(xe);ne.totalMinutos>0&&(C+=ne.totalMinutos,A++),R+=ne.intervaloMinutos,ne.totalMinutos>480&&(q+=ne.totalMinutos-480)});const oe=Math.floor(C/60),pe=C%60,he=Math.floor(R/60),ye=R%60,te=Math.floor(q/60),$e=q%60;return{diasTrabalhados:A,horasTrabalhadas:`${oe}h${pe.toString().padStart(2,"0")}`,horasIntervalo:R>0?`${he}h${ye.toString().padStart(2,"0")}`:"0h",horasExtras:q>0?`${te}h${$e.toString().padStart(2,"0")}`:"0h",faltas:E}}),M=()=>{w("refresh",r.value,_.value)},L=E=>E?new Date(E+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"2-digit"}):"-",$=E=>k(E).horasFormatadas,D=E=>k(E).avisos,N=E=>k(E).detalhes,Z=E=>Ce(E),ue=E=>({Normal:"bg-green-100 text-green-700",Falta:"bg-red-100 text-red-700",Atestado:"bg-blue-100 text-blue-700",Ferias:"bg-amber-100 text-amber-700",Folga:"bg-slate-100 text-slate-700",Feriado:"bg-purple-100 text-purple-700",Ajustado:"bg-orange-100 text-orange-700"})[E]||"bg-slate-100 text-slate-700",J=async()=>{try{const{data:E}=await Ee("/api/funcionario/ponto/assinatura",{params:{mes:r.value,ano:_.value}},"$I_2z-bqa07"),C=E.value;C&&C.data&&C.data.hash_assinatura?t.value=C.data:t.value=null,console.log("üîç Assinatura carregada:",{responseData:C,assinaturaMes:t.value});const R=new Date;r.value===R.getMonth()+1&&_.value===R.getFullYear()&&await me()}catch(E){console.error("Erro ao carregar assinatura:",E),t.value=null}};ae([r,_],async()=>{await J()},{immediate:!0});const ie=V(!1),U=()=>{ie.value=!0},F=E=>{console.log("Resposta da assinatura:",E),E&&E.assinatura?t.value=E.assinatura:E&&E.success&&carregarAssinaturaMes(),alert("Ponto assinado com sucesso! Voc√™ pode fazer o download do arquivo CSV.")},le=E=>E?new Date(E).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ee=async()=>{if(!(i.value||!t.value)){i.value=!0;try{if(!(await $fetch("/api/funcionario/perfil"))?.appUser?.colaborador_id)throw new Error("Colaborador n√£o encontrado");const C=await fetch(`/api/funcionario/ponto/download-csv?mes=${r.value}&ano=${_.value}`);if(!C.ok)throw new Error("Erro ao baixar arquivo");const R=await C.blob(),q=window.URL.createObjectURL(R),A=document.createElement("a");A.href=q,A.download=`ponto_${r.value.toString().padStart(2,"0")}_${_.value}.csv`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(q),document.body.removeChild(A)}catch(E){console.error("Erro ao baixar CSV:",E),alert("Erro ao baixar arquivo. Tente novamente.")}finally{i.value=!1}}},j=async()=>{if(!s.value){s.value=!0;try{console.log("üîç Gerando PDF para per√≠odo:",{mes:r.value,ano:_.value});const E=await $fetch("/api/funcionario/ponto/download-pdf-new",{params:{mes:r.value,ano:_.value}});if(console.log("‚úÖ Dados do PDF recebidos:",E),!E.success)throw new Error("Erro ao buscar dados do relat√≥rio");const C=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Relat√≥rio de Ponto - ${E.colaborador.nome}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.4; }
    .header { text-align: center; margin-bottom: 30px; }
    .info { margin-bottom: 20px; }
    .info p { margin: 5px 0; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 12px; }
    th { background-color: #f2f2f2; font-weight: bold; }
    .resumo { margin: 20px 0; padding: 15px; background-color: #f9f9f9; border: 1px solid #ddd; }
    .assinatura { margin-top: 30px; padding: 15px; border: 2px solid #007bff; background-color: #f8f9fa; }
    .assinatura h3 { margin-top: 0; color: #007bff; }
    .hash { font-family: monospace; font-size: 10px; word-break: break-all; margin: 10px 0; }
    .rodape { margin-top: 30px; text-align: center; font-size: 12px; color: #666; }
    @media print { 
      body { margin: 0; } 
      .assinatura { border-color: #000; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>RELAT√ìRIO DE PONTO ELETR√îNICO</h1>
  </div>
  
  <div class="info">
    <p><strong>Funcion√°rio:</strong> ${E.colaborador.nome}</p>
    <p><strong>Matr√≠cula:</strong> ${E.colaborador.matricula}</p>
    <p><strong>Per√≠odo:</strong> ${E.periodo.inicio} a ${E.periodo.fim}</p>
  </div>
  
  <table>
    <thead>
      <tr>
        <th>Data</th>
        <th>Entrada</th>
        <th>Sa√≠da</th>
        <th>Horas Trabalhadas</th>
      </tr>
    </thead>
    <tbody>
      ${E.registros.map(q=>`
        <tr>
          <td>${q.data}</td>
          <td>${q.entrada}</td>
          <td>${q.saida}</td>
          <td>${q.horas}</td>
        </tr>
      `).join("")}
    </tbody>
  </table>
  
  <div class="resumo">
    <h3>RESUMO DO PER√çODO</h3>
    <p><strong>Total de dias trabalhados:</strong> ${E.resumo?.totalDias||0}</p>
    <p><strong>Total de horas trabalhadas:</strong> ${E.resumo?.totalHoras||"0h00"}</p>
  </div>
  
  ${E.assinatura?`
    <div class="assinatura">
      <h3>‚úÖ ASSINATURA DIGITAL V√ÅLIDA</h3>
      <p><strong>Documento assinado digitalmente em:</strong> ${E.assinatura.dataAssinatura}</p>
      <p><strong>Per√≠odo assinado:</strong> ${String(E.assinatura.mes).padStart(2,"0")}/${E.assinatura.ano}</p>
      <p><strong>IP de origem:</strong> ${E.assinatura.ip||"N/A"}</p>
      ${E.assinatura.observacoes?`<p><strong>Observa√ß√µes:</strong> ${E.assinatura.observacoes}</p>`:""}
      ${E.assinatura.hash?`
        <p><strong>Hash de verifica√ß√£o:</strong></p>
        <div class="hash">${E.assinatura.hash}</div>
      `:""}
      <p><small><em>Este documento possui validade jur√≠dica conforme MP 2.200-2/2001 (ICP-Brasil).</em></small></p>
    </div>
  `:`
    <div class="assinatura" style="border-color: #ffc107; background-color: #fff3cd;">
      <h3 style="color: #856404;">‚ö†Ô∏è DOCUMENTO N√ÉO ASSINADO</h3>
      <p>Este relat√≥rio ainda n√£o foi assinado digitalmente pelo funcion√°rio.</p>
      <p>Para assinar, acesse o sistema e confirme seus registros de ponto na aba "Ponto".</p>
      <p><small><em>Documentos n√£o assinados n√£o possuem validade jur√≠dica.</em></small></p>
    </div>
  `}
  
  <div class="rodape">
    <p>Relat√≥rio gerado em: ${new Date().toLocaleString("pt-BR")}</p>
    <p>Sistema de Ponto Eletr√¥nico - Qualitec</p>
  </div>
</body>
</html>`,R=window.open("","_blank");R?(R.document.write(C),R.document.close(),setTimeout(()=>{R.print()},500)):alert("Bloqueador de pop-up ativo. Permita pop-ups para gerar o relat√≥rio.")}catch(E){console.error("‚ùå Erro completo:",E);let C="Erro ao gerar relat√≥rio. Tente novamente.";E.statusCode===401?C="Sess√£o expirada. Fa√ßa login novamente.":E.statusCode===404?C="Colaborador n√£o encontrado. Verifique seu cadastro.":E.message&&(C=E.message),alert(C)}finally{s.value=!1}}},me=async()=>{try{const E=await $fetch("/api/funcionario/ponto/renovar-assinatura",{method:"POST"});E.precisaAssinar&&!E.jaExiste&&(u.value=!0)}catch(E){console.error("Erro ao verificar renova√ß√£o:",E)}};return(E,C)=>{const R=Q("Icon"),q=Vo;return d(),m("div",null,[o(h)?(d(),m("div",So,[e("div",Po,[g(R,{name:"heroicons:exclamation-triangle",class:"text-amber-600 flex-shrink-0",size:"20"}),e("div",null,[C[3]||(C[3]=e("p",{class:"text-sm font-medium text-amber-800"},"Per√≠odo n√£o dispon√≠vel",-1)),e("p",Do," Os registros de ponto ficam dispon√≠veis por apenas 30 dias. Este per√≠odo j√° expirou. "+l(o(t)?"Voc√™ pode fazer o download do arquivo assinado abaixo.":""),1)])])])):T("",!0),e("div",Ao,[e("div",To,[C[4]||(C[4]=e("label",{class:"text-sm text-slate-600"},"M√™s:",-1)),B(e("select",{"onUpdate:modelValue":C[0]||(C[0]=A=>H(r)?r.value=A:null),class:"px-3 py-2 border border-slate-300 rounded-lg text-sm",disabled:a.loading},[(d(!0),m(Y,null,X(o(b),A=>(d(),m("option",{key:A.value,value:A.value},l(A.label),9,Io))),128))],8,Mo),[[W,o(r)]])]),e("div",Ro,[C[5]||(C[5]=e("label",{class:"text-sm text-slate-600"},"Ano:",-1)),B(e("select",{"onUpdate:modelValue":C[1]||(C[1]=A=>H(_)?_.value=A:null),class:"px-3 py-2 border border-slate-300 rounded-lg text-sm",disabled:a.loading},[(d(!0),m(Y,null,X(o(y),A=>(d(),m("option",{key:A,value:A},l(A),9,jo))),128))],8,zo),[[W,o(_)]])]),e("button",{onClick:M,class:"px-4 py-2 bg-slate-800 text-white rounded-lg text-sm hover:bg-slate-700 disabled:opacity-50",disabled:a.loading},[g(R,{name:"heroicons:magnifying-glass",size:"16",class:"mr-1"}),C[6]||(C[6]=I(" Buscar ",-1))],8,Oo)]),a.loading?(d(),m("div",Uo,[g(R,{name:"heroicons:arrow-path",class:"animate-spin text-slate-400",size:"40"}),C[7]||(C[7]=e("p",{class:"text-slate-500 mt-2"},"Carregando registros...",-1))])):a.registros.length>0?(d(),m("div",Bo,[e("table",Lo,[C[8]||(C[8]=e("thead",null,[e("tr",{class:"bg-slate-100"},[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase"},"Data"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Entrada"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Intervalo Entrada"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Intervalo Sa√≠da"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Sa√≠da"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Total"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase"},"Status")])],-1)),e("tbody",No,[(d(!0),m(Y,null,X(a.registros,A=>(d(),m("tr",{key:A.id,class:"hover:bg-slate-50"},[e("td",Ho,l(L(A.data)),1),e("td",Fo,l(o(ve)(A.entrada_1)),1),e("td",qo,l(o(ve)(A.saida_1)),1),e("td",Go,l(o(ve)(A.entrada_2)),1),e("td",Jo,l(o(ve)(A.saida_2)),1),e("td",Yo,[e("div",Xo,[e("span",{class:G(["font-medium",{"text-green-600 animate-pulse":Z(A),"text-slate-800":!Z(A)}])},l($(A)),3),D(A).length>0?(d(),m("div",Qo,[(d(!0),m(Y,null,X(D(A),(oe,pe)=>(d(),m("span",{key:pe,class:G(["text-xs px-2 py-0.5 rounded-full",{"bg-green-100 text-green-700":oe.includes("‚è±Ô∏è"),"bg-amber-100 text-amber-700":oe.includes("‚ö†Ô∏è"),"bg-blue-100 text-blue-700":oe.includes("‚ÑπÔ∏è"),"bg-red-100 text-red-700":oe.includes("‚ùå")}]),title:N(A)},l(oe),11,Wo))),128))])):T("",!0)])]),e("td",Ko,[e("span",{class:G([ue(A.status),"px-2 py-1 text-xs font-medium rounded-full"])},l(A.status),3)])]))),128))])])])):(d(),m("div",Zo,[g(R,{name:"heroicons:clock",class:"text-slate-300 mx-auto",size:"48"}),C[9]||(C[9]=e("p",{class:"text-slate-500 mt-2"},"Nenhum registro de ponto encontrado",-1))])),a.registros.length>0?(d(),m("div",es,[e("div",ts,[C[10]||(C[10]=e("p",{class:"text-xs text-slate-500"},"Dias Trabalhados",-1)),e("p",os,l(o(p).diasTrabalhados),1)]),e("div",ss,[C[11]||(C[11]=e("p",{class:"text-xs text-green-600"},"Horas Trabalhadas",-1)),e("p",as,l(o(p).horasTrabalhadas),1)]),e("div",ls,[C[12]||(C[12]=e("p",{class:"text-xs text-amber-600"},"Intervalo",-1)),e("p",ns,l(o(p).horasIntervalo),1)]),e("div",rs,[C[13]||(C[13]=e("p",{class:"text-xs text-blue-600"},"Horas Extras",-1)),e("p",is,l(o(p).horasExtras),1)]),e("div",ds,[C[14]||(C[14]=e("p",{class:"text-xs text-red-600"},"Faltas",-1)),e("p",cs,l(o(p).faltas),1)])])):T("",!0),o(u)?(d(),m("div",us,[e("div",ms,[g(R,{name:"heroicons:exclamation-triangle",class:"w-5 h-5 text-amber-600 mr-2"}),C[15]||(C[15]=e("div",null,[e("h4",{class:"text-amber-800 font-medium"},"Renova√ß√£o de Assinatura Necess√°ria"),e("p",{class:"text-amber-700 text-sm mt-1"},'√â necess√°rio renovar sua assinatura digital para este m√™s. Clique em "Assinar Ponto do M√™s" abaixo.')],-1))])])):T("",!0),a.registros.length>0&&!o(h)?(d(),m("div",ps,[e("div",xs,[e("div",bs,[C[16]||(C[16]=e("h3",{class:"text-lg font-semibold text-slate-800 mb-2"},"Assinatura do Ponto",-1)),C[17]||(C[17]=e("p",{class:"text-sm text-slate-600 mb-4"}," Ao assinar, voc√™ confirma que os registros de ponto est√£o corretos. O arquivo CSV ficar√° dispon√≠vel para download. ",-1)),o(t)?(d(),m("div",gs,[g(R,{name:"heroicons:check-circle",class:"text-green-600",size:"24"}),e("div",fs,[e("p",vs,"Ponto assinado em "+l(le(o(t).data_assinatura)),1),e("p",_s,l(o(t).total_dias)+" dias trabalhados ‚Ä¢ "+l(o(t).total_horas),1)]),e("div",hs,[e("button",{onClick:j,class:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 flex items-center gap-2",disabled:o(s)},[g(R,{name:"heroicons:document-text",size:"16"}),I(" "+l(o(s)?"Gerando...":"PDF (30 dias)"),1)],8,ys),e("button",{onClick:ee,class:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",disabled:o(i)},[g(R,{name:"heroicons:arrow-down-tray",size:"16"}),I(" "+l(o(i)?"Baixando...":"Baixar CSV"),1)],8,$s)])])):(d(),m("div",ws,[e("button",{onClick:U,class:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",disabled:o(x)},[g(R,{name:"heroicons:pencil-square",size:"20"}),I(" "+l(o(x)?"Assinando...":"Assinar Ponto do M√™s"),1)],8,Es),e("p",Cs," Dispon√≠vel at√© "+l(o(P)),1)]))])])])):T("",!0),o(h)&&o(t)?(d(),m("div",ks,[e("div",Vs,[e("div",null,[C[18]||(C[18]=e("h3",{class:"text-lg font-semibold text-slate-800 mb-1"},"Arquivo Assinado",-1)),e("p",Ss," Assinado em "+l(le(o(t).data_assinatura))+" ‚Ä¢ "+l(o(t).total_dias)+" dias ‚Ä¢ "+l(o(t).total_horas),1)]),e("div",Ps,[e("button",{onClick:j,class:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700 flex items-center gap-2",disabled:o(s)},[g(R,{name:"heroicons:document-text",size:"16"}),I(" "+l(o(s)?"Gerando...":"PDF (30 dias)"),1)],8,Ds),e("button",{onClick:ee,class:"px-4 py-2 bg-slate-800 text-white rounded-lg text-sm hover:bg-slate-700 flex items-center gap-2",disabled:o(i)},[g(R,{name:"heroicons:arrow-down-tray",size:"16"}),I(" "+l(o(i)?"Baixando...":"Baixar CSV"),1)],8,As)])])])):T("",!0),o(ie)?(d(),re(q,{key:8,mes:o(r),ano:o(_),"total-dias":o(p).diasTrabalhados,"total-horas":o(p).horasTrabalhadas,onClose:C[2]||(C[2]=A=>ie.value=!1),onAssinado:F},null,8,["mes","ano","total-dias","total-horas"])):T("",!0)])}}}),Ms=Object.assign(Ts,{__name:"EmployeePontoTab"}),Is={class:"space-y-4 sm:space-y-6"},Rs={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},zs={key:0,class:"text-center py-8 sm:py-12"},js={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6"},Os=["onClick"],Us={class:"flex items-center justify-between mb-3 sm:mb-4"},Bs={class:"flex items-center gap-2 sm:gap-3"},Ls={class:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors flex-shrink-0"},Ns={class:"font-bold text-gray-800 text-sm sm:text-base"},Hs={class:"text-xs sm:text-sm text-gray-500"},Fs={class:"space-y-1.5 sm:space-y-2 mb-3 sm:mb-4"},qs={class:"flex justify-between text-xs sm:text-sm"},Gs={class:"font-semibold text-gray-800"},Js={class:"flex justify-between text-xs sm:text-sm"},Ys={class:"font-semibold text-red-600"},Xs={class:"flex justify-between pt-2 border-t border-gray-200"},Qs={class:"font-bold text-green-600 text-base sm:text-lg"},Ws={key:0,class:"text-[10px] sm:text-xs text-gray-500 flex items-center gap-1"},Ks={key:1,class:"text-[10px] sm:text-xs text-blue-600 font-semibold flex items-center gap-1"},Zs={class:"bg-gray-50 px-3 sm:px-4 py-2 sm:py-3 border-t border-gray-200 flex items-center justify-between gap-2"},ea=["onClick"],ta=["onClick"],oa={key:2,class:"text-center py-8 sm:py-12 bg-white rounded-lg sm:rounded-xl border-2 border-dashed border-gray-300"},sa=O({__name:"EmployeeHoleritesTab",setup(a){const S=V(!1),c=V([]),w=V(!1),f=V(null),k=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h||0),v=h=>h?new Date(h).toLocaleDateString("pt-BR"):"-",r=h=>["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][h-1],_=h=>({gerado:"blue",enviado:"purple",visualizado:"green",pago:"emerald"})[h]||"gray",x=h=>({gerado:"Dispon√≠vel",enviado:"Enviado",visualizado:"Visualizado",pago:"Pago"})[h]||h,i=async()=>{S.value=!0;try{const h=await $fetch("/api/funcionario/holerites");h.success&&(c.value=h.data)}catch(h){console.error("Erro ao carregar holerites:",h)}finally{S.value=!1}},s=async h=>{try{const b=await $fetch(`/api/holerites/${h.id}`);if(b.success){f.value=b.data,w.value=!0;const P=c.value.findIndex(p=>p.id===h.id);P!==-1&&(c.value[P]=b.data)}}catch(b){console.error("Erro ao visualizar holerite:",b),alert("Erro ao carregar holerite")}},t=async h=>{try{const b=await $fetch(`/api/holerites/${h.id}`);if(!b.success)throw new Error("Erro ao buscar holerite");const{data:P}=await $fetch("/api/empresa"),p=P?.success?{nome:P.data.nome||"EMPRESA",cnpj:P.data.cnpj||"",endereco:P.data.endereco||"",cidade:P.data.cidade||"",estado:P.data.estado||""}:void 0;je(b.data,p)}catch(b){console.error("Erro ao gerar PDF:",b),alert("Erro ao gerar PDF. Tente novamente.")}},u=h=>{if(h.total_proventos!==void 0&&h.total_proventos!==null)return h.total_proventos;let b=h.salario_base||0;return b+=h.valor_horas_extras_50||0,b+=h.valor_horas_extras_100||0,b+=h.bonus||0,b+=h.comissoes||0,b+=h.adicional_insalubridade||0,b+=h.adicional_periculosidade||0,b+=h.adicional_noturno||0,b+=h.outros_proventos||0,(h.itens_personalizados||[]).filter(p=>p.tipo==="provento").forEach(p=>{b+=p.valor||0}),b},n=h=>{if(h.total_descontos!==void 0&&h.total_descontos!==null)return h.total_descontos;let b=0;return b+=h.inss||0,b+=h.irrf||0,b+=h.adiantamento||0,b+=h.emprestimos||0,b+=h.faltas||0,b+=h.atrasos||0,b+=h.outros_descontos||0,b+=h.plano_saude||0,b+=h.plano_odontologico||0,b+=h.seguro_vida||0,b+=h.auxilio_creche||0,b+=h.auxilio_educacao||0,b+=h.auxilio_combustivel||0,b+=h.outros_beneficios||0,(h.itens_personalizados||[]).filter(p=>p.tipo==="desconto").forEach(p=>{b+=p.valor||0}),b},y=h=>h.salario_liquido!==void 0&&h.salario_liquido!==null?h.salario_liquido:u(h)-n(h);return be(()=>{i()}),(h,b)=>{const P=Ie,p=Q("Icon"),M=Re,L=ze;return d(),m("div",Is,[e("div",Rs,[b[2]||(b[2]=e("div",null,[e("h2",{class:"text-xl sm:text-2xl font-bold text-gray-800"},"Meus Holerites"),e("p",{class:"text-sm sm:text-base text-gray-600"},"Visualize e baixe seus comprovantes de pagamento")],-1)),g(P,{variant:"secondary","icon-left":"heroicons:arrow-path",onClick:i,disabled:o(S),size:"sm",class:"self-start sm:self-auto"},{default:K(()=>[...b[1]||(b[1]=[e("span",{class:"hidden sm:inline"},"Atualizar",-1),e("span",{class:"sm:hidden"},"Atualizar",-1)])]),_:1},8,["disabled"])]),o(S)?(d(),m("div",zs,[g(p,{name:"heroicons:arrow-path",class:"animate-spin text-gray-400 mx-auto mb-4 w-10 h-10 sm:w-12 sm:h-12"}),b[3]||(b[3]=e("p",{class:"text-gray-600 text-sm sm:text-base"},"Carregando holerites...",-1))])):o(c).length>0?(d(),m("div",js,[(d(!0),m(Y,null,X(o(c),$=>(d(),m("div",{key:$.id,class:"bg-white rounded-lg sm:rounded-xl border-2 border-gray-200 hover:border-blue-400 transition-all group"},[e("div",{class:"p-4 sm:p-6 cursor-pointer",onClick:D=>s($)},[e("div",Us,[e("div",Bs,[e("div",Ls,[g(p,{name:"heroicons:document-text",class:"text-blue-600 w-5 h-5 sm:w-6 sm:h-6"})]),e("div",null,[e("p",Ns,l(r($.mes)),1),e("p",Hs,l($.ano),1)])]),g(M,{color:_($.status),class:"text-xs"},{default:K(()=>[I(l(x($.status)),1)]),_:2},1032,["color"])]),e("div",Fs,[e("div",qs,[b[4]||(b[4]=e("span",{class:"text-gray-600"},"Sal√°rio Bruto",-1)),e("span",Gs,l(k(u($))),1)]),e("div",Js,[b[5]||(b[5]=e("span",{class:"text-gray-600"},"Descontos",-1)),e("span",Ys,l(k(n($))),1)]),e("div",Xs,[b[6]||(b[6]=e("span",{class:"font-semibold text-gray-700 text-xs sm:text-sm"},"L√≠quido",-1)),e("span",Qs,l(k(y($))),1)])]),$.visualizado_em?(d(),m("div",Ws,[g(p,{name:"heroicons:eye",class:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),I(" Visualizado em "+l(v($.visualizado_em)),1)])):(d(),m("div",Ks,[g(p,{name:"heroicons:sparkles",class:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),b[7]||(b[7]=I(" Novo holerite dispon√≠vel ",-1))]))],8,Os),e("div",Zs,[e("button",{onClick:D=>s($),class:"flex-1 flex items-center justify-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-blue-700 hover:bg-blue-100 active:bg-blue-200 rounded-lg transition-colors touch-manipulation"},[g(p,{name:"heroicons:eye",class:"w-4 h-4"}),b[8]||(b[8]=e("span",null,"Visualizar",-1))],8,ea),e("button",{onClick:de(D=>t($),["stop"]),class:"flex-1 flex items-center justify-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-green-700 hover:bg-green-100 active:bg-green-200 rounded-lg transition-colors touch-manipulation"},[g(p,{name:"heroicons:arrow-down-tray",class:"w-4 h-4"}),b[9]||(b[9]=e("span",null,"Baixar PDF",-1))],8,ta)])]))),128))])):(d(),m("div",oa,[g(p,{name:"heroicons:document-text",class:"text-gray-300 mx-auto mb-3 sm:mb-4 w-12 h-12 sm:w-16 sm:h-16"}),b[10]||(b[10]=e("h3",{class:"text-base sm:text-lg font-semibold text-gray-800 mb-1 sm:mb-2"},"Nenhum holerite dispon√≠vel",-1)),b[11]||(b[11]=e("p",{class:"text-sm sm:text-base text-gray-600 px-4"},"Seus holerites aparecer√£o aqui quando forem gerados pelo RH",-1))])),g(L,{show:o(w),holerite:o(f),onClose:b[0]||(b[0]=$=>w.value=!1)},null,8,["show","holerite"])])}}}),aa=Object.assign(sa,{__name:"EmployeeHoleritesTab"}),la={class:"flex flex-wrap items-center justify-between gap-4 mb-6"},na={class:"flex items-center gap-4"},ra={key:0,class:"text-center py-12"},ia={key:1,class:"space-y-4"},da={class:"flex items-start justify-between gap-4"},ca={class:"flex-1"},ua={class:"flex items-center gap-2 mb-2"},ma={key:0,class:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-700"},pa={class:"font-semibold text-slate-800"},xa={key:0,class:"text-sm text-slate-600 mt-1 line-clamp-2"},ba={class:"text-xs text-slate-400 mt-2"},ga=["onClick"],fa={key:0,class:"mt-4 pt-4 border-t border-slate-100"},va={class:"text-xs text-slate-500 mb-1"},_a={class:"text-sm text-slate-700"},ha={key:2,class:"text-center py-12"},ya=O({__name:"EmployeeSolicitacoesTab",props:{solicitacoes:{},loading:{type:Boolean}},emits:["nova","refresh"],setup(a,{emit:S}){const c=a,w=V("todos"),f=z(()=>w.value==="todos"?c.solicitacoes:c.solicitacoes.filter(s=>s.status===w.value)),k=s=>({ferias:"F√©rias",abono:"Abono",atestado:"Atestado",declaracao:"Declara√ß√£o",alteracao_dados:"Altera√ß√£o de Dados",holerite:"Holerite",informe_rendimentos:"Informe de Rendimentos",carta_referencia:"Carta de Refer√™ncia",outros:"Outros"})[s]||s,v=s=>({ferias:"bg-amber-100 text-amber-700",abono:"bg-blue-100 text-blue-700",atestado:"bg-purple-100 text-purple-700",declaracao:"bg-green-100 text-green-700",holerite:"bg-slate-100 text-slate-700",informe_rendimentos:"bg-indigo-100 text-indigo-700"})[s]||"bg-slate-100 text-slate-700",r=s=>({Pendente:"Pendente",Em_Analise:"Em An√°lise",Aprovada:"Aprovada",Rejeitada:"Rejeitada",Cancelada:"Cancelada",Concluida:"Conclu√≠da"})[s]||s,_=s=>({Pendente:"bg-yellow-100 text-yellow-700",Em_Analise:"bg-blue-100 text-blue-700",Aprovada:"bg-green-100 text-green-700",Rejeitada:"bg-red-100 text-red-700",Cancelada:"bg-slate-100 text-slate-700",Concluida:"bg-green-100 text-green-700"})[s]||"bg-slate-100 text-slate-700",x=s=>s?new Date(s).toLocaleDateString("pt-BR"):"-",i=s=>{console.log("Ver detalhes:",s)};return(s,t)=>{const u=Q("Icon");return d(),m("div",null,[e("div",la,[e("div",na,[B(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>H(w)?w.value=n:null),class:"px-3 py-2 border border-slate-300 rounded-lg text-sm"},[...t[3]||(t[3]=[_e('<option value="todos">Todos os status</option><option value="Pendente">Pendentes</option><option value="Em_Analise">Em An√°lise</option><option value="Aprovada">Aprovadas</option><option value="Rejeitada">Rejeitadas</option><option value="Concluida">Conclu√≠das</option>',6)])],512),[[W,o(w)]])]),e("button",{onClick:t[1]||(t[1]=n=>s.$emit("nova")),class:"px-4 py-2 bg-amber-500 text-slate-900 font-medium rounded-lg hover:bg-amber-400 transition-colors"},[g(u,{name:"heroicons:plus",size:"18",class:"mr-1"}),t[4]||(t[4]=I(" Nova Solicita√ß√£o ",-1))])]),a.loading?(d(),m("div",ra,[g(u,{name:"heroicons:arrow-path",class:"animate-spin text-slate-400",size:"40"}),t[5]||(t[5]=e("p",{class:"text-slate-500 mt-2"},"Carregando solicita√ß√µes...",-1))])):o(f).length>0?(d(),m("div",ia,[(d(!0),m(Y,null,X(o(f),n=>(d(),m("div",{key:n.id,class:"bg-white border border-slate-200 rounded-xl p-4 hover:shadow-md transition-shadow"},[e("div",da,[e("div",ca,[e("div",ua,[e("span",{class:G([v(n.tipo),"px-2 py-1 text-xs font-medium rounded-full"])},l(k(n.tipo)),3),e("span",{class:G([_(n.status),"px-2 py-1 text-xs font-medium rounded-full"])},l(r(n.status)),3),n.prioridade==="Urgente"?(d(),m("span",ma," Urgente ")):T("",!0)]),e("h4",pa,l(n.titulo),1),n.descricao?(d(),m("p",xa,l(n.descricao),1)):T("",!0),e("p",ba," Solicitado em "+l(x(n.data_solicitacao)),1)]),e("button",{onClick:y=>i(n),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg"},[g(u,{name:"heroicons:chevron-right",size:"20"})],8,ga)]),n.resposta||n.motivo_rejeicao?(d(),m("div",fa,[e("p",va," Resposta de "+l(n.respondido?.nome||"RH")+" em "+l(x(n.data_resposta))+": ",1),e("p",_a,l(n.resposta||n.motivo_rejeicao),1)])):T("",!0)]))),128))])):(d(),m("div",ha,[g(u,{name:"heroicons:document-text",class:"text-slate-300 mx-auto",size:"48"}),t[6]||(t[6]=e("p",{class:"text-slate-500 mt-2"},"Nenhuma solicita√ß√£o encontrada",-1)),e("button",{onClick:t[2]||(t[2]=n=>s.$emit("nova")),class:"mt-4 px-4 py-2 bg-amber-500 text-slate-900 font-medium rounded-lg hover:bg-amber-400"}," Criar Primeira Solicita√ß√£o ")]))])}}}),$a=Object.assign(ya,{__name:"EmployeeSolicitacoesTab"}),wa={class:"flex flex-wrap items-center gap-4 mb-6"},Ea=["value"],Ca={key:0,class:"text-center py-12"},ka={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Va={class:"flex items-start gap-3"},Sa={class:"flex-1 min-w-0"},Pa={class:"font-semibold text-slate-800 truncate"},Da={class:"text-sm text-slate-500"},Aa={key:0,class:"text-xs text-slate-400 mt-1"},Ta={class:"text-xs text-slate-400"},Ma={class:"mt-4 flex gap-2"},Ia=["onClick"],Ra=["onClick"],za={key:2,class:"text-center py-12"},ja=O({__name:"EmployeeDocumentosTab",props:{documentos:{},loading:{type:Boolean}},emits:["refresh"],setup(a,{emit:S}){const c=a,w=V(""),f=V(""),k=z(()=>{const n=new Date().getFullYear();return[n,n-1,n-2]}),v=z(()=>{let n=c.documentos;return w.value&&(n=n.filter(y=>y.tipo===w.value)),f.value&&(n=n.filter(y=>y.competencia?.startsWith(f.value)||y.ano_referencia===parseInt(f.value))),n}),r=n=>({holerite:"Holerite",informe_rendimentos:"Informe de Rendimentos",ferias:"Recibo de F√©rias",rescisao:"Rescis√£o",contrato:"Contrato",aditivo:"Aditivo Contratual",advertencia:"Advert√™ncia",certificado:"Certificado",outros:"Outros"})[n]||n,_=n=>({holerite:"heroicons:banknotes",informe_rendimentos:"heroicons:document-chart-bar",ferias:"heroicons:sun",contrato:"heroicons:document-text",certificado:"heroicons:academic-cap"})[n]||"heroicons:document",x=n=>({holerite:"bg-green-100 text-green-600",informe_rendimentos:"bg-blue-100 text-blue-600",ferias:"bg-amber-100 text-amber-600",contrato:"bg-purple-100 text-purple-600",certificado:"bg-indigo-100 text-indigo-600"})[n]||"bg-slate-100 text-slate-600",i=n=>n?new Date(n).toLocaleDateString("pt-BR"):"-",s=n=>{if(!n)return"-";const[y,h]=n.split("-");return`${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(h)-1]}/${y}`},t=n=>{n.arquivo_url&&window.open(n.arquivo_url,"_blank")},u=n=>{if(n.arquivo_url){const y=document.createElement("a");y.href=n.arquivo_url,y.download=n.arquivo_nome||"documento.pdf",y.click()}};return(n,y)=>{const h=Q("Icon");return d(),m("div",null,[e("div",wa,[B(e("select",{"onUpdate:modelValue":y[0]||(y[0]=b=>H(w)?w.value=b:null),class:"px-3 py-2 border border-slate-300 rounded-lg text-sm"},[...y[2]||(y[2]=[_e('<option value="">Todos os tipos</option><option value="holerite">Holerites</option><option value="informe_rendimentos">Informe de Rendimentos</option><option value="ferias">F√©rias</option><option value="contrato">Contrato</option><option value="certificado">Certificados</option><option value="outros">Outros</option>',7)])],512),[[W,o(w)]]),B(e("select",{"onUpdate:modelValue":y[1]||(y[1]=b=>H(f)?f.value=b:null),class:"px-3 py-2 border border-slate-300 rounded-lg text-sm"},[y[3]||(y[3]=e("option",{value:""},"Todos os anos",-1)),(d(!0),m(Y,null,X(o(k),b=>(d(),m("option",{key:b,value:b},l(b),9,Ea))),128))],512),[[W,o(f)]])]),a.loading?(d(),m("div",Ca,[g(h,{name:"heroicons:arrow-path",class:"animate-spin text-slate-400",size:"40"}),y[4]||(y[4]=e("p",{class:"text-slate-500 mt-2"},"Carregando documentos...",-1))])):o(v).length>0?(d(),m("div",ka,[(d(!0),m(Y,null,X(o(v),b=>(d(),m("div",{key:b.id,class:"bg-white border border-slate-200 rounded-xl p-4 hover:shadow-md transition-shadow"},[e("div",Va,[e("div",{class:G([x(b.tipo),"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0"])},[g(h,{name:_(b.tipo),size:"24"},null,8,["name"])],2),e("div",Sa,[e("h4",Pa,l(b.titulo),1),e("p",Da,l(r(b.tipo)),1),b.competencia?(d(),m("p",Aa," Compet√™ncia: "+l(s(b.competencia)),1)):T("",!0),e("p",Ta," Dispon√≠vel em "+l(i(b.created_at)),1)])]),e("div",Ma,[b.arquivo_url?(d(),m("button",{key:0,onClick:P=>t(b),class:"flex-1 px-3 py-2 bg-slate-100 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-200 transition-colors"},[g(h,{name:"heroicons:eye",size:"16",class:"mr-1"}),y[5]||(y[5]=I(" Visualizar ",-1))],8,Ia)):T("",!0),b.arquivo_url?(d(),m("button",{key:1,onClick:P=>u(b),class:"flex-1 px-3 py-2 bg-amber-500 text-slate-900 text-sm font-medium rounded-lg hover:bg-amber-400 transition-colors"},[g(h,{name:"heroicons:arrow-down-tray",size:"16",class:"mr-1"}),y[6]||(y[6]=I(" Baixar ",-1))],8,Ra)):T("",!0)])]))),128))])):(d(),m("div",za,[g(h,{name:"heroicons:folder-open",class:"text-slate-300 mx-auto",size:"48"}),y[7]||(y[7]=e("p",{class:"text-slate-500 mt-2"},"Nenhum documento dispon√≠vel",-1)),y[8]||(y[8]=e("p",{class:"text-sm text-slate-400 mt-1"},"Seus holerites e documentos aparecer√£o aqui",-1))]))])}}}),Oa=Object.assign(ja,{__name:"EmployeeDocumentosTab"}),Ua={key:0,class:"space-y-4"},Ba=["onClick"],La={class:"flex items-start gap-4"},Na={class:"flex-1 min-w-0"},Ha={class:"flex items-center gap-2 mb-1"},Fa={key:0,class:"px-2 py-0.5 text-xs font-medium rounded-full bg-amber-500 text-white"},qa={class:"font-semibold text-slate-800"},Ga={class:"text-sm text-slate-600 mt-1 line-clamp-2"},Ja={class:"text-xs text-slate-400 mt-2"},Ya={key:1,class:"text-center py-12"},Xa={key:0},Qa={class:"flex items-center gap-2 mb-4"},Wa={class:"text-sm text-slate-500"},Ka={class:"prose prose-slate max-w-none"},Za={class:"whitespace-pre-wrap"},el={class:"mt-6 pt-4 border-t border-slate-200"},tl={class:"text-sm text-slate-500"},ol=O({__name:"EmployeeComunicadosTab",props:{comunicados:{}},emits:["ler"],setup(a,{emit:S}){const c=S,w=V(!1),f=V(null),k=s=>{f.value=s,w.value=!0,s.lido||c("ler",s.id)},v=s=>({Informativo:"Informativo",Importante:"Importante",Urgente:"Urgente",Evento:"Evento",Beneficio:"Benef√≠cio"})[s]||s,r=s=>({Informativo:"heroicons:information-circle",Importante:"heroicons:exclamation-circle",Urgente:"heroicons:exclamation-triangle",Evento:"heroicons:calendar",Beneficio:"heroicons:gift"})[s]||"heroicons:megaphone",_=s=>({Informativo:"bg-blue-100 text-blue-600",Importante:"bg-amber-100 text-amber-600",Urgente:"bg-red-100 text-red-600",Evento:"bg-purple-100 text-purple-600",Beneficio:"bg-green-100 text-green-600"})[s]||"bg-slate-100 text-slate-600",x=s=>({Informativo:"bg-blue-100 text-blue-700",Importante:"bg-amber-100 text-amber-700",Urgente:"bg-red-100 text-red-700",Evento:"bg-purple-100 text-purple-700",Beneficio:"bg-green-100 text-green-700"})[s]||"bg-slate-100 text-slate-700",i=s=>s?new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):"-";return(s,t)=>{const u=Q("Icon"),n=ce;return d(),m("div",null,[a.comunicados.length>0?(d(),m("div",Ua,[(d(!0),m(Y,null,X(a.comunicados,y=>(d(),m("div",{key:y.id,class:G(["border rounded-xl p-4 transition-all cursor-pointer",y.lido?"bg-white border-slate-200 hover:shadow-md":"bg-amber-50 border-amber-200 hover:shadow-md"]),onClick:h=>k(y)},[e("div",La,[e("div",{class:G(["w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",_(y.tipo)])},[g(u,{name:r(y.tipo),size:"20"},null,8,["name"])],2),e("div",Na,[e("div",Ha,[e("span",{class:G([x(y.tipo),"px-2 py-0.5 text-xs font-medium rounded-full"])},l(v(y.tipo)),3),y.lido?T("",!0):(d(),m("span",Fa," Novo "))]),e("h4",qa,l(y.titulo),1),e("p",Ga,l(y.conteudo),1),e("p",Ja," Publicado por "+l(y.publicado?.nome||"RH")+" em "+l(i(y.data_publicacao)),1)]),g(u,{name:"heroicons:chevron-right",class:"text-slate-400 flex-shrink-0",size:"20"})])],10,Ba))),128))])):(d(),m("div",Ya,[g(u,{name:"heroicons:bell",class:"text-slate-300 mx-auto",size:"48"}),t[2]||(t[2]=e("p",{class:"text-slate-500 mt-2"},"Nenhum comunicado dispon√≠vel",-1)),t[3]||(t[3]=e("p",{class:"text-sm text-slate-400 mt-1"},"Os comunicados da empresa aparecer√£o aqui",-1))])),g(n,{modelValue:o(w),"onUpdate:modelValue":t[1]||(t[1]=y=>H(w)?w.value=y:null),title:o(f)?.titulo||"Comunicado",size:"lg"},{footer:K(()=>[e("button",{onClick:t[0]||(t[0]=y=>w.value=!1),class:"px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700"}," Fechar ")]),default:K(()=>[o(f)?(d(),m("div",Xa,[e("div",Qa,[e("span",{class:G([x(o(f).tipo),"px-2 py-1 text-xs font-medium rounded-full"])},l(v(o(f).tipo)),3),e("span",Wa,l(i(o(f).data_publicacao)),1)]),e("div",Ka,[e("p",Za,l(o(f).conteudo),1)]),e("div",el,[e("p",tl," Publicado por "+l(o(f).publicado?.nome||"RH"),1)])])):T("",!0)]),_:1},8,["modelValue","title"])])}}}),sl=Object.assign(ol,{__name:"EmployeeComunicadosTab"}),al={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ll={class:"text-xs text-slate-500 mt-2"},nl={class:"flex justify-end gap-3 pt-4 border-t"},rl=["disabled"],il=O({__name:"EmployeeEditDadosPessoaisModal",props:{modelValue:{type:Boolean},colaborador:{}},emits:["update:modelValue","saved"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:_=>w("update:modelValue",_)}),k=V(!1),v=V({telefone:"",sexo:"",estado_civil:""});ae(()=>c.modelValue,_=>{_&&c.colaborador&&(v.value={telefone:c.colaborador.telefone||"",sexo:c.colaborador.sexo||"",estado_civil:c.colaborador.estado_civil||""})});const r=async()=>{k.value=!0;try{await $fetch("/api/funcionario/perfil/dados-pessoais",{method:"PUT",body:v.value}),w("saved"),f.value=!1}catch(_){alert(_.data?.message||"Erro ao salvar")}finally{k.value=!1}};return(_,x)=>{const i=ge,s=Q("Icon"),t=ce;return d(),re(t,{modelValue:o(f),"onUpdate:modelValue":x[4]||(x[4]=u=>H(f)?f.value=u:null),title:"Editar Dados Pessoais",size:"lg"},{default:K(()=>[e("form",{onSubmit:de(r,["prevent"]),class:"space-y-4"},[e("div",al,[g(i,{modelValue:o(v).telefone,"onUpdate:modelValue":x[0]||(x[0]=u=>o(v).telefone=u),label:"Telefone",placeholder:"(00) 00000-0000"},null,8,["modelValue"]),e("div",null,[x[6]||(x[6]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Sexo",-1)),B(e("select",{"onUpdate:modelValue":x[1]||(x[1]=u=>o(v).sexo=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...x[5]||(x[5]=[e("option",{value:""},"Selecione",-1),e("option",{value:"M"},"Masculino",-1),e("option",{value:"F"},"Feminino",-1),e("option",{value:"Outro"},"Outro",-1)])],512),[[W,o(v).sexo]])]),e("div",null,[x[8]||(x[8]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Estado Civil",-1)),B(e("select",{"onUpdate:modelValue":x[2]||(x[2]=u=>o(v).estado_civil=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...x[7]||(x[7]=[e("option",{value:""},"Selecione",-1),e("option",{value:"Solteiro(a)"},"Solteiro(a)",-1),e("option",{value:"Casado(a)"},"Casado(a)",-1),e("option",{value:"Divorciado(a)"},"Divorciado(a)",-1),e("option",{value:"Vi√∫vo(a)"},"Vi√∫vo(a)",-1),e("option",{value:"Uni√£o Est√°vel"},"Uni√£o Est√°vel",-1)])],512),[[W,o(v).estado_civil]])])]),e("p",ll,[g(s,{name:"heroicons:information-circle",class:"inline"}),x[9]||(x[9]=I(" CPF, RG, PIS, Data de Nascimento e Email Corporativo s√≥ podem ser alterados pelo RH. ",-1))]),e("div",nl,[e("button",{type:"button",onClick:x[3]||(x[3]=u=>f.value=!1),class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg"},"Cancelar"),e("button",{type:"submit",disabled:o(k),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(o(k)?"Salvando...":"Salvar"),9,rl)])],32)]),_:1},8,["modelValue"])}}}),dl=Object.assign(il,{__name:"EmployeeEditDadosPessoaisModal"}),cl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ul=["value"],ml={class:"text-xs text-slate-500 mt-2"},pl={class:"flex justify-end gap-3 pt-4 border-t"},xl=["disabled"],bl=O({__name:"EmployeeEditDocumentosModal",props:{modelValue:{type:Boolean},colaborador:{}},emits:["update:modelValue","saved"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:x=>w("update:modelValue",x)}),k=V(!1),v=["A","B","AB","C","D","E","AC","AD","AE"],r=V({cnh:"",cnh_categoria:"",cnh_validade:""});ae(()=>c.modelValue,x=>{x&&c.colaborador&&(r.value={cnh:c.colaborador.cnh||"",cnh_categoria:c.colaborador.cnh_categoria||"",cnh_validade:c.colaborador.cnh_validade?.split("T")[0]||""})});const _=async()=>{k.value=!0;try{await $fetch("/api/funcionario/perfil/documentos",{method:"PUT",body:r.value}),w("saved"),f.value=!1}catch(x){alert(x.data?.message||"Erro ao salvar")}finally{k.value=!1}};return(x,i)=>{const s=ge,t=Oe,u=Q("Icon"),n=ce;return d(),re(n,{modelValue:o(f),"onUpdate:modelValue":i[4]||(i[4]=y=>H(f)?f.value=y:null),title:"Editar Documentos",size:"lg"},{default:K(()=>[e("form",{onSubmit:de(_,["prevent"]),class:"space-y-4"},[e("div",cl,[g(s,{modelValue:o(r).cnh,"onUpdate:modelValue":i[0]||(i[0]=y=>o(r).cnh=y),label:"CNH",placeholder:"N√∫mero da CNH"},null,8,["modelValue"]),e("div",null,[i[6]||(i[6]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Categoria CNH",-1)),B(e("select",{"onUpdate:modelValue":i[1]||(i[1]=y=>o(r).cnh_categoria=y),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[i[5]||(i[5]=e("option",{value:""},"Selecione",-1)),(d(),m(Y,null,X(v,y=>e("option",{key:y,value:y},l(y),9,ul)),64))],512),[[W,o(r).cnh_categoria]])]),g(t,{modelValue:o(r).cnh_validade,"onUpdate:modelValue":i[2]||(i[2]=y=>o(r).cnh_validade=y),label:"Validade CNH"},null,8,["modelValue"])]),e("p",ml,[g(u,{name:"heroicons:information-circle",class:"inline"}),i[7]||(i[7]=I(" CPF, RG e PIS s√≥ podem ser alterados pelo RH. ",-1))]),e("div",pl,[e("button",{type:"button",onClick:i[3]||(i[3]=y=>f.value=!1),class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg"},"Cancelar"),e("button",{type:"submit",disabled:o(k),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(o(k)?"Salvando...":"Salvar"),9,xl)])],32)]),_:1},8,["modelValue"])}}}),gl=Object.assign(bl,{__name:"EmployeeEditDocumentosModal"}),fl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vl=["value"],_l={class:"flex justify-end gap-3 pt-4 border-t"},hl=["disabled"],yl=O({__name:"EmployeeEditEnderecoModal",props:{modelValue:{type:Boolean},colaborador:{}},emits:["update:modelValue","saved"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:i=>w("update:modelValue",i)}),k=V(!1),v=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],r=V({cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""});ae(()=>c.modelValue,i=>{i&&c.colaborador&&(r.value={cep:c.colaborador.cep||"",logradouro:c.colaborador.logradouro||"",numero:c.colaborador.numero||"",complemento:c.colaborador.complemento||"",bairro:c.colaborador.bairro||"",cidade:c.colaborador.cidade||"",estado:c.colaborador.estado||""})});const _=async()=>{const i=r.value.cep.replace(/\D/g,"");if(i.length===8)try{const t=await(await fetch(`https://viacep.com.br/ws/${i}/json/`)).json();t.erro||(r.value.logradouro=t.logradouro||r.value.logradouro,r.value.bairro=t.bairro||r.value.bairro,r.value.cidade=t.localidade||r.value.cidade,r.value.estado=t.uf||r.value.estado)}catch(s){console.error("Erro ao buscar CEP:",s)}},x=async()=>{k.value=!0;try{await $fetch("/api/funcionario/perfil/endereco",{method:"PUT",body:r.value}),w("saved"),f.value=!1}catch(i){alert(i.data?.message||"Erro ao salvar")}finally{k.value=!1}};return(i,s)=>{const t=ge,u=ce;return d(),re(u,{modelValue:o(f),"onUpdate:modelValue":s[8]||(s[8]=n=>H(f)?f.value=n:null),title:"Editar Endere√ßo",size:"lg"},{default:K(()=>[e("form",{onSubmit:de(x,["prevent"]),class:"space-y-4"},[e("div",fl,[g(t,{modelValue:o(r).cep,"onUpdate:modelValue":s[0]||(s[0]=n=>o(r).cep=n),label:"CEP",placeholder:"00000-000",onBlur:_},null,8,["modelValue"]),g(t,{modelValue:o(r).logradouro,"onUpdate:modelValue":s[1]||(s[1]=n=>o(r).logradouro=n),label:"Logradouro",placeholder:"Rua, Avenida..."},null,8,["modelValue"]),g(t,{modelValue:o(r).numero,"onUpdate:modelValue":s[2]||(s[2]=n=>o(r).numero=n),label:"N√∫mero",placeholder:"123"},null,8,["modelValue"]),g(t,{modelValue:o(r).complemento,"onUpdate:modelValue":s[3]||(s[3]=n=>o(r).complemento=n),label:"Complemento",placeholder:"Apto, Bloco..."},null,8,["modelValue"]),g(t,{modelValue:o(r).bairro,"onUpdate:modelValue":s[4]||(s[4]=n=>o(r).bairro=n),label:"Bairro",placeholder:"Bairro"},null,8,["modelValue"]),g(t,{modelValue:o(r).cidade,"onUpdate:modelValue":s[5]||(s[5]=n=>o(r).cidade=n),label:"Cidade",placeholder:"Cidade"},null,8,["modelValue"]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Estado",-1)),B(e("select",{"onUpdate:modelValue":s[6]||(s[6]=n=>o(r).estado=n),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[s[9]||(s[9]=e("option",{value:""},"Selecione",-1)),(d(),m(Y,null,X(v,n=>e("option",{key:n,value:n},l(n),9,vl)),64))],512),[[W,o(r).estado]])])]),e("div",_l,[e("button",{type:"button",onClick:s[7]||(s[7]=n=>f.value=!1),class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg"},"Cancelar"),e("button",{type:"submit",disabled:o(k),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(o(k)?"Salvando...":"Salvar"),9,hl)])],32)]),_:1},8,["modelValue"])}}}),$l=Object.assign(yl,{__name:"EmployeeEditEnderecoModal"}),wl={class:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg"},El={class:"text-sm text-amber-800"},Cl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},kl={class:"flex justify-end gap-3 pt-4 border-t"},Vl=["disabled"],Sl=O({__name:"EmployeeEditDadosBancariosModal",props:{modelValue:{type:Boolean},colaborador:{}},emits:["update:modelValue","saved"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:_=>w("update:modelValue",_)}),k=V(!1),v=V({banco_nome:"",banco_codigo:"",agencia:"",conta:"",tipo_conta:"",pix:""});ae(()=>c.modelValue,_=>{_&&c.colaborador&&(v.value={banco_nome:c.colaborador.banco_nome||"",banco_codigo:c.colaborador.banco_codigo||"",agencia:c.colaborador.agencia||"",conta:c.colaborador.conta||"",tipo_conta:c.colaborador.tipo_conta||"",pix:c.colaborador.pix||""})});const r=async()=>{k.value=!0;try{await $fetch("/api/funcionario/perfil/dados-bancarios",{method:"PUT",body:v.value}),alert("Solicita√ß√£o enviada! Aguarde a aprova√ß√£o do RH."),w("saved"),f.value=!1}catch(_){alert(_.data?.message||"Erro ao enviar solicita√ß√£o")}finally{k.value=!1}};return(_,x)=>{const i=Q("Icon"),s=ge,t=ce;return d(),re(t,{modelValue:o(f),"onUpdate:modelValue":x[7]||(x[7]=u=>H(f)?f.value=u:null),title:"Editar Dados Banc√°rios",size:"lg"},{default:K(()=>[e("div",wl,[e("p",El,[g(i,{name:"heroicons:exclamation-triangle",class:"inline mr-1"}),x[8]||(x[8]=I(" Altera√ß√µes nos dados banc√°rios precisam de aprova√ß√£o do RH antes de serem efetivadas. ",-1))])]),e("form",{onSubmit:de(r,["prevent"]),class:"space-y-4"},[e("div",Cl,[g(s,{modelValue:o(v).banco_nome,"onUpdate:modelValue":x[0]||(x[0]=u=>o(v).banco_nome=u),label:"Nome do Banco",placeholder:"Ex: Banco do Brasil"},null,8,["modelValue"]),g(s,{modelValue:o(v).banco_codigo,"onUpdate:modelValue":x[1]||(x[1]=u=>o(v).banco_codigo=u),label:"C√≥digo do Banco",placeholder:"001"},null,8,["modelValue"]),g(s,{modelValue:o(v).agencia,"onUpdate:modelValue":x[2]||(x[2]=u=>o(v).agencia=u),label:"Ag√™ncia",placeholder:"0000"},null,8,["modelValue"]),g(s,{modelValue:o(v).conta,"onUpdate:modelValue":x[3]||(x[3]=u=>o(v).conta=u),label:"Conta",placeholder:"00000-0"},null,8,["modelValue"]),e("div",null,[x[10]||(x[10]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Tipo de Conta",-1)),B(e("select",{"onUpdate:modelValue":x[4]||(x[4]=u=>o(v).tipo_conta=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...x[9]||(x[9]=[e("option",{value:""},"Selecione",-1),e("option",{value:"corrente"},"Conta Corrente",-1),e("option",{value:"poupanca"},"Conta Poupan√ßa",-1),e("option",{value:"salario"},"Conta Sal√°rio",-1)])],512),[[W,o(v).tipo_conta]])]),g(s,{modelValue:o(v).pix,"onUpdate:modelValue":x[5]||(x[5]=u=>o(v).pix=u),label:"Chave PIX",placeholder:"CPF, Email, Telefone ou Aleat√≥ria"},null,8,["modelValue"])]),e("div",kl,[e("button",{type:"button",onClick:x[6]||(x[6]=u=>f.value=!1),class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg"},"Cancelar"),e("button",{type:"submit",disabled:o(k),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(o(k)?"Enviando...":"Solicitar Altera√ß√£o"),9,Vl)])],32)]),_:1},8,["modelValue"])}}}),Pl=Object.assign(Sl,{__name:"EmployeeEditDadosBancariosModal"}),Dl={class:"p-4 bg-slate-50 rounded-lg"},Al={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Tl=["value"],Ml={class:"p-4 bg-slate-50 rounded-lg"},Il={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Rl=["value"],zl={class:"p-4 bg-slate-50 rounded-lg"},jl={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Ol=["value"],Ul={class:"flex justify-end gap-3 pt-4 border-t"},Bl=["disabled"],Ll=O({__name:"EmployeeEditContatoEmergenciaModal",props:{modelValue:{type:Boolean},colaborador:{}},emits:["update:modelValue","saved"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:x=>w("update:modelValue",x)}),k=V(!1),v=["Pai","M√£e","C√¥njuge","Filho(a)","Irm√£o(√£)","Av√¥(√≥)","Tio(a)","Primo(a)","Amigo(a)","Outro"],r=V({contato_emergencia_nome:"",contato_emergencia_parentesco:"",contato_emergencia_telefone:"",contato_emergencia_2_nome:"",contato_emergencia_2_parentesco:"",contato_emergencia_2_telefone:"",contato_emergencia_3_nome:"",contato_emergencia_3_parentesco:"",contato_emergencia_3_telefone:""});ae(()=>c.modelValue,x=>{x&&c.colaborador&&(r.value={contato_emergencia_nome:c.colaborador.contato_emergencia_nome||"",contato_emergencia_parentesco:c.colaborador.contato_emergencia_parentesco||"",contato_emergencia_telefone:c.colaborador.contato_emergencia_telefone||"",contato_emergencia_2_nome:c.colaborador.contato_emergencia_2_nome||"",contato_emergencia_2_parentesco:c.colaborador.contato_emergencia_2_parentesco||"",contato_emergencia_2_telefone:c.colaborador.contato_emergencia_2_telefone||"",contato_emergencia_3_nome:c.colaborador.contato_emergencia_3_nome||"",contato_emergencia_3_parentesco:c.colaborador.contato_emergencia_3_parentesco||"",contato_emergencia_3_telefone:c.colaborador.contato_emergencia_3_telefone||""})});const _=async()=>{k.value=!0;try{await $fetch("/api/funcionario/perfil/contato-emergencia",{method:"PUT",body:r.value}),w("saved"),f.value=!1}catch(x){alert(x.data?.message||"Erro ao salvar")}finally{k.value=!1}};return(x,i)=>{const s=ge,t=ce;return d(),re(t,{modelValue:o(f),"onUpdate:modelValue":i[10]||(i[10]=u=>H(f)?f.value=u:null),title:"Editar Contatos de Emerg√™ncia",size:"lg"},{default:K(()=>[e("form",{onSubmit:de(_,["prevent"]),class:"space-y-6"},[e("div",Dl,[i[13]||(i[13]=e("h4",{class:"font-medium text-slate-800 mb-3"},"Contato Principal",-1)),e("div",Al,[g(s,{modelValue:o(r).contato_emergencia_nome,"onUpdate:modelValue":i[0]||(i[0]=u=>o(r).contato_emergencia_nome=u),label:"Nome",placeholder:"Nome completo"},null,8,["modelValue"]),e("div",null,[i[12]||(i[12]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Parentesco",-1)),B(e("select",{"onUpdate:modelValue":i[1]||(i[1]=u=>o(r).contato_emergencia_parentesco=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[i[11]||(i[11]=e("option",{value:""},"Selecione",-1)),(d(),m(Y,null,X(v,u=>e("option",{key:u,value:u},l(u),9,Tl)),64))],512),[[W,o(r).contato_emergencia_parentesco]])]),g(s,{modelValue:o(r).contato_emergencia_telefone,"onUpdate:modelValue":i[2]||(i[2]=u=>o(r).contato_emergencia_telefone=u),label:"Telefone",placeholder:"(00) 00000-0000"},null,8,["modelValue"])])]),e("div",Ml,[i[16]||(i[16]=e("h4",{class:"font-medium text-slate-800 mb-3"},"Contato 2 (Opcional)",-1)),e("div",Il,[g(s,{modelValue:o(r).contato_emergencia_2_nome,"onUpdate:modelValue":i[3]||(i[3]=u=>o(r).contato_emergencia_2_nome=u),label:"Nome",placeholder:"Nome completo"},null,8,["modelValue"]),e("div",null,[i[15]||(i[15]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Parentesco",-1)),B(e("select",{"onUpdate:modelValue":i[4]||(i[4]=u=>o(r).contato_emergencia_2_parentesco=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[i[14]||(i[14]=e("option",{value:""},"Selecione",-1)),(d(),m(Y,null,X(v,u=>e("option",{key:u,value:u},l(u),9,Rl)),64))],512),[[W,o(r).contato_emergencia_2_parentesco]])]),g(s,{modelValue:o(r).contato_emergencia_2_telefone,"onUpdate:modelValue":i[5]||(i[5]=u=>o(r).contato_emergencia_2_telefone=u),label:"Telefone",placeholder:"(00) 00000-0000"},null,8,["modelValue"])])]),e("div",zl,[i[19]||(i[19]=e("h4",{class:"font-medium text-slate-800 mb-3"},"Contato 3 (Opcional)",-1)),e("div",jl,[g(s,{modelValue:o(r).contato_emergencia_3_nome,"onUpdate:modelValue":i[6]||(i[6]=u=>o(r).contato_emergencia_3_nome=u),label:"Nome",placeholder:"Nome completo"},null,8,["modelValue"]),e("div",null,[i[18]||(i[18]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Parentesco",-1)),B(e("select",{"onUpdate:modelValue":i[7]||(i[7]=u=>o(r).contato_emergencia_3_parentesco=u),class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[i[17]||(i[17]=e("option",{value:""},"Selecione",-1)),(d(),m(Y,null,X(v,u=>e("option",{key:u,value:u},l(u),9,Ol)),64))],512),[[W,o(r).contato_emergencia_3_parentesco]])]),g(s,{modelValue:o(r).contato_emergencia_3_telefone,"onUpdate:modelValue":i[8]||(i[8]=u=>o(r).contato_emergencia_3_telefone=u),label:"Telefone",placeholder:"(00) 00000-0000"},null,8,["modelValue"])])]),e("div",Ul,[e("button",{type:"button",onClick:i[9]||(i[9]=u=>f.value=!1),class:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg"},"Cancelar"),e("button",{type:"submit",disabled:o(k),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(o(k)?"Salvando...":"Salvar"),9,Bl)])],32)]),_:1},8,["modelValue"])}}}),Nl=Object.assign(Ll,{__name:"EmployeeEditContatoEmergenciaModal"}),Hl={key:0,class:"space-y-6"},Fl={class:"flex flex-col md:flex-row items-start gap-6"},ql={class:"w-32 h-32 bg-slate-200 rounded-xl flex items-center justify-center overflow-hidden"},Gl=["src","alt"],Jl={class:"flex-1"},Yl={class:"text-2xl font-bold text-slate-800"},Xl={class:"text-lg text-slate-600"},Ql={class:"text-slate-500"},Wl={class:"flex items-center gap-4 mt-3"},Kl={class:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full"},Zl={key:0,class:"text-sm text-slate-500"},en={class:"bg-slate-50 rounded-xl p-6"},tn={class:"flex items-center justify-between mb-4"},on={class:"text-lg font-semibold text-slate-800 flex items-center gap-2"},sn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},an={class:"text-slate-800"},ln={class:"text-slate-800"},nn={class:"text-slate-800"},rn={class:"text-slate-800"},dn={class:"text-slate-800"},cn={class:"text-slate-800"},un={class:"text-slate-800"},mn={class:"text-slate-800"},pn={class:"bg-slate-50 rounded-xl p-6"},xn={class:"flex items-center justify-between mb-4"},bn={class:"text-lg font-semibold text-slate-800 flex items-center gap-2"},gn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},fn={class:"text-slate-800"},vn={class:"text-slate-800"},_n={class:"text-slate-800"},hn={class:"bg-slate-50 rounded-xl p-6"},yn={class:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2"},$n={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},wn={class:"text-slate-800"},En={class:"text-slate-800"},Cn={class:"text-slate-800"},kn={class:"text-slate-800"},Vn={class:"text-slate-800"},Sn={class:"text-slate-800"},Pn={class:"text-slate-800"},Dn={class:"bg-slate-50 rounded-xl p-6"},An={class:"flex items-center justify-between mb-4"},Tn={class:"text-lg font-semibold text-slate-800 flex items-center gap-2"},Mn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},In={class:"text-slate-800"},Rn={class:"text-slate-800"},zn={class:"text-slate-800"},jn={class:"text-slate-800"},On={class:"text-slate-800"},Un={class:"text-slate-800"},Bn={class:"text-slate-800"},Ln={class:"bg-slate-50 rounded-xl p-6"},Nn={class:"flex items-center justify-between mb-4"},Hn={class:"text-lg font-semibold text-slate-800 flex items-center gap-2"},Fn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qn={class:"text-slate-800"},Gn={class:"text-slate-800"},Jn={class:"text-slate-800"},Yn={class:"text-slate-800"},Xn={class:"text-slate-800"},Qn={class:"bg-slate-50 rounded-xl p-6"},Wn={class:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2"},Kn={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Zn={class:"text-slate-800"},er={class:"text-slate-800"},tr={class:"text-slate-800"},or={class:"text-slate-800"},sr={class:"text-slate-800"},ar={class:"bg-slate-50 rounded-xl p-6"},lr={class:"flex items-center justify-between mb-4"},nr={class:"text-lg font-semibold text-slate-800 flex items-center gap-2"},rr={key:0,class:"mb-4 p-3 bg-white rounded-lg"},ir={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},dr={class:"text-slate-600"},cr={class:"text-slate-500"},ur={class:"text-slate-500"},mr={key:1,class:"mb-4 p-3 bg-white rounded-lg"},pr={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},xr={class:"text-slate-600"},br={class:"text-slate-500"},gr={class:"text-slate-500"},fr={key:2,class:"p-3 bg-white rounded-lg"},vr={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},_r={class:"text-slate-600"},hr={class:"text-slate-500"},yr={class:"text-slate-500"},$r={key:3,class:"text-slate-500 text-sm"},wr={key:1,class:"text-center py-12"},Er=O({__name:"EmployeePerfilTab",props:{perfil:{}},emits:["refresh"],setup(a){const S=V(!1),c=V(!1),w=V(!1),f=V(!1),k=V(!1),v=s=>{if(!s)return"-";const[t,u,n]=s.split("T")[0].split("-");return new Date(parseInt(t),parseInt(u)-1,parseInt(n)).toLocaleDateString("pt-BR")},r=s=>{if(!s)return"-";const t=s.replace(/\D/g,"");return t.length!==11?s:t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")},_=s=>!s&&s!==0?"-":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),x=s=>({M:"Masculino",F:"Feminino",Outro:"Outro"})[s]||"-",i=s=>s||"-";return(s,t)=>{const u=Q("Icon"),n=dl,y=gl,h=$l,b=Pl,P=Nl;return d(),m("div",null,[a.perfil?.colaborador?(d(),m("div",Hl,[e("div",Fl,[e("div",ql,[a.perfil.colaborador.foto_url?(d(),m("img",{key:0,src:a.perfil.colaborador.foto_url,alt:a.perfil.colaborador.nome,class:"w-full h-full object-cover"},null,8,Gl)):(d(),re(u,{key:1,name:"heroicons:user",class:"text-slate-400",size:"48"}))]),e("div",Jl,[e("h3",Yl,l(a.perfil.colaborador.nome),1),e("p",Xl,l(a.perfil.colaborador.cargo?.nome||"-"),1),e("p",Ql,l(a.perfil.colaborador.departamento?.nome||"-"),1),e("div",Wl,[e("span",Kl,l(a.perfil.colaborador.status||"Ativo"),1),a.perfil.colaborador.matricula?(d(),m("span",Zl,"Matr√≠cula: "+l(a.perfil.colaborador.matricula),1)):T("",!0)])])]),e("div",en,[e("div",tn,[e("h4",on,[g(u,{name:"heroicons:user-circle",class:"text-slate-600",size:"20"}),t[15]||(t[15]=I(" Dados Pessoais ",-1))]),e("button",{onClick:t[0]||(t[0]=p=>S.value=!0),class:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1"},[g(u,{name:"heroicons:pencil",size:"16"}),t[16]||(t[16]=I("Editar ",-1))])]),e("div",sn,[e("div",null,[t[17]||(t[17]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"CPF",-1)),e("p",an,l(r(a.perfil.colaborador.cpf)),1)]),e("div",null,[t[18]||(t[18]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"RG",-1)),e("p",ln,l(a.perfil.colaborador.rg||"-"),1)]),e("div",null,[t[19]||(t[19]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"PIS",-1)),e("p",nn,l(a.perfil.colaborador.pis||"-"),1)]),e("div",null,[t[20]||(t[20]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Data de Nascimento",-1)),e("p",rn,l(v(a.perfil.colaborador.data_nascimento)),1)]),e("div",null,[t[21]||(t[21]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Sexo",-1)),e("p",dn,l(x(a.perfil.colaborador.sexo)),1)]),e("div",null,[t[22]||(t[22]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Estado Civil",-1)),e("p",cn,l(i(a.perfil.colaborador.estado_civil)),1)]),e("div",null,[t[23]||(t[23]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Telefone",-1)),e("p",un,l(a.perfil.colaborador.telefone||"-"),1)]),e("div",null,[t[24]||(t[24]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Email Corporativo",-1)),e("p",mn,l(a.perfil.colaborador.email_corporativo||"-"),1)])])]),e("div",pn,[e("div",xn,[e("h4",bn,[g(u,{name:"heroicons:document-text",class:"text-slate-600",size:"20"}),t[25]||(t[25]=I(" Documentos ",-1))]),e("button",{onClick:t[1]||(t[1]=p=>c.value=!0),class:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1"},[g(u,{name:"heroicons:pencil",size:"16"}),t[26]||(t[26]=I("Editar ",-1))])]),e("div",gn,[e("div",null,[t[27]||(t[27]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"CNH",-1)),e("p",fn,l(a.perfil.colaborador.cnh||"-"),1)]),e("div",null,[t[28]||(t[28]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Categoria CNH",-1)),e("p",vn,l(a.perfil.colaborador.cnh_categoria||"-"),1)]),e("div",null,[t[29]||(t[29]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Validade CNH",-1)),e("p",_n,l(v(a.perfil.colaborador.cnh_validade)),1)])])]),e("div",hn,[e("h4",yn,[g(u,{name:"heroicons:briefcase",class:"text-slate-600",size:"20"}),t[30]||(t[30]=I(" Dados Profissionais ",-1))]),e("div",$n,[e("div",null,[t[31]||(t[31]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Matr√≠cula",-1)),e("p",wn,l(a.perfil.colaborador.matricula||"-"),1)]),e("div",null,[t[32]||(t[32]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Cargo",-1)),e("p",En,l(a.perfil.colaborador.cargo?.nome||"-"),1)]),e("div",null,[t[33]||(t[33]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Departamento",-1)),e("p",Cn,l(a.perfil.colaborador.departamento?.nome||"-"),1)]),e("div",null,[t[34]||(t[34]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Data de Admiss√£o",-1)),e("p",kn,l(v(a.perfil.colaborador.data_admissao)),1)]),e("div",null,[t[35]||(t[35]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Tipo de Contrato",-1)),e("p",Vn,l(a.perfil.colaborador.tipo_contrato||"-"),1)]),e("div",null,[t[36]||(t[36]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Jornada",-1)),e("p",Sn,l(a.perfil.colaborador.jornada?.nome||a.perfil.colaborador.carga_horaria+"h semanais"||"-"),1)]),e("div",null,[t[37]||(t[37]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Sal√°rio",-1)),e("p",Pn,l(_(a.perfil.colaborador.salario)),1)])])]),e("div",Dn,[e("div",An,[e("h4",Tn,[g(u,{name:"heroicons:map-pin",class:"text-slate-600",size:"20"}),t[38]||(t[38]=I(" Endere√ßo ",-1))]),e("button",{onClick:t[2]||(t[2]=p=>w.value=!0),class:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1"},[g(u,{name:"heroicons:pencil",size:"16"}),t[39]||(t[39]=I("Editar ",-1))])]),e("div",Mn,[e("div",null,[t[40]||(t[40]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"CEP",-1)),e("p",In,l(a.perfil.colaborador.cep||"-"),1)]),e("div",null,[t[41]||(t[41]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Logradouro",-1)),e("p",Rn,l(a.perfil.colaborador.logradouro||"-"),1)]),e("div",null,[t[42]||(t[42]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"N√∫mero",-1)),e("p",zn,l(a.perfil.colaborador.numero||"-"),1)]),e("div",null,[t[43]||(t[43]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Complemento",-1)),e("p",jn,l(a.perfil.colaborador.complemento||"-"),1)]),e("div",null,[t[44]||(t[44]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Bairro",-1)),e("p",On,l(a.perfil.colaborador.bairro||"-"),1)]),e("div",null,[t[45]||(t[45]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Cidade",-1)),e("p",Un,l(a.perfil.colaborador.cidade||"-"),1)]),e("div",null,[t[46]||(t[46]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Estado",-1)),e("p",Bn,l(a.perfil.colaborador.estado||"-"),1)])])]),e("div",Ln,[e("div",Nn,[e("h4",Hn,[g(u,{name:"heroicons:banknotes",class:"text-slate-600",size:"20"}),t[47]||(t[47]=I(" Dados Banc√°rios ",-1)),t[48]||(t[48]=e("span",{class:"text-xs font-normal text-amber-600 bg-amber-100 px-2 py-0.5 rounded"},"Requer aprova√ß√£o",-1))]),e("button",{onClick:t[3]||(t[3]=p=>f.value=!0),class:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1"},[g(u,{name:"heroicons:pencil",size:"16"}),t[49]||(t[49]=I("Editar ",-1))])]),e("div",Fn,[e("div",null,[t[50]||(t[50]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Banco",-1)),e("p",qn,l(a.perfil.colaborador.banco_nome||"-"),1)]),e("div",null,[t[51]||(t[51]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Ag√™ncia",-1)),e("p",Gn,l(a.perfil.colaborador.agencia||"-"),1)]),e("div",null,[t[52]||(t[52]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Conta",-1)),e("p",Jn,l(a.perfil.colaborador.conta||"-"),1)]),e("div",null,[t[53]||(t[53]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Tipo de Conta",-1)),e("p",Yn,l(a.perfil.colaborador.tipo_conta||"-"),1)]),e("div",null,[t[54]||(t[54]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"PIX",-1)),e("p",Xn,l(a.perfil.colaborador.pix||"-"),1)])])]),e("div",Qn,[e("h4",Wn,[g(u,{name:"heroicons:gift",class:"text-slate-600",size:"20"}),t[55]||(t[55]=I(" Benef√≠cios ",-1))]),e("div",Kn,[e("div",null,[t[56]||(t[56]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Vale Transporte",-1)),e("p",Zn,l(a.perfil.colaborador.recebe_vt?_(a.perfil.colaborador.valor_vt):"N√£o"),1)]),e("div",null,[t[57]||(t[57]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Vale Alimenta√ß√£o",-1)),e("p",er,l(a.perfil.colaborador.recebe_va?_(a.perfil.colaborador.valor_va):"N√£o"),1)]),e("div",null,[t[58]||(t[58]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Vale Refei√ß√£o",-1)),e("p",tr,l(a.perfil.colaborador.recebe_vr?_(a.perfil.colaborador.valor_vr):"N√£o"),1)]),e("div",null,[t[59]||(t[59]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Plano de Sa√∫de",-1)),e("p",or,l(a.perfil.colaborador.plano_saude?"Sim":"N√£o"),1)]),e("div",null,[t[60]||(t[60]=e("p",{class:"text-xs text-slate-500 uppercase font-medium"},"Plano Odontol√≥gico",-1)),e("p",sr,l(a.perfil.colaborador.plano_odonto?"Sim":"N√£o"),1)])])]),e("div",ar,[e("div",lr,[e("h4",nr,[g(u,{name:"heroicons:phone",class:"text-slate-600",size:"20"}),t[61]||(t[61]=I(" Contatos de Emerg√™ncia ",-1))]),e("button",{onClick:t[4]||(t[4]=p=>k.value=!0),class:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1"},[g(u,{name:"heroicons:pencil",size:"16"}),t[62]||(t[62]=I("Editar ",-1))])]),a.perfil.colaborador.contato_emergencia_nome?(d(),m("div",rr,[t[63]||(t[63]=e("p",{class:"text-xs text-slate-500 uppercase font-medium mb-1"},"Contato Principal",-1)),e("div",ir,[e("div",null,[e("span",dr,l(a.perfil.colaborador.contato_emergencia_nome),1)]),e("div",null,[e("span",cr,l(a.perfil.colaborador.contato_emergencia_parentesco||"-"),1)]),e("div",null,[e("span",ur,l(a.perfil.colaborador.contato_emergencia_telefone||"-"),1)])])])):T("",!0),a.perfil.colaborador.contato_emergencia_2_nome?(d(),m("div",mr,[t[64]||(t[64]=e("p",{class:"text-xs text-slate-500 uppercase font-medium mb-1"},"Contato 2",-1)),e("div",pr,[e("div",null,[e("span",xr,l(a.perfil.colaborador.contato_emergencia_2_nome),1)]),e("div",null,[e("span",br,l(a.perfil.colaborador.contato_emergencia_2_parentesco||"-"),1)]),e("div",null,[e("span",gr,l(a.perfil.colaborador.contato_emergencia_2_telefone||"-"),1)])])])):T("",!0),a.perfil.colaborador.contato_emergencia_3_nome?(d(),m("div",fr,[t[65]||(t[65]=e("p",{class:"text-xs text-slate-500 uppercase font-medium mb-1"},"Contato 3",-1)),e("div",vr,[e("div",null,[e("span",_r,l(a.perfil.colaborador.contato_emergencia_3_nome),1)]),e("div",null,[e("span",hr,l(a.perfil.colaborador.contato_emergencia_3_parentesco||"-"),1)]),e("div",null,[e("span",yr,l(a.perfil.colaborador.contato_emergencia_3_telefone||"-"),1)])])])):T("",!0),a.perfil.colaborador.contato_emergencia_nome?T("",!0):(d(),m("p",$r,"Nenhum contato de emerg√™ncia cadastrado"))])])):(d(),m("div",wr,[g(u,{name:"heroicons:user-circle",class:"text-slate-300 mx-auto",size:"64"}),t[66]||(t[66]=e("h3",{class:"text-lg font-semibold text-slate-800 mt-4"},"Perfil n√£o vinculado",-1)),t[67]||(t[67]=e("p",{class:"text-slate-500 mt-2"},"Seu usu√°rio ainda n√£o est√° vinculado a um cadastro de colaborador.",-1)),t[68]||(t[68]=e("p",{class:"text-sm text-slate-400 mt-1"},"Entre em contato com o RH para regularizar seu cadastro.",-1))])),g(n,{modelValue:o(S),"onUpdate:modelValue":t[5]||(t[5]=p=>H(S)?S.value=p:null),colaborador:a.perfil?.colaborador,onSaved:t[6]||(t[6]=p=>s.$emit("refresh"))},null,8,["modelValue","colaborador"]),g(y,{modelValue:o(c),"onUpdate:modelValue":t[7]||(t[7]=p=>H(c)?c.value=p:null),colaborador:a.perfil?.colaborador,onSaved:t[8]||(t[8]=p=>s.$emit("refresh"))},null,8,["modelValue","colaborador"]),g(h,{modelValue:o(w),"onUpdate:modelValue":t[9]||(t[9]=p=>H(w)?w.value=p:null),colaborador:a.perfil?.colaborador,onSaved:t[10]||(t[10]=p=>s.$emit("refresh"))},null,8,["modelValue","colaborador"]),g(b,{modelValue:o(f),"onUpdate:modelValue":t[11]||(t[11]=p=>H(f)?f.value=p:null),colaborador:a.perfil?.colaborador,onSaved:t[12]||(t[12]=p=>s.$emit("refresh"))},null,8,["modelValue","colaborador"]),g(P,{modelValue:o(k),"onUpdate:modelValue":t[13]||(t[13]=p=>H(k)?k.value=p:null),colaborador:a.perfil?.colaborador,onSaved:t[14]||(t[14]=p=>s.$emit("refresh"))},null,8,["modelValue","colaborador"])])}}}),Cr=Object.assign(Er,{__name:"EmployeePerfilTab"}),kr={class:"bg-white rounded-lg sm:rounded-xl border border-slate-200 shadow-sm overflow-hidden"},Vr={class:"border-b border-slate-200"},Sr={class:"flex overflow-x-auto scrollbar-hide",style:{"-webkit-overflow-scrolling":"touch"}},Pr=["onClick"],Dr={class:"hidden xs:inline sm:inline"},Ar={class:"xs:hidden sm:hidden"},Tr={key:0,class:"ml-0.5 sm:ml-1 px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs rounded-full bg-amber-100 text-amber-700"},Mr={class:"p-3 sm:p-4 md:p-6"},Ir=O({__name:"EmployeeTabsContainer",props:{tabs:{},modelValue:{}},emits:["change"],setup(a){return(S,c)=>{const w=Q("Icon");return d(),m("div",kr,[e("div",Vr,[e("nav",Sr,[(d(!0),m(Y,null,X(a.tabs,f=>(d(),m("button",{key:f.id,onClick:k=>S.$emit("change",f.id),class:G(["flex items-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm font-medium border-b-2 transition-colors whitespace-nowrap min-w-fit touch-manipulation",a.modelValue===f.id?"border-amber-500 text-amber-600 bg-amber-50":"border-transparent text-slate-600 hover:text-slate-800 hover:bg-slate-50 active:bg-slate-100"])},[g(w,{name:f.icon,class:"w-4 h-4 sm:w-[18px] sm:h-[18px]"},null,8,["name"]),e("span",Dr,l(f.label),1),e("span",Ar,l(f.shortLabel||f.label.split(" ")[0]),1),f.count?(d(),m("span",Tr,l(f.count),1)):T("",!0)],10,Pr))),128))])]),e("div",Mr,[Se(S.$slots,"default")])])}}}),Rr=Object.assign(Ir,{__name:"EmployeeTabsContainer"}),zr={class:"flex gap-4"},jr={class:"flex items-center gap-2 cursor-pointer"},Or={class:"flex items-center gap-2 cursor-pointer"},Ur={class:"flex items-center gap-2 cursor-pointer"},Br={class:"flex items-center gap-2 cursor-pointer"},Lr={key:0,class:"bg-amber-50 rounded-lg p-4"},Nr={class:"text-sm text-amber-800"},Hr={key:1,class:"bg-blue-50 rounded-lg p-4"},Fr={class:"text-sm text-blue-800"},qr={class:"flex gap-3"},Gr=["disabled"],Jr={key:0,class:"flex items-center gap-2"},Yr={key:1},Xr=O({__name:"EmployeeSolicitacaoModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit"],setup(a,{emit:S}){const c=a,w=S,f=z({get:()=>c.modelValue,set:i=>w("update:modelValue",i)}),k=V(!1),v=V({tipo:"",titulo:"",descricao:"",prioridade:"Normal"}),r=z(()=>v.value.tipo&&v.value.titulo),_=()=>{r.value&&(k.value=!0,w("submit",{...v.value}),setTimeout(()=>{k.value=!1,x()},500))},x=()=>{v.value={tipo:"",titulo:"",descricao:"",prioridade:"Normal"}};return ae(f,i=>{i||x()}),(i,s)=>{const t=Q("Icon"),u=ce;return d(),re(u,{modelValue:o(f),"onUpdate:modelValue":s[8]||(s[8]=n=>H(f)?f.value=n:null),title:"Nova Solicita√ß√£o",size:"lg"},{footer:K(()=>[e("div",qr,[e("button",{type:"button",onClick:s[7]||(s[7]=n=>f.value=!1),class:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors"}," Cancelar "),e("button",{onClick:_,disabled:!o(r)||o(k),class:"px-4 py-2 bg-amber-500 text-slate-900 font-medium rounded-lg hover:bg-amber-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[o(k)?(d(),m("span",Jr,[g(t,{name:"heroicons:arrow-path",class:"animate-spin",size:"18"}),s[20]||(s[20]=I(" Enviando... ",-1))])):(d(),m("span",Yr,"Enviar Solicita√ß√£o"))],8,Gr)])]),default:K(()=>[e("form",{onSubmit:de(_,["prevent"]),class:"space-y-4"},[e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Tipo de Solicita√ß√£o *",-1)),B(e("select",{"onUpdate:modelValue":s[0]||(s[0]=n=>o(v).tipo=n),required:"",class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"},[...s[9]||(s[9]=[e("option",{value:""},"Selecione o tipo",-1),e("option",{value:"ferias"},"F√©rias",-1),e("option",{value:"abono"},"Abono",-1),e("option",{value:"atestado"},"Atestado M√©dico",-1),e("option",{value:"declaracao"},"Declara√ß√£o",-1),e("option",{value:"alteracao_dados"},"Altera√ß√£o de Dados Cadastrais",-1),e("option",{value:"holerite"},"Segunda Via de Holerite",-1),e("option",{value:"informe_rendimentos"},"Informe de Rendimentos",-1),e("option",{value:"carta_referencia"},"Carta de Refer√™ncia",-1),e("option",{value:"outros"},"Outros",-1)])],512),[[W,o(v).tipo]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"T√≠tulo *",-1)),B(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>o(v).titulo=n),type:"text",required:"",placeholder:"Descreva brevemente sua solicita√ß√£o",class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"},null,512),[[we,o(v).titulo]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Descri√ß√£o",-1)),B(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=n=>o(v).descricao=n),rows:"4",placeholder:"Forne√ßa mais detalhes sobre sua solicita√ß√£o...",class:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none"},null,512),[[we,o(v).descricao]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Prioridade",-1)),e("div",zr,[e("label",jr,[B(e("input",{type:"radio","onUpdate:modelValue":s[3]||(s[3]=n=>o(v).prioridade=n),value:"Baixa",class:"text-amber-500 focus:ring-amber-500"},null,512),[[fe,o(v).prioridade]]),s[13]||(s[13]=e("span",{class:"text-sm text-slate-600"},"Baixa",-1))]),e("label",Or,[B(e("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=n=>o(v).prioridade=n),value:"Normal",class:"text-amber-500 focus:ring-amber-500"},null,512),[[fe,o(v).prioridade]]),s[14]||(s[14]=e("span",{class:"text-sm text-slate-600"},"Normal",-1))]),e("label",Ur,[B(e("input",{type:"radio","onUpdate:modelValue":s[5]||(s[5]=n=>o(v).prioridade=n),value:"Alta",class:"text-amber-500 focus:ring-amber-500"},null,512),[[fe,o(v).prioridade]]),s[15]||(s[15]=e("span",{class:"text-sm text-slate-600"},"Alta",-1))]),e("label",Br,[B(e("input",{type:"radio","onUpdate:modelValue":s[6]||(s[6]=n=>o(v).prioridade=n),value:"Urgente",class:"text-amber-500 focus:ring-amber-500"},null,512),[[fe,o(v).prioridade]]),s[16]||(s[16]=e("span",{class:"text-sm text-red-600 font-medium"},"Urgente",-1))])])]),o(v).tipo==="ferias"?(d(),m("div",Lr,[e("p",Nr,[g(t,{name:"heroicons:information-circle",size:"16",class:"inline mr-1"}),s[18]||(s[18]=I(" Para solicita√ß√£o de f√©rias, utilize o m√≥dulo espec√≠fico de F√©rias no menu principal. ",-1))])])):T("",!0),o(v).tipo==="atestado"?(d(),m("div",Hr,[e("p",Fr,[g(t,{name:"heroicons:information-circle",size:"16",class:"inline mr-1"}),s[19]||(s[19]=I(" Lembre-se de anexar o atestado m√©dico digitalizado ap√≥s criar a solicita√ß√£o. ",-1))])])):T("",!0)],32)]),_:1},8,["modelValue"])}}}),Qr=Object.assign(Xr,{__name:"EmployeeSolicitacaoModal"}),Wr=()=>{const a=V(null),S=V([]),c=V([]),w=V([]),f=V([]),k=V({banco_horas:"00:00",dias_ferias:0,solicitacoes_pendentes:0,documentos_novos:0,comunicados_nao_lidos:0}),v=V(!1),r=V(null),_=async()=>{try{const $=await $fetch("/api/funcionario/perfil");a.value=$}catch($){console.error("Erro ao buscar perfil:",$),r.value=$.message}},x=async()=>{try{const $=await $fetch("/api/funcionario/stats");k.value=$}catch($){console.error("Erro ao buscar stats:",$)}},i=async $=>{v.value=!0;try{const D=new URLSearchParams;$?.status&&D.append("status",$.status),$?.tipo&&D.append("tipo",$.tipo);const N=await $fetch(`/api/funcionario/solicitacoes?${D}`);S.value=N}catch(D){console.error("Erro ao buscar solicita√ß√µes:",D),r.value=D.message}finally{v.value=!1}},s=async $=>{v.value=!0;try{const D=await $fetch("/api/funcionario/solicitacoes",{method:"POST",body:$});return await i(),await x(),D}catch(D){throw r.value=D.message,D}finally{v.value=!1}},t=async($,D)=>{v.value=!0;try{const N=new URLSearchParams;$&&N.append("mes",$.toString()),D&&N.append("ano",D.toString()),N.append("_t",Date.now().toString()),console.log("üîç [FETCH PONTO] Buscando registros para:",{mes:$,ano:D}),console.log("üîç [FETCH PONTO] URL:",`/api/funcionario/ponto?${N}`);const Z=await $fetch(`/api/funcionario/ponto?${N}`,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(console.log("üîÑ [FETCH PONTO] Registros recebidos:",Z?.length||0),Z&&Z.length>0){console.log("üìä [FETCH PONTO] Primeiros 3 registros recebidos:"),Z.slice(0,3).forEach((J,ie)=>{console.log(`  ${ie+1}. Data: ${J.data} | Entrada: ${J.entrada_1} | Sa√≠da: ${J.saida_2||J.saida_1}`)});const ue=Z.filter(J=>J.data&&J.data.includes("2024-11"));ue.length>0&&(console.log("‚ö†Ô∏è [FETCH PONTO] PROBLEMA: API retornou registros de novembro:"),ue.forEach(J=>{console.log(`    ${J.data} - ${J.entrada_1} - ${J.saida_2||J.saida_1}`)}))}c.value=Z}catch(N){console.error("Erro ao buscar ponto:",N),r.value=N.message}finally{v.value=!1}},u=async $=>{v.value=!0;try{const D=await $fetch("/api/funcionario/ponto/registrar",{method:"POST",body:$||{}});return await t(),D}catch(D){throw r.value=D.message,D}finally{v.value=!1}},n=async $=>{v.value=!0;try{const D=new URLSearchParams;$?.tipo&&D.append("tipo",$.tipo),$?.ano&&D.append("ano",$.ano);const N=await $fetch(`/api/funcionario/documentos?${D}`);w.value=N}catch(D){console.error("Erro ao buscar documentos:",D),r.value=D.message}finally{v.value=!1}},y=async()=>{try{const $=await $fetch("/api/funcionario/comunicados");f.value=$}catch($){console.error("Erro ao buscar comunicados:",$)}};return{perfil:a,solicitacoes:S,registrosPonto:c,documentos:w,comunicados:f,stats:k,loading:v,error:r,fetchPerfil:_,fetchStats:x,fetchSolicitacoes:i,criarSolicitacao:s,fetchPonto:t,registrarPonto:u,fetchDocumentos:n,fetchComunicados:y,marcarComunicadoLido:async $=>{try{await $fetch(`/api/funcionario/comunicados/${$}/ler`,{method:"POST"}),await y(),await x()}catch(D){console.error("Erro ao marcar comunicado como lido:",D)}},getTipoSolicitacaoLabel:$=>({ferias:"F√©rias",abono:"Abono",atestado:"Atestado",declaracao:"Declara√ß√£o",alteracao_dados:"Altera√ß√£o de Dados",holerite:"Holerite",informe_rendimentos:"Informe de Rendimentos",carta_referencia:"Carta de Refer√™ncia",outros:"Outros"})[$]||$,getStatusColor:$=>({Pendente:"warning",Em_Analise:"info",Aprovada:"success",Rejeitada:"danger",Cancelada:"default",Concluida:"success"})[$]||"default",getStatusLabel:$=>({Pendente:"Pendente",Em_Analise:"Em An√°lise",Aprovada:"Aprovada",Rejeitada:"Rejeitada",Cancelada:"Cancelada",Concluida:"Conclu√≠da"})[$]||$,formatDate:$=>$?new Date($).toLocaleDateString("pt-BR"):"-",formatTime:$=>$?$.substring(0,5):"-"}},Kr={class:"min-h-screen bg-slate-50"},Zr={class:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6"},ei={key:0},ti={key:1},oi={key:2},si={key:3},ai={key:4},li={key:5},gi=O({__name:"employee",setup(a){const{currentUser:S}=Pe(),{perfil:c,solicitacoes:w,registrosPonto:f,documentos:k,comunicados:v,stats:r,loading:_,fetchPerfil:x,fetchStats:i,fetchSolicitacoes:s,fetchPonto:t,fetchDocumentos:u,fetchComunicados:n,marcarComunicadoLido:y,criarSolicitacao:h}=Wr(),b=V("ponto"),P=V(!1);V(!1);const p=V(""),M=V(new Date);let L=null;be(()=>{M.value=new Date,L=De(()=>{M.value=new Date},6e4)}),Ae(()=>{L&&clearInterval(L)});const $=z(()=>{if(!f.value||f.value.length===0)return null;const F=new Date().toISOString().split("T")[0];return f.value.find(ee=>ee.data?ee.data.split("T")[0]===F:!1)||null}),D=z(()=>$.value?Ce($.value):!1),N=z(()=>{if(!$.value)return"0h00";try{return Me($.value,M.value).horasFormatadas}catch(U){return console.error("Erro ao calcular horas:",U),"0h00"}}),Z=z(()=>[{id:"ponto",label:"Meu Ponto",icon:"heroicons:clock"},{id:"holerites",label:"Holerites",icon:"heroicons:banknotes"},{id:"solicitacoes",label:"Solicita√ß√µes",icon:"heroicons:document-text",count:r.value?.solicitacoes_pendentes||void 0},{id:"documentos",label:"Documentos",icon:"heroicons:folder-open",count:r.value?.documentos_novos||void 0},{id:"comunicados",label:"Comunicados",icon:"heroicons:bell",count:r.value?.comunicados_nao_lidos||void 0},{id:"perfil",label:"Meu Perfil",icon:"heroicons:user-circle"}]),ue=z(()=>new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),J=async U=>{p.value=U.message||"Ponto registrado com sucesso!",await t()},ie=async U=>{try{await h(U),P.value=!1,alert("Solicita√ß√£o enviada com sucesso!")}catch(F){alert(F.message||"Erro ao criar solicita√ß√£o")}};return ae(f,U=>{if(console.log("üìä [EMPLOYEE] Registros de ponto atualizados:",U?.length||0),U&&U.length>0){console.log("üìÖ [EMPLOYEE] Primeiro registro:",U[0]),console.log("üîç [EMPLOYEE] Todas as datas dos registros:");const F=U.map(j=>j.data).sort();console.log("  Datas encontradas:",F);const le=U.filter(j=>j.data&&j.data.includes("2024-11"));le.length>0&&(console.log("‚ö†Ô∏è [EMPLOYEE] PROBLEMA: Registros de novembro encontrados no frontend:"),le.forEach(j=>{console.log(`    ${j.data} - Entrada: ${j.entrada_1} - Sa√≠da: ${j.saida_2||j.saida_1}`)}));const ee=U.filter(j=>j.data&&j.data.includes("2024-12"));console.log(`‚úÖ [EMPLOYEE] Registros de dezembro: ${ee.length}`),ee.length>0&&(console.log("üìÖ [EMPLOYEE] Primeiros 3 registros de dezembro:"),ee.slice(0,3).forEach((j,me)=>{console.log(`    ${me+1}. ${j.data} - ${j.entrada_1} - ${j.saida_2||j.saida_1}`)}))}},{immediate:!0}),ae($,U=>{console.log("üìç Registro de hoje:",U)},{immediate:!0}),be(async()=>{await Promise.all([x(),i(),t(),s(),u(),n()]),M.value=new Date}),(U,F)=>{const le=Je,ee=et,j=mt,me=Pt,E=io,C=Ms,R=aa,q=$a,A=Oa,oe=sl,pe=Cr,he=Rr,ye=Qr;return d(),m("div",Kr,[g(le,{empresa:"Qualitec Instrumentos de Medi√ß√£o"}),e("div",Zr,[g(ee,{nome:o(c)?.colaborador?.nome||o(S)?.nome,cargo:o(c)?.colaborador?.cargo?.nome,departamento:o(c)?.colaborador?.departamento?.nome},null,8,["nome","cargo","departamento"]),g(j,{stats:o(r),class:"mb-4 sm:mb-6 lg:mb-8"},null,8,["stats"]),g(me,{"registro-hoje":o($),"horas-formatadas":o(N),"em-andamento":o(D),class:"mb-4 sm:mb-6"},null,8,["registro-hoje","horas-formatadas","em-andamento"]),g(E,{"data-hora-atual":o(ue),"ultimo-registro":o(p),onSucesso:J,class:"mb-4 sm:mb-6 lg:mb-8"},null,8,["data-hora-atual","ultimo-registro"]),g(he,{tabs:o(Z),modelValue:o(b),"onUpdate:modelValue":F[2]||(F[2]=te=>H(b)?b.value=te:null),onChange:F[3]||(F[3]=te=>b.value=te)},{default:K(()=>[o(b)==="ponto"?(d(),m("div",ei,[g(C,{registros:o(f),loading:o(_),onRefresh:F[0]||(F[0]=(te,$e)=>o(t)(te,$e))},null,8,["registros","loading"])])):o(b)==="holerites"?(d(),m("div",ti,[g(R)])):o(b)==="solicitacoes"?(d(),m("div",oi,[g(q,{solicitacoes:o(w),loading:o(_),onNova:F[1]||(F[1]=te=>P.value=!0),onRefresh:o(s)},null,8,["solicitacoes","loading","onRefresh"])])):o(b)==="documentos"?(d(),m("div",si,[g(A,{documentos:o(k),loading:o(_),onRefresh:o(u)},null,8,["documentos","loading","onRefresh"])])):o(b)==="comunicados"?(d(),m("div",ai,[g(oe,{comunicados:o(v),onLer:o(y)},null,8,["comunicados","onLer"])])):o(b)==="perfil"?(d(),m("div",li,[g(pe,{perfil:o(c),onRefresh:o(x)},null,8,["perfil","onRefresh"])])):T("",!0)]),_:1},8,["tabs","modelValue"])]),g(ye,{modelValue:o(P),"onUpdate:modelValue":F[4]||(F[4]=te=>H(P)?P.value=te:null),onSubmit:ie},null,8,["modelValue"])])}}});export{gi as default};
