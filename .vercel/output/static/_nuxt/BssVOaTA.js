import{d as q,V as P,x as R,D as Y,a as H,g as m,o as u,y as z,e,t as g,f as x,i as v,p as k,z as D,h as s,v as S,I as K,A,O as B,l as _,n as F,F as M,k as N,s as Z,w as O,c as L,T as de,r as $,b as le,_ as ce,j as W,E as ue}from"./BSA_tgdP.js";import{_ as me}from"./yUH5lwCE.js";import"./BBzIiODl.js";const pe={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},ge={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},fe={class:"text-xl font-bold text-gray-800"},xe={class:"px-6 py-6 space-y-5"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ye={class:"flex items-center pt-6"},_e={class:"flex items-center gap-3 cursor-pointer"},he={class:"bg-gray-50 rounded-lg p-4 border border-gray-200"},we={class:"flex items-center gap-3"},ke={class:"font-semibold text-gray-800"},Ce={class:"text-sm text-gray-600"},Ee={class:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},$e=["disabled"],Fe=q({__name:"ModalCategoriaDocumento",props:{categoria:{default:null}},emits:["close","save"],setup(a,{emit:f}){const t=a,p=f,r={blue:{fundo:"#DBEAFE",icone:"#2563EB"},green:{fundo:"#D1FAE5",icone:"#059669"},purple:{fundo:"#E9D5FF",icone:"#9333EA"},amber:{fundo:"#FEF3C7",icone:"#D97706"},red:{fundo:"#FEE2E2",icone:"#DC2626"},indigo:{fundo:"#E0E7FF",icone:"#4F46E5"},cyan:{fundo:"#CFFAFE",icone:"#0891B2"},pink:{fundo:"#FCE7F3",icone:"#DB2777"},emerald:{fundo:"#D1FAE5",icone:"#10B981"},orange:{fundo:"#FFEDD5",icone:"#EA580C"},slate:{fundo:"#F1F5F9",icone:"#475569"},teal:{fundo:"#CCFBF1",icone:"#0D9488"}},n=w=>r[w]?.fundo||r.blue.fundo,b=w=>r[w]?.icone||r.blue.icone,c=P({nome:t.categoria?.nome||"",descricao:t.categoria?.descricao||"",cor:t.categoria?.cor||"blue",icone:t.categoria?.icone||"heroicons:document-text",ordem:t.categoria?.ordem??0,ativo:t.categoria?.ativo??!0}),h=()=>{p("close")},E=()=>{if(!c.nome.trim()){alert("O nome da categoria Ã© obrigatÃ³rio");return}p("save",{nome:c.nome.trim(),descricao:c.descricao.trim(),cor:c.cor,icone:c.icone,ordem:c.ordem,ativo:c.ativo})};return R(()=>{const w=o=>{o.key==="Escape"&&h()};window.addEventListener("keydown",w),Y(()=>window.removeEventListener("keydown",w))}),(w,o)=>{const T=H("Icon");return u(),m("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:z(h,["self"])},[e("div",pe,[e("div",ge,[e("h2",fe,g(a.categoria?"Editar Categoria":"Nova Categoria"),1),e("button",{type:"button",onClick:h,class:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors"},[x(T,{name:"heroicons:x-mark",size:"20",class:"text-gray-500"})])]),e("form",{onSubmit:z(E,["prevent"]),class:"flex-1 overflow-y-auto"},[e("div",xe,[e("div",null,[o[6]||(o[6]=e("label",{for:"nome",class:"block text-sm font-medium text-gray-700 mb-1"},[k(" Nome "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"nome","onUpdate:modelValue":o[0]||(o[0]=y=>s(c).nome=y),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ex: AdmissÃ£o",required:"",maxlength:"100"},null,512),[[D,s(c).nome]])]),e("div",null,[o[7]||(o[7]=e("label",{for:"descricao",class:"block text-sm font-medium text-gray-700 mb-1"}," DescriÃ§Ã£o ",-1)),v(e("textarea",{id:"descricao","onUpdate:modelValue":o[1]||(o[1]=y=>s(c).descricao=y),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",placeholder:"Breve descriÃ§Ã£o da categoria",maxlength:"500"},null,512),[[D,s(c).descricao]])]),e("div",ve,[e("div",null,[o[9]||(o[9]=e("label",{for:"cor",class:"block text-sm font-medium text-gray-700 mb-1"}," Cor ",-1)),v(e("select",{id:"cor","onUpdate:modelValue":o[2]||(o[2]=y=>s(c).cor=y),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"},[...o[8]||(o[8]=[K('<option value="blue">ğŸ”µ Azul</option><option value="green">ğŸŸ¢ Verde</option><option value="purple">ğŸŸ£ Roxo</option><option value="amber">ğŸŸ¡ Ã‚mbar</option><option value="red">ğŸ”´ Vermelho</option><option value="indigo">ğŸ”µ Ãndigo</option><option value="cyan">ğŸ”µ Ciano</option><option value="pink">ğŸ©· Rosa</option><option value="emerald">ğŸ’š Esmeralda</option><option value="orange">ğŸŸ  Laranja</option><option value="slate">âš« Cinza</option><option value="teal">ğŸ©µ Verde-azulado</option>',12)])],512),[[S,s(c).cor]])]),e("div",null,[o[11]||(o[11]=e("label",{for:"icone",class:"block text-sm font-medium text-gray-700 mb-1"}," Ãcone ",-1)),v(e("select",{id:"icone","onUpdate:modelValue":o[3]||(o[3]=y=>s(c).icone=y),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"},[...o[10]||(o[10]=[K('<option value="heroicons:document-text">ğŸ“„ Documento</option><option value="heroicons:user-plus">ğŸ‘¤ UsuÃ¡rio +</option><option value="heroicons:identification">ğŸªª ID</option><option value="heroicons:heart">â¤ï¸ CoraÃ§Ã£o</option><option value="heroicons:briefcase">ğŸ’¼ Maleta</option><option value="heroicons:sun">â˜€ï¸ Sol</option><option value="heroicons:clock">ğŸ• RelÃ³gio</option><option value="heroicons:exclamation-triangle">âš ï¸ Alerta</option><option value="heroicons:gift">ğŸ Presente</option><option value="heroicons:academic-cap">ğŸ“ Formatura</option><option value="heroicons:folder">ğŸ“ Pasta</option>',11)])],512),[[S,s(c).icone]])])]),e("div",be,[e("div",null,[o[12]||(o[12]=e("label",{for:"ordem",class:"block text-sm font-medium text-gray-700 mb-1"}," Ordem de ExibiÃ§Ã£o ",-1)),v(e("input",{id:"ordem","onUpdate:modelValue":o[4]||(o[4]=y=>s(c).ordem=y),type:"number",min:"0",max:"999",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"0"},null,512),[[D,s(c).ordem,void 0,{number:!0}]]),o[13]||(o[13]=e("p",{class:"text-xs text-gray-500 mt-1"},"Menor nÃºmero aparece primeiro",-1))]),e("div",ye,[e("label",_e,[v(e("input",{id:"ativo","onUpdate:modelValue":o[5]||(o[5]=y=>s(c).ativo=y),type:"checkbox",class:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"},null,512),[[A,s(c).ativo]]),o[14]||(o[14]=e("span",{class:"text-sm font-medium text-gray-700"},"Categoria ativa",-1))])])]),e("div",he,[o[15]||(o[15]=e("p",{class:"text-xs font-medium text-gray-500 mb-2"},"Preview:",-1)),e("div",we,[e("div",{class:"w-12 h-12 rounded-lg flex items-center justify-center",style:B({backgroundColor:n(s(c).cor)})},[x(T,{name:s(c).icone,style:B({color:b(s(c).cor)}),size:"24"},null,8,["name","style"])],4),e("div",null,[e("p",ke,g(s(c).nome||"Nome da categoria"),1),e("p",Ce,g(s(c).descricao||"DescriÃ§Ã£o da categoria"),1)])])])]),e("div",Ee,[e("button",{type:"button",onClick:h,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Cancelar "),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-red-700 rounded-lg hover:bg-red-800 transition-colors",disabled:!s(c).nome.trim()},g(a.categoria?"Salvar AlteraÃ§Ãµes":"Criar Categoria"),9,$e)])],32)])])}}}),De=Object.assign(Fe,{__name:"ModalCategoriaDocumento"}),Te={class:"space-y-4"},Ve=["value"],Ae={key:0,class:"text-sm text-red-600 mt-1"},qe={key:0,class:"text-sm text-red-600 mt-1"},Ue=q({__name:"FormTipoDocumentoBasico",props:{form:{},categorias:{},erros:{}},setup(a){return(f,t)=>(u(),m("section",Te,[t[7]||(t[7]=e("h3",{class:"font-semibold text-gray-700 border-b pb-2"},"InformaÃ§Ãµes BÃ¡sicas",-1)),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[k("Categoria "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=p=>a.form.categoria_id=p),class:F(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",{"border-red-500 bg-red-50":a.erros.categoria_id}]),required:""},[t[3]||(t[3]=e("option",{value:""},"Selecione uma categoria...",-1)),(u(!0),m(M,null,N(a.categorias,p=>(u(),m("option",{key:p.id,value:p.id},g(p.nome),9,Ve))),128))],2),[[S,a.form.categoria_id]]),a.erros.categoria_id?(u(),m("p",Ae,g(a.erros.categoria_id),1)):_("",!0)]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[k("Nome do Tipo "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=p=>a.form.nome=p),type:"text",class:F(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",{"border-red-500 bg-red-50":a.erros.nome}]),placeholder:"Ex: Atestado MÃ©dico",required:"",maxlength:"200"},null,2),[[D,a.form.nome]]),a.erros.nome?(u(),m("p",qe,g(a.erros.nome),1)):_("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"DescriÃ§Ã£o",-1)),v(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=p=>a.form.descricao=p),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 resize-none",placeholder:"Breve descriÃ§Ã£o do tipo de documento",maxlength:"500"},null,512),[[D,a.form.descricao]])])]))}}),je=Object.assign(Ue,{__name:"FormTipoDocumentoBasico"}),ze={class:"space-y-4"},Be={class:"grid grid-cols-2 gap-3"},Me=["onUpdate:modelValue"],Ne={class:"font-medium text-sm text-gray-800"},Se={class:"text-xs text-gray-500"},Ie={key:0,class:"p-3 bg-blue-50 border border-blue-200 rounded-lg"},Oe=q({__name:"FormTipoDocumentoCampos",props:{form:{}},setup(a){const f=[{key:"requer_periodo",label:"PerÃ­odo",desc:"Data inÃ­cio/fim"},{key:"requer_horas",label:"Horas",desc:"Quantidade de horas"},{key:"requer_aprovacao",label:"AprovaÃ§Ã£o",desc:"Requer aprovaÃ§Ã£o do gestor"},{key:"requer_arquivo",label:"Arquivo",desc:"Upload obrigatÃ³rio"}];return(t,p)=>(u(),m("section",ze,[p[1]||(p[1]=e("h3",{class:"font-semibold text-gray-700 border-b pb-2"},"Campos ObrigatÃ³rios",-1)),e("div",Be,[(u(),m(M,null,N(f,r=>e("label",{key:r.key,class:F(["flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all",a.form[r.key]?"border-red-500 bg-red-50":"border-gray-300 hover:bg-gray-50"])},[v(e("input",{"onUpdate:modelValue":n=>a.form[r.key]=n,type:"checkbox",class:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"},null,8,Me),[[A,a.form[r.key]]]),e("div",null,[e("div",Ne,g(r.label),1),e("div",Se,g(r.desc),1)])],2)),64))]),a.form.requer_periodo?(u(),m("div",Ie,[...p[0]||(p[0]=[e("p",{class:"text-sm text-blue-700"},[e("strong",null,"PerÃ­odo habilitado:"),k(" O usuÃ¡rio deverÃ¡ informar data de inÃ­cio e fim ao cadastrar este documento.")],-1)])])):_("",!0)]))}}),Pe=Object.assign(Oe,{__name:"FormTipoDocumentoCampos"}),Le={class:"space-y-4"},Re={class:"flex items-center gap-3 cursor-pointer"},He={key:0,class:"ml-7 pl-4 border-l-2 border-red-200 space-y-4"},Ge=["required"],Qe={key:0,class:"text-sm text-red-600 mt-1"},Xe={key:1,class:"text-xs text-gray-500 mt-1"},Je={class:"flex items-center gap-3 cursor-pointer"},Ke={key:0,class:"ml-7"},We=q({__name:"FormTipoDocumentoValidade",props:{form:{},erros:{}},setup(a){const f=a,t=()=>{f.form.tem_validade||(f.form.dias_validade=null,f.form.notificar_vencimento=!1,f.form.dias_aviso_vencimento=30)},p=()=>{f.form.notificar_vencimento||(f.form.dias_aviso_vencimento=30)};return(r,n)=>(u(),m("section",Le,[n[9]||(n[9]=e("h3",{class:"font-semibold text-gray-700 border-b pb-2"},"Validade e NotificaÃ§Ãµes",-1)),e("label",Re,[v(e("input",{"onUpdate:modelValue":n[0]||(n[0]=b=>a.form.tem_validade=b),type:"checkbox",class:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500",onChange:t},null,544),[[A,a.form.tem_validade]]),n[4]||(n[4]=e("span",{class:"text-sm font-medium text-gray-800"},"Este documento tem validade",-1))]),a.form.tem_validade?(u(),m("div",He,[e("div",null,[n[5]||(n[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[k("VÃ¡lido por (dias) "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{"onUpdate:modelValue":n[1]||(n[1]=b=>a.form.dias_validade=b),type:"number",min:"1",class:F(["w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",{"border-red-500 bg-red-50":a.erros.dias_validade}]),placeholder:"Ex: 365",required:a.form.tem_validade},null,10,Ge),[[D,a.form.dias_validade,void 0,{number:!0}]]),a.erros.dias_validade?(u(),m("p",Qe,g(a.erros.dias_validade),1)):(u(),m("p",Xe,"ApÃ³s este perÃ­odo, o documento expira automaticamente"))]),e("label",Je,[v(e("input",{"onUpdate:modelValue":n[2]||(n[2]=b=>a.form.notificar_vencimento=b),type:"checkbox",class:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500",onChange:p},null,544),[[A,a.form.notificar_vencimento]]),n[6]||(n[6]=e("span",{class:"text-sm font-medium text-gray-800"},"Notificar antes do vencimento",-1))]),a.form.notificar_vencimento?(u(),m("div",Ke,[n[7]||(n[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Avisar com antecedÃªncia (dias)",-1)),v(e("input",{"onUpdate:modelValue":n[3]||(n[3]=b=>a.form.dias_aviso_vencimento=b),type:"number",min:"1",class:"w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Ex: 30"},null,512),[[D,a.form.dias_aviso_vencimento,void 0,{number:!0}]]),n[8]||(n[8]=e("p",{class:"text-xs text-gray-500 mt-1"},"Sistema enviarÃ¡ notificaÃ§Ã£o X dias antes do vencimento",-1))])):_("",!0)])):_("",!0)]))}}),Ye=Object.assign(We,{__name:"FormTipoDocumentoValidade"}),Ze={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},eo={class:"text-xl font-bold text-gray-800"},oo={class:"px-6 py-6 space-y-6"},to={class:"space-y-4"},ro={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},so={class:"flex items-center pt-6"},ao={class:"flex items-center gap-3 cursor-pointer"},no={class:"flex items-center justify-between gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},io={key:0,class:"text-sm text-red-600"},lo={class:"flex items-center gap-3 ml-auto"},co=["disabled"],uo=q({__name:"ModalTipoDocumento",props:{tipo:{default:null},categorias:{}},emits:["close","save"],setup(a,{emit:f}){const t=a,p=f,r=P({categoria_id:t.tipo?.categoria_id||"",nome:t.tipo?.nome||"",descricao:t.tipo?.descricao||"",requer_periodo:t.tipo?.requer_periodo||!1,requer_horas:t.tipo?.requer_horas||!1,requer_aprovacao:t.tipo?.requer_aprovacao||!1,requer_arquivo:t.tipo?.requer_arquivo!==void 0?t.tipo.requer_arquivo:!0,tem_validade:t.tipo?.tem_validade||!1,dias_validade:t.tipo?.dias_validade||null,notificar_vencimento:t.tipo?.notificar_vencimento||!1,dias_aviso_vencimento:t.tipo?.dias_aviso_vencimento||30,ativo:t.tipo?.ativo!==void 0?t.tipo.ativo:!0,ordem:t.tipo?.ordem??0}),n=P({categoria_id:"",nome:"",dias_validade:""}),b=Z(()=>!!(n.categoria_id||n.nome||n.dias_validade)),c=()=>(n.categoria_id=r.categoria_id?"":"Selecione uma categoria",n.nome=r.nome?.trim()?r.nome.trim().length<3?"Nome deve ter pelo menos 3 caracteres":"":"Nome Ã© obrigatÃ³rio",n.dias_validade=r.tem_validade&&(!r.dias_validade||r.dias_validade<1)?"Informe um nÃºmero maior que 0":"",!n.categoria_id&&!n.nome&&!n.dias_validade),h=()=>p("close"),E=()=>{c()&&p("save",{...r,nome:r.nome.trim(),descricao:r.descricao.trim(),dias_validade:r.tem_validade?r.dias_validade:null,notificar_vencimento:r.tem_validade?r.notificar_vencimento:!1,dias_aviso_vencimento:r.tem_validade&&r.notificar_vencimento?r.dias_aviso_vencimento:null})};return O(()=>r.nome,()=>{n.nome&&c()}),O(()=>r.categoria_id,()=>{n.categoria_id&&c()}),O(()=>r.dias_validade,()=>{r.tem_validade&&c()}),R(()=>{document.body.style.overflow="hidden";const w=o=>{o.key==="Escape"&&h()};window.addEventListener("keydown",w),Y(()=>{document.body.style.overflow="",window.removeEventListener("keydown",w)})}),(w,o)=>{const T=H("Icon"),y=je,U=Pe,j=Ye;return u(),L(de,{to:"body"},[e("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50 p-4 flex items-center justify-center",onClick:z(h,["self"])},[e("div",{class:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onClick:o[2]||(o[2]=z(()=>{},["stop"]))},[e("div",Ze,[e("h2",eo,g(a.tipo?"Editar Tipo de Documento":"Novo Tipo de Documento"),1),e("button",{type:"button",onClick:h,class:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100"},[x(T,{name:"heroicons:x-mark",size:"20",class:"text-gray-500"})])]),e("form",{onSubmit:z(E,["prevent"]),class:"flex-1 overflow-y-auto"},[e("div",oo,[x(y,{form:s(r),categorias:a.categorias,erros:s(n)},null,8,["form","categorias","erros"]),x(U,{form:s(r)},null,8,["form"]),x(j,{form:s(r),erros:s(n)},null,8,["form","erros"]),e("section",to,[o[6]||(o[6]=e("h3",{class:"font-semibold text-gray-700 border-b pb-2"},"ConfiguraÃ§Ãµes Gerais",-1)),e("div",ro,[e("div",null,[o[3]||(o[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ordem de ExibiÃ§Ã£o",-1)),v(e("input",{"onUpdate:modelValue":o[0]||(o[0]=V=>s(r).ordem=V),type:"number",min:"0",max:"999",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"0"},null,512),[[D,s(r).ordem,void 0,{number:!0}]]),o[4]||(o[4]=e("p",{class:"text-xs text-gray-500 mt-1"},"Menor nÃºmero aparece primeiro",-1))]),e("div",so,[e("label",ao,[v(e("input",{"onUpdate:modelValue":o[1]||(o[1]=V=>s(r).ativo=V),type:"checkbox",class:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"},null,512),[[A,s(r).ativo]]),o[5]||(o[5]=e("span",{class:"text-sm font-medium text-gray-700"},"Tipo ativo",-1))])])])])]),e("div",no,[s(b)?(u(),m("p",io,"Corrija os erros antes de salvar")):_("",!0),e("div",lo,[e("button",{type:"button",onClick:h,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"},"Cancelar"),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-red-700 rounded-lg hover:bg-red-800",disabled:s(b)||!s(r).nome.trim()||!s(r).categoria_id},g(a.tipo?"Salvar AlteraÃ§Ãµes":"Criar Tipo"),9,co)])])],32)])])])}}}),mo=Object.assign(uo,{__name:"ModalTipoDocumento"}),po={class:"min-h-screen bg-gray-50"},go={class:"bg-white border-b border-gray-200 sticky top-0 z-40"},fo={class:"max-w-7xl mx-auto px-8 py-4"},xo={class:"flex items-center justify-between"},vo={class:"flex items-center gap-4"},bo={class:"max-w-7xl mx-auto p-8"},yo={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},_o={class:"flex border-b border-gray-200"},ho={key:0},wo={class:"flex justify-between items-center mb-6"},ko={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-4"},Co={class:"flex items-start gap-3"},Eo={class:"flex-1 min-w-0"},$o={class:"font-semibold text-gray-800"},Fo={class:"text-sm text-gray-600 mt-1"},Do={class:"flex items-center gap-2 mt-3"},To={class:"text-xs text-gray-500"},Vo={class:"flex gap-2 mt-4 pt-4 border-t border-gray-100"},Ao=["onClick"],qo=["onClick"],Uo={key:1},jo={class:"flex justify-between items-center mb-6"},zo={class:"flex gap-4 items-center"},Bo=["value"],Mo={class:"flex items-center gap-2 text-sm text-gray-600"},No={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},So={class:"w-full"},Io={class:"divide-y divide-gray-200"},Oo={class:"px-6 py-4"},Po={class:"font-medium text-gray-800"},Lo={class:"text-sm text-gray-500"},Ro={class:"px-6 py-4"},Ho={class:"px-6 py-4"},Go={class:"flex flex-wrap gap-1"},Qo={key:0,class:"badge-info"},Xo={key:1,class:"badge-info"},Jo={key:2,class:"badge-warning"},Ko={key:3,class:"badge-success"},Wo={key:4,class:"badge-purple"},Yo={class:"px-6 py-4"},Zo={class:"px-6 py-4 text-right"},et={class:"flex gap-2 justify-end"},ot=["onClick"],tt=["onClick"],rt=q({__name:"documentos",setup(a){const f=$("categorias"),t=$([]),p=$([]),r=$(""),n=$(!1),b=$(!1),c=$(null),h=$(!1),E=$(null),w=Z(()=>{let l=p.value;return r.value&&(l=l.filter(d=>d.categoria_id===r.value)),n.value&&(l=l.filter(d=>d.ativo)),l}),o={blue:{fundo:"#DBEAFE",icone:"#2563EB"},green:{fundo:"#D1FAE5",icone:"#059669"},purple:{fundo:"#E9D5FF",icone:"#9333EA"},amber:{fundo:"#FEF3C7",icone:"#D97706"},red:{fundo:"#FEE2E2",icone:"#DC2626"},indigo:{fundo:"#E0E7FF",icone:"#4F46E5"},cyan:{fundo:"#CFFAFE",icone:"#0891B2"},pink:{fundo:"#FCE7F3",icone:"#DB2777"},emerald:{fundo:"#D1FAE5",icone:"#10B981"},orange:{fundo:"#FFEDD5",icone:"#EA580C"},slate:{fundo:"#F1F5F9",icone:"#475569"},teal:{fundo:"#CCFBF1",icone:"#0D9488"}},T=l=>o[l]?.fundo||o.blue.fundo,y=l=>o[l]?.icone||o.blue.icone,U=async()=>{try{const l=await $fetch("/api/categorias-documentos");t.value=l||[]}catch(l){console.error("Erro ao carregar categorias:",l),t.value=[]}},j=async()=>{try{const l=await $fetch("/api/tipos-documentos");p.value=l||[]}catch(l){console.error("Erro ao carregar tipos:",l),p.value=[]}},V=l=>p.value.filter(d=>d.categoria_id===l).length,G=(l=null)=>{c.value=l,b.value=!0},Q=()=>{b.value=!1,c.value=null},ee=async l=>{try{c.value?await $fetch(`/api/categorias-documentos/${c.value.id}`,{method:"PUT",body:l}):await $fetch("/api/categorias-documentos",{method:"POST",body:l}),await U(),Q()}catch{alert("Erro ao salvar categoria")}},oe=async l=>{if(V(l.id)>0){alert("NÃ£o Ã© possÃ­vel excluir uma categoria que possui tipos de documentos vinculados.");return}if(confirm(`Excluir categoria "${l.nome}"?`))try{await $fetch(`/api/categorias-documentos/${l.id}`,{method:"DELETE"}),await U()}catch{alert("Erro ao excluir categoria")}},X=(l=null)=>{E.value=l,h.value=!0},J=()=>{h.value=!1,E.value=null},te=async l=>{try{E.value?await $fetch(`/api/tipos-documentos/${E.value.id}`,{method:"PUT",body:l}):await $fetch("/api/tipos-documentos",{method:"POST",body:l}),await j(),J()}catch{alert("Erro ao salvar tipo")}},re=async l=>{if(confirm(`Excluir tipo "${l.nome}"?`))try{await $fetch(`/api/tipos-documentos/${l.id}`,{method:"DELETE"}),await j()}catch{alert("Erro ao excluir tipo")}};return R(()=>{U(),j()}),(l,d)=>{const C=H("Icon"),se=ce,ae=me,ne=De,ie=mo;return u(),m("div",po,[e("header",go,[e("div",fo,[e("div",xo,[e("div",vo,[x(se,{to:"/configuracoes",class:"w-10 h-10 bg-red-700 rounded-lg flex items-center justify-center hover:bg-red-800 transition-colors"},{default:le(()=>[x(C,{name:"heroicons:arrow-left",class:"text-white",size:"20"})]),_:1}),d[6]||(d[6]=e("div",null,[e("h1",{class:"text-xl font-bold text-gray-800"},"Tipos de Documentos"),e("p",{class:"text-sm text-gray-500"},"Gerencie categorias e tipos de documentos RH")],-1))]),x(ae,{theme:"admin"})])])]),e("div",bo,[e("div",yo,[e("div",_o,[e("button",{onClick:d[0]||(d[0]=i=>f.value="categorias"),class:F(["px-6 py-3 font-medium transition-colors",s(f)==="categorias"?"text-red-700 border-b-2 border-red-700":"text-gray-500 hover:text-gray-700"])},[x(C,{name:"heroicons:folder",class:"inline mr-2"}),k(" Categorias ("+g(s(t).length)+") ",1)],2),e("button",{onClick:d[1]||(d[1]=i=>f.value="tipos"),class:F(["px-6 py-3 font-medium transition-colors",s(f)==="tipos"?"text-red-700 border-b-2 border-red-700":"text-gray-500 hover:text-gray-700"])},[x(C,{name:"heroicons:document-text",class:"inline mr-2"}),k(" Tipos de Documentos ("+g(s(p).length)+") ",1)],2)])]),s(f)==="categorias"?(u(),m("div",ho,[e("div",wo,[d[8]||(d[8]=e("p",{class:"text-gray-600"},"Organize documentos em categorias",-1)),e("button",{onClick:d[2]||(d[2]=i=>G()),class:"btn-primary"},[x(C,{name:"heroicons:plus",class:"mr-2"}),d[7]||(d[7]=k(" Nova Categoria ",-1))])]),e("div",ko,[(u(!0),m(M,null,N(s(t),i=>(u(),m("div",{key:i.id,class:"card hover:shadow-lg transition-shadow"},[e("div",Co,[e("div",{class:"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",style:B({backgroundColor:T(i.cor)})},[x(C,{name:i.icone,style:B({color:y(i.cor)}),size:"24"},null,8,["name","style"])],4),e("div",Eo,[e("h3",$o,g(i.nome),1),e("p",Fo,g(i.descricao),1),e("div",Do,[e("span",{class:F(["text-xs px-2 py-1 rounded-full",i.ativo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},g(i.ativo?"Ativo":"Inativo"),3),e("span",To,g(V(i.id))+" tipos ",1)])])]),e("div",Vo,[e("button",{onClick:I=>G(i),class:"btn-secondary flex-1 text-sm"},[x(C,{name:"heroicons:pencil",class:"mr-1",size:"16"}),d[9]||(d[9]=k(" Editar ",-1))],8,Ao),e("button",{onClick:I=>oe(i),class:"btn-danger flex-1 text-sm"},[x(C,{name:"heroicons:trash",class:"mr-1",size:"16"}),d[10]||(d[10]=k(" Excluir ",-1))],8,qo)])]))),128))])])):_("",!0),s(f)==="tipos"?(u(),m("div",Uo,[e("div",jo,[e("div",zo,[v(e("select",{"onUpdate:modelValue":d[3]||(d[3]=i=>W(r)?r.value=i:null),class:"input"},[d[11]||(d[11]=e("option",{value:""},"Todas as categorias",-1)),(u(!0),m(M,null,N(s(t),i=>(u(),m("option",{key:i.id,value:i.id},g(i.nome),9,Bo))),128))],512),[[S,s(r)]]),e("label",Mo,[v(e("input",{type:"checkbox","onUpdate:modelValue":d[4]||(d[4]=i=>W(n)?n.value=i:null),class:"rounded"},null,512),[[A,s(n)]]),d[12]||(d[12]=k(" Apenas ativos ",-1))])]),e("button",{onClick:d[5]||(d[5]=i=>X()),class:"btn-primary"},[x(C,{name:"heroicons:plus",class:"mr-2"}),d[13]||(d[13]=k(" Novo Tipo ",-1))])]),e("div",No,[e("table",So,[d[14]||(d[14]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Categoria"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ConfiguraÃ§Ãµes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"AÃ§Ãµes")])],-1)),e("tbody",Io,[(u(!0),m(M,null,N(s(w),i=>(u(),m("tr",{key:i.id,class:"hover:bg-gray-50"},[e("td",Oo,[e("div",null,[e("div",Po,g(i.nome),1),e("div",Lo,g(i.descricao),1)])]),e("td",Ro,[i.categoria?(u(),m("span",{key:0,class:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs",style:B({backgroundColor:T(i.categoria.cor),color:y(i.categoria.cor)})},[x(C,{name:i.categoria.icone,size:"14"},null,8,["name"]),k(" "+g(i.categoria.nome),1)],4)):_("",!0)]),e("td",Ho,[e("div",Go,[i.requer_periodo?(u(),m("span",Qo,"PerÃ­odo")):_("",!0),i.requer_horas?(u(),m("span",Xo,"Horas")):_("",!0),i.requer_aprovacao?(u(),m("span",Jo,"AprovaÃ§Ã£o")):_("",!0),i.tem_validade?(u(),m("span",Ko,"Validade")):_("",!0),i.notificar_vencimento?(u(),m("span",Wo,"Notifica")):_("",!0)])]),e("td",Yo,[e("span",{class:F(["px-2 py-1 rounded-full text-xs",i.ativo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},g(i.ativo?"Ativo":"Inativo"),3)]),e("td",Zo,[e("div",et,[e("button",{onClick:I=>X(i),class:"btn-icon"},[x(C,{name:"heroicons:pencil",size:"16"})],8,ot),e("button",{onClick:I=>re(i),class:"btn-icon text-red-600 hover:bg-red-50"},[x(C,{name:"heroicons:trash",size:"16"})],8,tt)])])]))),128))])])])])):_("",!0)]),s(b)?(u(),L(ne,{key:0,categoria:s(c),onClose:Q,onSave:ee},null,8,["categoria"])):_("",!0),s(h)?(u(),L(ie,{key:1,tipo:s(E),categorias:s(t),onClose:J,onSave:te},null,8,["tipo","categorias"])):_("",!0)])}}}),it=ue(rt,[["__scopeId","data-v-44b9cb99"]]);export{it as default};
