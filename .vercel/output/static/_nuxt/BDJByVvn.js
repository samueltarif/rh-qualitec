import{d as b,q as x,c as B,o as m,a as v,l as C,t as n,g as t,n as c,r as h,s as D,x as L,D as j,f as g,b as e,e as _,_ as U,aa as N,k as p}from"./DNqCZqpD.js";import{_ as S}from"./DdnJSzYT.js";const O=b({__name:"LogoutButton",props:{theme:{default:"default"},className:{default:""}},setup(o){const{logout:s,isLoading:i}=x(),l=async()=>{await s()};return(u,f)=>{const d=S;return m(),B(d,{theme:o.theme,variant:"outline","icon-left":"heroicons:arrow-right-on-rectangle",loading:t(i),class:c(o.className),onClick:l},{default:v(()=>[C(n(t(i)?"Saindo...":"Sair"),1)]),_:1},8,["theme","loading","class"])}}}),R=Object.assign(O,{__name:"LogoutButton"}),V={class:"hidden md:block text-left"},z={class:"text-sm font-semibold text-gray-800"},A={class:"text-xs text-gray-500"},E={key:0,class:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50"},I={class:"p-4 border-b border-gray-200"},P={class:"flex items-center gap-3"},T={class:"flex-1"},$={class:"font-semibold text-gray-800"},q={class:"text-sm text-gray-500"},M={class:"p-4 space-y-3"},F={class:"flex items-center justify-between"},G={class:"flex items-center justify-between"},H={class:"badge badge-success"},J={key:0,class:"flex items-center justify-between"},K={class:"text-sm text-gray-800"},Q={class:"p-4 border-t border-gray-200"},W=b({__name:"UserProfileDropdown",props:{theme:{default:"default"}},setup(o){const{currentUser:s}=x(),i=h(!1),l=h(),u=D(()=>{if(!s.value?.nome)return"?";const a=s.value.nome.split(" ");return a.length===1?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()}),f=()=>{i.value=!i.value},d=a=>{l.value&&!l.value.contains(a.target)&&(i.value=!1)},y=a=>new Date(a).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return L(()=>{document.addEventListener("click",d)}),j(()=>{document.removeEventListener("click",d)}),(a,r)=>{const w=U,k=R;return m(),g("div",{class:"relative",ref_key:"dropdownRef",ref:l},[e("button",{onClick:f,class:c(["flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",{"bg-gray-100":t(i)}])},[e("div",{class:c(["w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",o.theme==="admin"?"bg-red-700":o.theme==="light"?"bg-blue-600":"bg-blue-900"])},n(t(u)),3),e("div",V,[e("p",z,n(t(s)?.nome),1),e("p",A,n(t(s)?.email),1)]),_(w,{name:"heroicons:chevron-down",class:c(["text-gray-500 transition-transform",{"rotate-180":t(i)}]),size:"20"},null,8,["class"])],2),_(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:v(()=>[t(i)?(m(),g("div",E,[e("div",I,[e("div",P,[e("div",{class:c(["w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",o.theme==="admin"?"bg-red-700":o.theme==="light"?"bg-blue-600":"bg-blue-900"])},n(t(u)),3),e("div",T,[e("p",$,n(t(s)?.nome),1),e("p",q,n(t(s)?.email),1)])])]),e("div",M,[e("div",F,[r[0]||(r[0]=e("span",{class:"text-sm text-gray-600"},"Role:",-1)),e("span",{class:c(["badge",o.theme==="admin"?"badge-error":o.theme==="light"?"badge-primary":"badge-info"])},n(t(s)?.role),3)]),e("div",G,[r[1]||(r[1]=e("span",{class:"text-sm text-gray-600"},"Status:",-1)),e("span",H,n(t(s)?.ativo?"Ativo":"Inativo"),1)]),t(s)?.ultimo_acesso?(m(),g("div",J,[r[2]||(r[2]=e("span",{class:"text-sm text-gray-600"},"Ãšltimo acesso:",-1)),e("span",K,n(y(t(s).ultimo_acesso)),1)])):p("",!0)]),e("div",Q,[_(k,{theme:o.theme,"class-name":"w-full"},null,8,["theme"])])])):p("",!0)]),_:1})],512)}}}),Z=Object.assign(W,{__name:"UserProfileDropdown"});export{Z as _};
