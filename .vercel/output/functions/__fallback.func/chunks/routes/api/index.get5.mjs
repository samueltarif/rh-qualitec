import{d as e,u as s,c as t}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const o=e(async e=>{try{const e=s(),o=e.public.supabaseUrl,a=e.supabaseServiceKey;if(!a)throw t({statusCode:500,message:"Service key não configurada"});const r={Authorization:`Bearer ${a}`,apikey:a},d=await $fetch(`${o}/rest/v1/empresa?select=*&limit=1`,{headers:r});if(!d||0===d.length)throw t({statusCode:404,message:"Dados da empresa não encontrados"});return{success:!0,data:d[0]}}catch(e){throw console.error("[GET EMPRESA] Erro:",e.message||e),t({statusCode:e.statusCode||500,message:e.message||"Erro ao buscar dados da empresa"})}});export{o as default};
