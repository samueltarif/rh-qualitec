import{d as o,a,c as r}from"../../_/nitro.mjs";import{s as t}from"../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../_/fetch-retry.mjs";const e=o(async o=>{const e=await t(o),s=a(o).status||"Ativo",{data:n,error:i}=await e.from("colaboradores").select("\n      id, \n      nome, \n      cpf, \n      salario, \n      salario_base, \n      data_admissao, \n      status, \n      email_corporativo, \n      matricula,\n      tipo_contrato,\n      qtd_dependentes,\n      cargo:cargos(id, nome, nivel),\n      departamento:departamentos!colaboradores_departamento_id_fkey(id, nome),\n      jornada:jornadas_trabalho(id, nome, tipo)\n    ").eq("status",s).order("nome");if(i)throw console.error("Erro ao buscar colaboradores:",i),r({statusCode:500,message:i.message});return n||[]});export{e as default};
