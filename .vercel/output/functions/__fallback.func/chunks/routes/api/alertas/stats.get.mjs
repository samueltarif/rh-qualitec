import{d as t}from"../../../_/nitro.mjs";import{s as e}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const i=t(async t=>{const i=await e(t),{data:o}=await i.from("alertas").select("status, prioridade");return{total:(null==o?void 0:o.length)||0,pendentes:(null==o?void 0:o.filter(t=>"pendente"===t.status).length)||0,lidos:(null==o?void 0:o.filter(t=>"lido"===t.status).length)||0,resolvidos:(null==o?void 0:o.filter(t=>"resolvido"===t.status).length)||0,ignorados:(null==o?void 0:o.filter(t=>"ignorado"===t.status).length)||0,criticos:(null==o?void 0:o.filter(t=>"pendente"===t.status&&"critica"===t.prioridade).length)||0,altos:(null==o?void 0:o.filter(t=>"pendente"===t.status&&"alta"===t.prioridade).length)||0,medios:(null==o?void 0:o.filter(t=>"pendente"===t.status&&"media"===t.prioridade).length)||0,baixos:(null==o?void 0:o.filter(t=>"pendente"===t.status&&"baixa"===t.prioridade).length)||0}});export{i as default};
