import{d as e,u as o}from"../../../_/nitro.mjs";import{initializeEmailService as a,getEmailService as t}from"../../../_/email-service.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const s=e(async e=>{try{console.log("ğŸ§ª Testando configuraÃ§Ã£o do Gmail...");if(!await a())return{success:!1,message:"âŒ Falha ao inicializar serviÃ§o de e-mail",details:"Verifique se as credenciais estÃ£o corretas no .env"};const e=await t(),s=o().gmailEmail;return await e.enviar({destinatario:s,assunto:"âœ… Teste de ConfiguraÃ§Ã£o - RH Qualitec",corpo_html:`\n        <h2>Teste de ConfiguraÃ§Ã£o de E-mail</h2>\n        <p>Se vocÃª recebeu este e-mail, a configuraÃ§Ã£o do Gmail estÃ¡ funcionando corretamente!</p>\n        <p><strong>Data/Hora:</strong> ${(new Date).toLocaleString("pt-BR")}</p>\n        <hr>\n        <p style="color: #666; font-size: 12px;">\n          Este Ã© um e-mail automÃ¡tico de teste do sistema RH Qualitec.\n        </p>\n      `,corpo_texto:"Teste de configuraÃ§Ã£o de e-mail - Se vocÃª recebeu este e-mail, estÃ¡ funcionando!"})?{success:!0,message:"âœ… E-mail de teste enviado com sucesso!",details:`Verifique sua caixa de entrada em ${s}`,timestamp:(new Date).toISOString()}:{success:!1,message:"âŒ Erro ao enviar e-mail de teste",details:"Verifique os logs do servidor para mais detalhes"}}catch(e){return console.error("âŒ Erro ao testar Gmail:",e),{success:!1,message:"âŒ Erro ao testar configuraÃ§Ã£o",error:e.message||"Erro desconhecido"}}});export{s as default};
