import{d as e,r as o,c as t,u as r}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const a=e(async e=>{try{const a=await o(e);if(!a.nome)throw t({statusCode:400,message:"Nome da jornada é obrigatório"});const s=r(),n=s.public.supabaseUrl,i=s.supabaseServiceKey;if(!i)throw t({statusCode:500,message:"Service key não configurada"});const d={Authorization:`Bearer ${i}`,apikey:i,"Content-Type":"application/json",Prefer:"return=representation"},p=await $fetch(`${n}/rest/v1/jornadas_trabalho`,{method:"POST",headers:d,body:a});return{success:!0,data:null==p?void 0:p[0]}}catch(e){throw console.error("[CREATE JORNADA] Erro:",e.message||e),t({statusCode:e.statusCode||500,message:e.message||"Erro ao criar jornada"})}});export{a as default};
