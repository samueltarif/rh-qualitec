import{d as o,c as a}from"../../../_/nitro.mjs";import{s as r}from"../../../_/serverSupabaseUser.mjs";import{s as t}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const e=o(async o=>{var e;try{if(!await r(o))throw a({statusCode:401,message:"Não autenticado"});const s=await t(o),{data:i,error:c}=await s.from("config_importacao_exportacao").select("*").single();if(c){if(console.error("Erro ao buscar config:",c),"PGRST116"===c.code||(null==(e=c.message)?void 0:e.includes("does not exist")))return{success:!0,data:{tamanho_maximo_arquivo:10485760,tempo_expiracao_exportacao:24,limite_registros_exportacao:5e4,encoding_padrao:"UTF-8",delimitador_csv:",",validacao_automatica:!0,backup_antes_importacao:!0,notificar_conclusao:!0,permitir_importacao_paralela:!1}};throw c}return{success:!0,data:i}}catch(o){throw console.error("Erro ao buscar configurações:",o),a({statusCode:o.statusCode||500,message:o.message||"Erro ao buscar configurações"})}});export{e as default};
