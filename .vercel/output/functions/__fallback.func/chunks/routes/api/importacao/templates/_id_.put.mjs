import{d as t,c as a,g as e,r as o}from"../../../../_/nitro.mjs";import{s as r}from"../../../../_/serverSupabaseUser.mjs";import{s}from"../../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../../_/fetch-retry.mjs";const i=t(async t=>{try{if(!await r(t))throw a({statusCode:401,message:"NÃ£o autenticado"});const i=e(t,"id"),m=await o(t),p=await s(t),{data:d,error:n}=await p.from("templates_importacao").update({nome:m.nome,descricao:m.descricao,tipo_entidade:m.tipo_entidade,formato:m.formato,ativo:m.ativo,updated_at:(new Date).toISOString()}).eq("id",i).select().single();if(n)throw n;return{success:!0,data:d}}catch(t){throw console.error("Erro ao atualizar template:",t),a({statusCode:t.statusCode||500,message:t.message||"Erro ao atualizar template"})}});export{i as default};
