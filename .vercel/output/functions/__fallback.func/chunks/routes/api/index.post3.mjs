import{d as o,u as e,r,c as t}from"../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const a=o(async o=>{try{const a=e(),s=a.public.supabaseUrl,i=a.supabaseServiceKey,n=await r(o);if(!i)throw t({statusCode:500,message:"Service key n√£o configurada"});const c={Authorization:`Bearer ${i}`,apikey:i,"Content-Type":"application/json",Prefer:"return=representation"},d={nome:n.nome,descricao:n.descricao,cor:n.cor||"blue",icone:n.icone||"heroicons:document-text",ativo:void 0===n.ativo||n.ativo,ordem:n.ordem||0},p=await $fetch(`${s}/rest/v1/categorias_documentos`,{method:"POST",headers:c,body:d});return Array.isArray(p)?p[0]:p}catch(o){throw console.error("[POST CATEGORIA] Erro:",o),t({statusCode:o.statusCode||500,message:o.message||"Erro ao criar categoria"})}});export{a as default};
