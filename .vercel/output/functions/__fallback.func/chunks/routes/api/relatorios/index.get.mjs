import{d as r,c as t}from"../../../_/nitro.mjs";import{s as e}from"../../../_/serverSupabaseClient.mjs";import{s as o}from"../../../_/serverSupabaseUser.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const s=r(async r=>{const s=await e(r);if(!await o(r))throw t({statusCode:401,message:"Não autenticado"});try{const{data:r,error:t}=await s.from("relatorios_templates").select("*").order("favorito",{ascending:!1}).order("nome");if(t)throw t;return{success:!0,data:r||[]}}catch(r){throw console.error("Erro ao buscar templates:",r),t({statusCode:500,message:r.message||"Erro ao buscar templates de relatórios"})}});export{s as default};
