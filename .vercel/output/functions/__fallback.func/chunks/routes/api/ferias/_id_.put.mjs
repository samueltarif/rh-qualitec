import{d as o,g as a,r as t,c as r}from"../../../_/nitro.mjs";import{s}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const e=o(async o=>{const e=await s(o),i=a(o,"id"),n=await t(o);if(!i)throw r({statusCode:400,message:"ID é obrigatório"});const d={},m=["data_inicio","data_fim","dias_gozo","dias_abono","tipo","vender_dias","adiantamento_13","observacoes","valor_ferias","valor_terco","valor_abono","valor_total"];for(const o of m)void 0!==n[o]&&(d[o]=n[o]);const{data:p,error:f}=await e.from("ferias").update(d).eq("id",i).select().single();if(f)throw console.error("Erro ao atualizar férias:",f),r({statusCode:500,message:f.message});return p});export{e as default};
