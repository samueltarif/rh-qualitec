import{d as e,u as s,c as t}from"../../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";const r=e(async e=>{try{const e=s(),r=e.public.supabaseUrl,o=e.supabaseServiceKey;if(!o)throw t({statusCode:500,message:"Service key não configurada"});return{success:!0,data:await $fetch(`${r}/rest/v1/app_users?select=*&order=created_at.desc`,{headers:{Authorization:`Bearer ${o}`,apikey:o}})||[]}}catch(e){throw console.error("[LIST USERS] Erro:",e.message||e),t({statusCode:e.statusCode||500,message:e.message||"Erro ao listar usuários"})}});export{r as default};
