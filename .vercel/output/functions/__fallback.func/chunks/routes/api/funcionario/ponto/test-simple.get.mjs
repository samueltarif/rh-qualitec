import{d as e,c as t}from"../../../../_/nitro.mjs";import{s}from"../../../../_/serverSupabaseClient.mjs";import{s as o}from"../../../../_/serverSupabaseUser.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../../_/fetch-retry.mjs";const r=e(async e=>{try{await s(e);const r=await o(e);if(!r)throw t({statusCode:401,message:"Não autenticado"});return{success:!0,message:"API funcionando",user:{id:r.id,email:r.email},timestamp:(new Date).toISOString()}}catch(e){throw console.error("❌ Erro na API de teste:",e),t({statusCode:500,message:"Erro na API de teste: "+e.message})}});export{r as default};
