import{d as t,a as o,c as s}from"../../../_/nitro.mjs";import{s as e}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const r=t(async t=>{const r=await e(t),a=o(t);let i=r.from("logs_sincronizacao").select("*").order("created_at",{ascending:!1});a.tipo&&(i=i.eq("tipo_integracao",a.tipo)),a.status&&(i=i.eq("status",a.status));const m=a.limit?Number(a.limit):50;i=i.limit(m);const{data:n,error:p}=await i;if(p)throw s({statusCode:500,message:p.message});return n||[]});export{r as default};
