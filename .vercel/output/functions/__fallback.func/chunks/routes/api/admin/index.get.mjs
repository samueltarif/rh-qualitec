import{d as o,a as t,c as a}from"../../../_/nitro.mjs";import{s}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const e=o(async o=>{const e=await s(o),r=t(o);let i=e.from("solicitacoes_alteracao_dados").select("\n      *,\n      colaborador:colaboradores(id, nome, matricula, cpf),\n      aprovador:app_users!solicitacoes_alteracao_dados_aprovado_por_fkey(id, nome)\n    ").order("created_at",{ascending:!1});r.status&&(i=i.eq("status",r.status)),r.tipo&&(i=i.eq("tipo",r.tipo));const{data:p,error:d}=await i;if(d)throw a({statusCode:500,message:d.message});return p||[]});export{e as default};
