import{d as s,c as t}from"../../../../_/nitro.mjs";import{s as a}from"../../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../../_/fetch-retry.mjs";const e=s(async s=>{const e=await a(s);try{const{data:s,error:a}=await e.from("solicitacoes_funcionario").select("status");if(a)throw t({statusCode:500,message:a.message});const o={total:(null==s?void 0:s.length)||0,pendentes:0,em_analise:0,aprovadas:0,rejeitadas:0,concluidas:0};for(const t of s||[])"Pendente"===t.status&&o.pendentes++,"Em_Analise"===t.status&&o.em_analise++,"Aprovada"===t.status&&o.aprovadas++,"Rejeitada"===t.status&&o.rejeitadas++,"Concluida"===t.status&&o.concluidas++;return o}catch(s){throw console.error("Erro ao buscar estatísticas:",s),t({statusCode:500,message:s.message||"Erro ao buscar estatísticas"})}});export{e as default};
