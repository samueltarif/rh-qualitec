import{d as o,c as r}from"../../../_/nitro.mjs";import{s}from"../../../_/serverSupabaseClient.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/ssr";import"../../../_/fetch-retry.mjs";const e=o(async o=>{const e=await s(o);try{const{data:o,error:s}=await e.from("comunicados").select("\n        *,\n        publicado:app_users!comunicados_publicado_por_fkey(nome)\n      ").order("created_at",{ascending:!1});if(s)throw r({statusCode:500,message:s.message});return o||[]}catch(o){throw console.error("Erro ao buscar comunicados:",o),r({statusCode:500,message:o.message||"Erro ao buscar comunicados"})}});export{e as default};
