import{d as s}from"../../../_/nitro.mjs";import{s as e}from"../../../_/serverSupabaseServiceRole.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@supabase/functions-js";import"../../../virtual/_commonjsHelpers.mjs";import"@supabase/postgrest-js";import"@supabase/realtime-js";import"@supabase/storage-js";import"@supabase/auth-js";import"../../../_/fetch-retry.mjs";const t=s(async s=>{try{const t=e(s);console.log("ğŸ§ª Teste simples de assinaturas...");const{data:o,error:r}=await t.from("assinaturas_ponto").select("*").order("created_at",{ascending:!1});return console.log("ğŸ“Š Resultado do teste:",{total:(null==o?void 0:o.length)||0,error:(null==r?void 0:r.message)||null,primeiros3:(null==o?void 0:o.slice(0,3))||[]}),r?{success:!1,error:r.message,total:0,assinaturas:[]}:{success:!0,total:(null==o?void 0:o.length)||0,assinaturas:o||[],message:`Encontradas ${(null==o?void 0:o.length)||0} assinaturas`}}catch(s){return console.error("âŒ Erro no teste:",s),{success:!1,error:s.message,total:0,assinaturas:[]}}});export{t as default};
