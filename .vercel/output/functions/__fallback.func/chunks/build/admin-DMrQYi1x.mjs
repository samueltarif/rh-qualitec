import{i as e}from"../_/nitro.mjs";import{k as r,l as o,u as t,n as i}from"./server.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"vue/server-renderer";import"unhead/server";import"devalue";import"pinia";import"vue-router";import"@supabase/ssr";const n=r(async(r,n)=>{let s,m;const a=o(),{currentUser:p,initAuth:u,isAdmin:d}=t();return a.value?(p.value||([s,m]=e(()=>u()),await s,m()),p.value?d.value?void console.log("✅ Acesso admin permitido para:",p.value.email):(console.warn("Acesso negado: usuário não é admin"),i("/employee")):i("/login")):i("/login")});export{n as default};
