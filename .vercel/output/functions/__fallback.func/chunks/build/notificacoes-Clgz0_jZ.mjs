import{_ as e}from"./BasePageHeader-D1TyVd9P.mjs";import{defineComponent as a,ref as i,watch as t,resolveComponent as s,mergeProps as o,withCtx as n,unref as r,createVNode as c,createTextVNode as d,withDirectives as l,vModelCheckbox as p,vModelText as m,isRef as u,computed as _,useSSRContext as f}from"vue";import{ssrRenderAttrs as v,ssrRenderComponent as x,ssrIncludeBooleanAttr as b,ssrRenderList as h,ssrRenderClass as g,ssrInterpolate as y,ssrLooseContain as k,ssrRenderAttr as $,ssrLooseEqual as U,ssrRenderSlot as A}from"vue/server-renderer";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"pinia";import"vue-router";import"@supabase/ssr";import"./UserProfileDropdown-D7V90wtd.mjs";import"./UIButton-BfdUCxqX.mjs";const w=a({__name:"CardNotificacoesStats",__ssrInlineRender:!0,props:{stats:{}},setup:e=>(a,i,t,n)=>{const r=s("Icon");i(`<div${v(o({class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},n))}><div class="card bg-gradient-to-br from-red-500 to-red-600 text-white"><div class="flex items-center gap-3">`),i(x(r,{name:"heroicons:exclamation-circle",size:"32",class:"opacity-80"},null,t)),i(`<div><p class="text-2xl font-bold">${y(e.stats.criticos)}</p><p class="text-sm opacity-80">Críticos</p></div></div></div><div class="card bg-gradient-to-br from-amber-500 to-amber-600 text-white"><div class="flex items-center gap-3">`),i(x(r,{name:"heroicons:exclamation-triangle",size:"32",class:"opacity-80"},null,t)),i(`<div><p class="text-2xl font-bold">${y(e.stats.altos)}</p><p class="text-sm opacity-80">Alta Prioridade</p></div></div></div><div class="card bg-gradient-to-br from-blue-500 to-blue-600 text-white"><div class="flex items-center gap-3">`),i(x(r,{name:"heroicons:bell",size:"32",class:"opacity-80"},null,t)),i(`<div><p class="text-2xl font-bold">${y(e.stats.pendentes)}</p><p class="text-sm opacity-80">Pendentes</p></div></div></div><div class="card bg-gradient-to-br from-green-500 to-green-600 text-white"><div class="flex items-center gap-3">`),i(x(r,{name:"heroicons:check-circle",size:"32",class:"opacity-80"},null,t)),i(`<div><p class="text-2xl font-bold">${y(e.stats.resolvidos)}</p><p class="text-sm opacity-80">Resolvidos</p></div></div></div></div>`)}}),D=w.setup;w.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/CardNotificacoesStats.vue"),D?D(e,a):void 0};const N=Object.assign(w,{__name:"CardNotificacoesStats"}),C=a({__name:"CardConfigNotificacao",__ssrInlineRender:!0,props:{title:{},icon:{},iconColor:{}},setup:e=>(a,i,t,n)=>{const r=s("Icon");i(`<div${v(o({class:"card"},n))}><h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">`),i(x(r,{name:e.icon,class:e.iconColor},null,t)),i(` ${y(e.title)}</h3><div class="grid md:grid-cols-2 gap-4">`),A(a.$slots,"default",{},null,i,t),i("</div></div>")}}),L=C.setup;C.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/CardConfigNotificacao.vue"),L?L(e,a):void 0};const V=Object.assign(C,{__name:"CardConfigNotificacao"}),E=a({__name:"FormCheckboxDias",__ssrInlineRender:!0,props:{label:{},checked:{type:Boolean},dias:{},diasLabel:{},showDias:{type:Boolean},min:{},max:{},suffix:{}},emits:["update:checked","update:dias"],setup:e=>(a,i,t,s)=>{i(`<div${v(o({class:"contents"},s))}><label class="flex items-center gap-3"><input type="checkbox"${b(e.checked)?" checked":""} class="rounded text-red-600"><span>${y(e.label)}</span></label>`),e.showDias?(i(`<div class="flex items-center gap-2"><span class="text-sm text-gray-600">${y(e.diasLabel)}</span><input type="number"${$("value",e.dias)} class="input w-20"${$("min",e.min)}${$("max",e.max)}>`),e.suffix?i(`<span class="text-sm text-gray-500">${y(e.suffix)}</span>`):i("\x3c!----\x3e"),i("</div>")):i("<div></div>"),i("</div>")}}),j=E.setup;E.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/FormCheckboxDias.vue"),j?j(e,a):void 0};const S=Object.assign(E,{__name:"FormCheckboxDias"}),P=a({__name:"ItemAlerta",__ssrInlineRender:!0,props:{alerta:{}},emits:["marcar","excluir"],setup(e){const a=e,i=_(()=>{const e={critica:"bg-red-100 text-red-700",alta:"bg-orange-100 text-orange-700",media:"bg-amber-100 text-amber-700",baixa:"bg-blue-100 text-blue-700"};return e[a.alerta.prioridade]||e.media}),formatDate=e=>new Date(e).toLocaleDateString("pt-BR");return(a,t,n,c)=>{const d=s("Icon");t(`<div${v(o({class:["card hover:shadow-md transition-shadow",{"opacity-60":"resolvido"===e.alerta.status||"ignorado"===e.alerta.status}]},c))}><div class="flex items-start gap-4"><div class="w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 bg-amber-100">`),t(x(d,{name:e.alerta.tipo_alerta?.icone||"heroicons:bell",class:"text-amber-600",size:"20"},null,n)),t(`</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h4 class="font-semibold text-gray-800">${y(e.alerta.titulo)}</h4><span class="${g([r(i),"px-2 py-0.5 rounded text-xs"])}">${y(e.alerta.prioridade)}</span></div><p class="text-sm text-gray-600 mb-2">${y(e.alerta.mensagem)}</p><div class="flex items-center gap-4 text-xs text-gray-500">`),e.alerta.colaborador?(t("<span>"),t(x(d,{name:"heroicons:user",class:"inline mr-1"},null,n)),t(` ${y(e.alerta.colaborador.nome)}</span>`)):t("\x3c!----\x3e"),e.alerta.data_vencimento?(t("<span>"),t(x(d,{name:"heroicons:calendar",class:"inline mr-1"},null,n)),t(` ${y(formatDate(e.alerta.data_vencimento))}</span>`)):t("\x3c!----\x3e"),t("<span>"),t(x(d,{name:"heroicons:clock",class:"inline mr-1"},null,n)),t(` ${y(formatDate(e.alerta.created_at))}</span></div></div><div class="flex gap-2">`),"pendente"===e.alerta.status?(t('<button class="btn-icon" title="Marcar como lido">'),t(x(d,{name:"heroicons:eye",size:"18"},null,n)),t("</button>")):t("\x3c!----\x3e"),"resolvido"!==e.alerta.status?(t('<button class="btn-icon text-green-600 hover:bg-green-50" title="Marcar como resolvido">'),t(x(d,{name:"heroicons:check-circle",size:"18"},null,n)),t("</button>")):t("\x3c!----\x3e"),"pendente"===e.alerta.status?(t('<button class="btn-icon text-gray-400 hover:bg-gray-100" title="Ignorar">'),t(x(d,{name:"heroicons:x-mark",size:"18"},null,n)),t("</button>")):t("\x3c!----\x3e"),t('<button class="btn-icon text-red-600 hover:bg-red-50" title="Excluir">'),t(x(d,{name:"heroicons:trash",size:"18"},null,n)),t("</button></div></div></div>")}}}),T=P.setup;P.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/ItemAlerta.vue"),T?T(e,a):void 0};const I=Object.assign(P,{__name:"ItemAlerta"}),R=a({__name:"SectionAlertasTipos",__ssrInlineRender:!0,props:{tiposAlertas:{}},setup(e){const a=e,i=_(()=>{const e={};for(const i of a.tiposAlertas)e[i.categoria]||(e[i.categoria]=[]),e[i.categoria].push(i);return e}),corPrioridade=e=>{const a={critica:"bg-red-100 text-red-700",alta:"bg-orange-100 text-orange-700",media:"bg-amber-100 text-amber-700",baixa:"bg-blue-100 text-blue-700"};return a[e]||a.media};return(e,a,t,o)=>{const n=s("Icon");a(`<div${v(o)}><p class="text-gray-600 mb-6">Tipos de alertas disponíveis no sistema, organizados por categoria.</p><div class="space-y-6">\x3c!--[--\x3e`),h(r(i),(e,i)=>{var s;a(`<div class="card"><h3 class="text-lg font-semibold text-gray-800 mb-4">${y((s=i,{documentos:"Documentos",ferias:"Férias",contratos:"Contratos",saude:"Saúde/Exames",ponto:"Ponto",pessoal:"Pessoal",afastamentos:"Afastamentos",treinamentos:"Treinamentos",folha:"Folha de Pagamento",sistema:"Sistema"}[s]||s))}</h3><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-3">\x3c!--[--\x3e`),h(e,e=>{a(`<div class="flex items-center gap-3 p-3 rounded-lg bg-gray-50"><div class="${g([`bg-${e.cor}-100`,"w-8 h-8 rounded flex items-center justify-center"])}">`),a(x(n,{name:e.icone,class:`text-${e.cor}-600`,size:"18"},null,t)),a(`</div><div class="flex-1 min-w-0"><p class="font-medium text-gray-800 text-sm">${y(e.nome)}</p><p class="text-xs text-gray-500 truncate">${y(e.descricao)}</p></div><span class="${g([corPrioridade(e.prioridade),"px-2 py-0.5 rounded text-xs"])}">${y(e.prioridade)}</span></div>`)}),a("\x3c!--]--\x3e</div></div>")}),a("\x3c!--]--\x3e</div></div>")}}}),z=R.setup;R.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/SectionAlertasTipos.vue"),z?z(e,a):void 0};const q=Object.assign(R,{__name:"SectionAlertasTipos"}),M=a({__name:"ModalAlerta",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},editando:{},tiposAlertas:{},colaboradores:{}},emits:["update:modelValue","salvar"],setup(e,{emit:a}){const n=e,c=i(!1),d=i({titulo:"",mensagem:"",prioridade:"media",data_vencimento:"",tipo_alerta_id:"",colaborador_id:""});return t(()=>n.modelValue,e=>{e&&n.editando?d.value={titulo:n.editando.titulo,mensagem:n.editando.mensagem,prioridade:n.editando.prioridade,data_vencimento:n.editando.data_vencimento||"",tipo_alerta_id:n.editando.tipo_alerta_id||"",colaborador_id:n.editando.colaborador_id||""}:e&&(d.value={titulo:"",mensagem:"",prioridade:"media",data_vencimento:"",tipo_alerta_id:"",colaborador_id:""})}),(a,i,t,n)=>{const l=s("Icon");e.modelValue?(i(`<div${v(o({class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},n))}><div class="bg-white rounded-lg shadow-xl w-full max-w-lg mx-4"><div class="flex items-center justify-between p-4 border-b"><h3 class="text-lg font-semibold">${y(e.editando?"Editar Alerta":"Novo Alerta Manual")}</h3><button class="btn-icon">`),i(x(l,{name:"heroicons:x-mark",size:"20"},null,t)),i(`</button></div><div class="p-4 space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Título *</label><input${$("value",r(d).titulo)} type="text" class="input w-full" placeholder="Ex: Lembrete importante"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Mensagem *</label><textarea class="input w-full" rows="3" placeholder="Descreva o alerta...">${y(r(d).mensagem)}</textarea></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Prioridade</label><select class="input w-full"><option value="baixa"${b(Array.isArray(r(d).prioridade)?k(r(d).prioridade,"baixa"):U(r(d).prioridade,"baixa"))?" selected":""}>Baixa</option><option value="media"${b(Array.isArray(r(d).prioridade)?k(r(d).prioridade,"media"):U(r(d).prioridade,"media"))?" selected":""}>Média</option><option value="alta"${b(Array.isArray(r(d).prioridade)?k(r(d).prioridade,"alta"):U(r(d).prioridade,"alta"))?" selected":""}>Alta</option><option value="critica"${b(Array.isArray(r(d).prioridade)?k(r(d).prioridade,"critica"):U(r(d).prioridade,"critica"))?" selected":""}>Crítica</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Data Limite</label><input${$("value",r(d).data_vencimento)} type="date" class="input w-full"></div></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Alerta</label><select class="input w-full"><option value=""${b(Array.isArray(r(d).tipo_alerta_id)?k(r(d).tipo_alerta_id,""):U(r(d).tipo_alerta_id,""))?" selected":""}>Nenhum (alerta manual)</option>\x3c!--[--\x3e`),h(e.tiposAlertas,e=>{i(`<option${$("value",e.id)}${b(Array.isArray(r(d).tipo_alerta_id)?k(r(d).tipo_alerta_id,e.id):U(r(d).tipo_alerta_id,e.id))?" selected":""}>${y(e.nome)}</option>`)}),i(`\x3c!--]--\x3e</select></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Colaborador (opcional)</label><select class="input w-full"><option value=""${b(Array.isArray(r(d).colaborador_id)?k(r(d).colaborador_id,""):U(r(d).colaborador_id,""))?" selected":""}>Nenhum</option>\x3c!--[--\x3e`),h(e.colaboradores,e=>{i(`<option${$("value",e.id)}${b(Array.isArray(r(d).colaborador_id)?k(r(d).colaborador_id,e.id):U(r(d).colaborador_id,e.id))?" selected":""}>${y(e.nome)}</option>`)}),i(`\x3c!--]--\x3e</select></div></div><div class="flex justify-end gap-3 p-4 border-t bg-gray-50"><button class="btn-secondary">Cancelar</button><button${b(r(c))?" disabled":""} class="btn-primary">`),i(x(l,{name:r(c)?"heroicons:arrow-path":"heroicons:check",class:[{"animate-spin":r(c)},"mr-2"]},null,t)),i(` ${y(r(c)?"Salvando...":"Salvar Alerta")}</button></div></div></div>`)):i("\x3c!----\x3e")}}}),O=M.setup;M.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("components/ModalAlerta.vue"),O?O(e,a):void 0};const B=Object.assign(M,{__name:"ModalAlerta"}),F={notificar_documentos_vencendo:!0,dias_antecedencia_documentos:30,notificar_contratos_vencendo:!0,dias_antecedencia_contratos:60,notificar_ferias_vencendo:!0,dias_antecedencia_ferias:30,notificar_ferias_programadas:!0,dias_antecedencia_ferias_programadas:15,notificar_aniversarios:!0,dias_antecedencia_aniversarios:1,notificar_aniversarios_empresa:!0,dias_antecedencia_aniversarios_empresa:7,notificar_exames_vencendo:!0,dias_antecedencia_exames:30,notificar_experiencia_vencendo:!0,dias_antecedencia_experiencia:15,notificar_faltas_injustificadas:!0,notificar_atrasos_frequentes:!0,limite_atrasos_mes:3,notificar_horas_extras_excessivas:!0,limite_horas_extras_mes:40,notificar_folha_processada:!0,notificar_erros_folha:!0,notificar_afastamentos_longos:!0,dias_afastamento_longo:15,notificar_retorno_afastamento:!0,dias_antecedencia_retorno:3,notificar_certificados_vencendo:!0,dias_antecedencia_certificados:60,enviar_email:!0,enviar_sistema:!0,enviar_push:!1,notificar_rh:!0,notificar_gestor:!0,notificar_colaborador:!1,horario_envio_diario:"08:00:00",dias_envio_semanal:[1,2,3,4,5],enviar_resumo_diario:!0,horario_resumo_diario:"07:00:00"},H=a({__name:"notificacoes",__ssrInlineRender:!0,setup(a){const{config:_,stats:f,alertas:A,tiposAlertas:w,carregarAlertas:D,gerarAlertas:C,marcarAlerta:L,salvarAlerta:E,excluirAlerta:j}=(()=>{const e=i({...F}),a=i({total:0,pendentes:0,lidos:0,resolvidos:0,ignorados:0,criticos:0,altos:0,medios:0,baixos:0}),t=i([]),s=i([]),o=i(!1),carregarStats=async()=>{try{const e=await $fetch("/api/alertas/stats");e&&(a.value=e)}catch(e){console.error("Erro ao carregar stats:",e)}},carregarAlertas=async e=>{try{const a={};e?.status&&"todos"!==e.status&&(a.status=e.status),e?.prioridade&&"todas"!==e.prioridade&&(a.prioridade=e.prioridade),t.value=await $fetch("/api/alertas",{params:a})}catch(e){t.value=[]}};return{config:e,stats:a,alertas:t,tiposAlertas:s,loading:o,carregarConfig:async()=>{try{const a=await $fetch("/api/notificacoes/config");a&&(e.value={...e.value,...a})}catch(e){console.error("Erro ao carregar config:",e)}},salvarConfig:async()=>{await $fetch("/api/notificacoes/config",{method:"PUT",body:e.value})},carregarStats:carregarStats,carregarAlertas:carregarAlertas,carregarTiposAlertas:async()=>{try{s.value=await $fetch("/api/alertas/tipos")}catch(e){s.value=[]}},gerarAlertas:async()=>{const e=await $fetch("/api/alertas/gerar",{method:"POST"});return await carregarStats(),await carregarAlertas(),e},marcarAlerta:async(e,a)=>{await $fetch(`/api/alertas/${e}`,{method:"PUT",body:{status:a}}),await carregarStats(),await carregarAlertas()},salvarAlerta:async(e,a)=>{a?await $fetch(`/api/alertas/${a}`,{method:"PUT",body:e}):await $fetch("/api/alertas",{method:"POST",body:e}),await carregarStats(),await carregarAlertas()},excluirAlerta:async e=>{await $fetch(`/api/alertas/${e}`,{method:"DELETE"}),await carregarStats(),await carregarAlertas()}}})(),P=i("configuracoes"),T=i(!1),R=i(!1),z=i("pendente"),M=i("todas"),O=i(!1),H=i(null),G=i([]),X=[{id:"configuracoes",label:"Configurações",icon:"heroicons:cog-6-tooth"},{id:"alertas",label:`Alertas Ativos (${f.value.pendentes})`,icon:"heroicons:bell-alert"},{id:"tipos",label:"Tipos de Alertas",icon:"heroicons:tag"}],handleGerarAlertas=async()=>{R.value=!0;try{const e=await C();alert(`${e.alertas_inseridos} novos alertas gerados!`)}catch{alert("Erro ao gerar alertas")}finally{R.value=!1}},handleSalvarAlerta=async e=>{try{await E({titulo:e.titulo,mensagem:e.mensagem,prioridade:e.prioridade,data_vencimento:e.data_vencimento||null,tipo_alerta_id:e.tipo_alerta_id||null,colaborador_id:e.colaborador_id||null},H.value?.id),O.value=!1}catch{alert("Erro ao salvar alerta")}};return t([z,M],()=>{D({status:z.value,prioridade:M.value})}),(a,i,t,D)=>{const C=e,E=s("Icon"),F=N,J=V,K=S,Q=I,W=q,Y=B;i(`<div${v(o({class:"min-h-screen bg-gray-50"},D))}>`),i(x(C,{title:"Notificações e Alertas",subtitle:"Configure avisos automáticos do sistema RH",backTo:"/configuracoes",theme:"admin"},{actions:n((e,a,i,t)=>{if(!a)return[c("button",{onClick:handleGerarAlertas,disabled:r(R),class:"btn-secondary"},[c(E,{name:r(R)?"heroicons:arrow-path":"heroicons:bolt",class:[{"animate-spin":r(R)},"mr-2"]},null,8,["name","class"]),d(" Gerar Alertas Agora ")],8,["disabled"])];a(`<button${b(r(R))?" disabled":""} class="btn-secondary"${t}>`),a(x(E,{name:r(R)?"heroicons:arrow-path":"heroicons:bolt",class:[{"animate-spin":r(R)},"mr-2"]},null,i,t)),a(" Gerar Alertas Agora </button>")}),_:1},t)),i('<div class="max-w-7xl mx-auto p-8">'),i(x(F,{stats:r(f)},null,t)),i('<div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-6"><div class="flex border-b border-gray-200">\x3c!--[--\x3e'),h(X,e=>{i(`<button class="${g([r(P)===e.id?"text-red-700 border-b-2 border-red-700":"text-gray-500 hover:text-gray-700","px-6 py-3 font-medium transition-colors"])}">`),i(x(E,{name:e.icon,class:"inline mr-2"},null,t)),i(` ${y(e.label)}</button>`)}),i("\x3c!--]--\x3e</div></div>"),"configuracoes"===r(P)?(i('<div class="space-y-6">'),i(x(J,{title:"Documentos",icon:"heroicons:document-text",iconColor:"text-amber-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_documentos_vencendo,"onUpdate:checked":e=>r(_).notificar_documentos_vencendo=e,label:"Notificar documentos vencendo",dias:r(_).dias_antecedencia_documentos,"onUpdate:dias":e=>r(_).dias_antecedencia_documentos=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_documentos_vencendo,"onUpdate:checked":e=>r(_).notificar_documentos_vencendo=e,label:"Notificar documentos vencendo",dias:r(_).dias_antecedencia_documentos,"onUpdate:dias":e=>r(_).dias_antecedencia_documentos=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,i,t))}),_:1},t)),i(x(J,{title:"Contratos e Experiência",icon:"heroicons:document-check",iconColor:"text-purple-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_contratos_vencendo,"onUpdate:checked":e=>r(_).notificar_contratos_vencendo=e,label:"Notificar contratos vencendo",dias:r(_).dias_antecedencia_contratos,"onUpdate:dias":e=>r(_).dias_antecedencia_contratos=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:120},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"]),c(K,{checked:r(_).notificar_experiencia_vencendo,"onUpdate:checked":e=>r(_).notificar_experiencia_vencendo=e,label:"Notificar período de experiência",dias:r(_).dias_antecedencia_experiencia,"onUpdate:dias":e=>r(_).dias_antecedencia_experiencia=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:30},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_contratos_vencendo,"onUpdate:checked":e=>r(_).notificar_contratos_vencendo=e,label:"Notificar contratos vencendo",dias:r(_).dias_antecedencia_contratos,"onUpdate:dias":e=>r(_).dias_antecedencia_contratos=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:120},null,i,t)),a(x(K,{checked:r(_).notificar_experiencia_vencendo,"onUpdate:checked":e=>r(_).notificar_experiencia_vencendo=e,label:"Notificar período de experiência",dias:r(_).dias_antecedencia_experiencia,"onUpdate:dias":e=>r(_).dias_antecedencia_experiencia=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:30},null,i,t))}),_:1},t)),i(x(J,{title:"Férias",icon:"heroicons:sun",iconColor:"text-cyan-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_ferias_vencendo,"onUpdate:checked":e=>r(_).notificar_ferias_vencendo=e,label:"Notificar férias vencendo",dias:r(_).dias_antecedencia_ferias,"onUpdate:dias":e=>r(_).dias_antecedencia_ferias=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"]),c(K,{checked:r(_).notificar_ferias_programadas,"onUpdate:checked":e=>r(_).notificar_ferias_programadas=e,label:"Notificar férias programadas",dias:r(_).dias_antecedencia_ferias_programadas,"onUpdate:dias":e=>r(_).dias_antecedencia_ferias_programadas=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:30},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_ferias_vencendo,"onUpdate:checked":e=>r(_).notificar_ferias_vencendo=e,label:"Notificar férias vencendo",dias:r(_).dias_antecedencia_ferias,"onUpdate:dias":e=>r(_).dias_antecedencia_ferias=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,i,t)),a(x(K,{checked:r(_).notificar_ferias_programadas,"onUpdate:checked":e=>r(_).notificar_ferias_programadas=e,label:"Notificar férias programadas",dias:r(_).dias_antecedencia_ferias_programadas,"onUpdate:dias":e=>r(_).dias_antecedencia_ferias_programadas=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:30},null,i,t))}),_:1},t)),i(x(J,{title:"Aniversários",icon:"heroicons:cake",iconColor:"text-pink-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_aniversarios,"onUpdate:checked":e=>r(_).notificar_aniversarios=e,label:"Notificar aniversários",dias:r(_).dias_antecedencia_aniversarios,"onUpdate:dias":e=>r(_).dias_antecedencia_aniversarios=e,diasLabel:"Dias de antecedência:",showDias:"",min:0,max:7},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"]),c(K,{checked:r(_).notificar_aniversarios_empresa,"onUpdate:checked":e=>r(_).notificar_aniversarios_empresa=e,label:"Notificar aniversários de empresa",dias:r(_).dias_antecedencia_aniversarios_empresa,"onUpdate:dias":e=>r(_).dias_antecedencia_aniversarios_empresa=e,diasLabel:"Dias de antecedência:",showDias:"",min:0,max:30},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_aniversarios,"onUpdate:checked":e=>r(_).notificar_aniversarios=e,label:"Notificar aniversários",dias:r(_).dias_antecedencia_aniversarios,"onUpdate:dias":e=>r(_).dias_antecedencia_aniversarios=e,diasLabel:"Dias de antecedência:",showDias:"",min:0,max:7},null,i,t)),a(x(K,{checked:r(_).notificar_aniversarios_empresa,"onUpdate:checked":e=>r(_).notificar_aniversarios_empresa=e,label:"Notificar aniversários de empresa",dias:r(_).dias_antecedencia_aniversarios_empresa,"onUpdate:dias":e=>r(_).dias_antecedencia_aniversarios_empresa=e,diasLabel:"Dias de antecedência:",showDias:"",min:0,max:30},null,i,t))}),_:1},t)),i(x(J,{title:"Exames Médicos",icon:"heroicons:heart",iconColor:"text-red-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_exames_vencendo,"onUpdate:checked":e=>r(_).notificar_exames_vencendo=e,label:"Notificar ASO/exames vencendo",dias:r(_).dias_antecedencia_exames,"onUpdate:dias":e=>r(_).dias_antecedencia_exames=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_exames_vencendo,"onUpdate:checked":e=>r(_).notificar_exames_vencendo=e,label:"Notificar ASO/exames vencendo",dias:r(_).dias_antecedencia_exames,"onUpdate:dias":e=>r(_).dias_antecedencia_exames=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:90},null,i,t))}),_:1},t)),i(x(J,{title:"Ponto e Frequência",icon:"heroicons:clock",iconColor:"text-blue-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_faltas_injustificadas,"onUpdate:checked":e=>r(_).notificar_faltas_injustificadas=e,label:"Notificar faltas injustificadas"},null,8,["checked","onUpdate:checked"]),c("div"),c(K,{checked:r(_).notificar_atrasos_frequentes,"onUpdate:checked":e=>r(_).notificar_atrasos_frequentes=e,label:"Notificar atrasos frequentes",dias:r(_).limite_atrasos_mes,"onUpdate:dias":e=>r(_).limite_atrasos_mes=e,diasLabel:"Limite de atrasos/mês:",showDias:"",min:1,max:20},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"]),c(K,{checked:r(_).notificar_horas_extras_excessivas,"onUpdate:checked":e=>r(_).notificar_horas_extras_excessivas=e,label:"Notificar horas extras excessivas",dias:r(_).limite_horas_extras_mes,"onUpdate:dias":e=>r(_).limite_horas_extras_mes=e,diasLabel:"Limite de HE/mês:",showDias:"",min:1,max:100,suffix:"horas"},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_faltas_injustificadas,"onUpdate:checked":e=>r(_).notificar_faltas_injustificadas=e,label:"Notificar faltas injustificadas"},null,i,t)),a(`<div${t}></div>`),a(x(K,{checked:r(_).notificar_atrasos_frequentes,"onUpdate:checked":e=>r(_).notificar_atrasos_frequentes=e,label:"Notificar atrasos frequentes",dias:r(_).limite_atrasos_mes,"onUpdate:dias":e=>r(_).limite_atrasos_mes=e,diasLabel:"Limite de atrasos/mês:",showDias:"",min:1,max:20},null,i,t)),a(x(K,{checked:r(_).notificar_horas_extras_excessivas,"onUpdate:checked":e=>r(_).notificar_horas_extras_excessivas=e,label:"Notificar horas extras excessivas",dias:r(_).limite_horas_extras_mes,"onUpdate:dias":e=>r(_).limite_horas_extras_mes=e,diasLabel:"Limite de HE/mês:",showDias:"",min:1,max:100,suffix:"horas"},null,i,t))}),_:1},t)),i(x(J,{title:"Afastamentos",icon:"heroicons:user-minus",iconColor:"text-orange-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_afastamentos_longos,"onUpdate:checked":e=>r(_).notificar_afastamentos_longos=e,label:"Notificar afastamentos longos",dias:r(_).dias_afastamento_longo,"onUpdate:dias":e=>r(_).dias_afastamento_longo=e,diasLabel:"Dias para considerar longo:",showDias:"",min:1,max:60},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"]),c(K,{checked:r(_).notificar_retorno_afastamento,"onUpdate:checked":e=>r(_).notificar_retorno_afastamento=e,label:"Notificar retorno de afastamento",dias:r(_).dias_antecedencia_retorno,"onUpdate:dias":e=>r(_).dias_antecedencia_retorno=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:15},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_afastamentos_longos,"onUpdate:checked":e=>r(_).notificar_afastamentos_longos=e,label:"Notificar afastamentos longos",dias:r(_).dias_afastamento_longo,"onUpdate:dias":e=>r(_).dias_afastamento_longo=e,diasLabel:"Dias para considerar longo:",showDias:"",min:1,max:60},null,i,t)),a(x(K,{checked:r(_).notificar_retorno_afastamento,"onUpdate:checked":e=>r(_).notificar_retorno_afastamento=e,label:"Notificar retorno de afastamento",dias:r(_).dias_antecedencia_retorno,"onUpdate:dias":e=>r(_).dias_antecedencia_retorno=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:15},null,i,t))}),_:1},t)),i(x(J,{title:"Treinamentos e Certificados",icon:"heroicons:academic-cap",iconColor:"text-indigo-600"},{default:n((e,a,i,t)=>{if(!a)return[c(K,{checked:r(_).notificar_certificados_vencendo,"onUpdate:checked":e=>r(_).notificar_certificados_vencendo=e,label:"Notificar certificados/NRs vencendo",dias:r(_).dias_antecedencia_certificados,"onUpdate:dias":e=>r(_).dias_antecedencia_certificados=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:120},null,8,["checked","onUpdate:checked","dias","onUpdate:dias"])];a(x(K,{checked:r(_).notificar_certificados_vencendo,"onUpdate:checked":e=>r(_).notificar_certificados_vencendo=e,label:"Notificar certificados/NRs vencendo",dias:r(_).dias_antecedencia_certificados,"onUpdate:dias":e=>r(_).dias_antecedencia_certificados=e,diasLabel:"Dias de antecedência:",showDias:"",min:1,max:120},null,i,t))}),_:1},t)),i(x(J,{title:"Folha de Pagamento",icon:"heroicons:banknotes",iconColor:"text-green-600"},{default:n((e,a,i,t)=>{if(!a)return[c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).notificar_folha_processada=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).notificar_folha_processada]]),c("span",null,"Notificar quando folha for processada")]),c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).notificar_erros_folha=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).notificar_erros_folha]]),c("span",null,"Notificar erros no processamento")])];a(`<label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).notificar_folha_processada)?k(r(_).notificar_folha_processada,null):r(_).notificar_folha_processada)?" checked":""} class="rounded text-red-600"${t}><span${t}>Notificar quando folha for processada</span></label><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).notificar_erros_folha)?k(r(_).notificar_erros_folha,null):r(_).notificar_erros_folha)?" checked":""} class="rounded text-red-600"${t}><span${t}>Notificar erros no processamento</span></label>`)}),_:1},t)),i(x(J,{title:"Canais e Destinatários",icon:"heroicons:paper-airplane",iconColor:"text-teal-600"},{default:n((e,a,i,t)=>{if(!a)return[c("div",null,[c("h4",{class:"font-medium text-gray-700 mb-3"},"Canais de Envio"),c("div",{class:"space-y-2"},[c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).enviar_sistema=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).enviar_sistema]]),c("span",null,"Notificações no sistema")]),c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).enviar_email=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).enviar_email]]),c("span",null,"Enviar por e-mail")]),c("label",{class:"flex items-center gap-3 opacity-50"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).enviar_push=e,class:"rounded text-red-600",disabled:""},null,8,["onUpdate:modelValue"]),[[p,r(_).enviar_push]]),c("span",null,"Push notifications (em breve)")])])]),c("div",null,[c("h4",{class:"font-medium text-gray-700 mb-3"},"Destinatários Padrão"),c("div",{class:"space-y-2"},[c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).notificar_rh=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).notificar_rh]]),c("span",null,"Equipe de RH")]),c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).notificar_gestor=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).notificar_gestor]]),c("span",null,"Gestor do colaborador")]),c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).notificar_colaborador=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).notificar_colaborador]]),c("span",null,"Próprio colaborador")])])])];a(`<div${t}><h4 class="font-medium text-gray-700 mb-3"${t}>Canais de Envio</h4><div class="space-y-2"${t}><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).enviar_sistema)?k(r(_).enviar_sistema,null):r(_).enviar_sistema)?" checked":""} class="rounded text-red-600"${t}><span${t}>Notificações no sistema</span></label><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).enviar_email)?k(r(_).enviar_email,null):r(_).enviar_email)?" checked":""} class="rounded text-red-600"${t}><span${t}>Enviar por e-mail</span></label><label class="flex items-center gap-3 opacity-50"${t}><input type="checkbox"${b(Array.isArray(r(_).enviar_push)?k(r(_).enviar_push,null):r(_).enviar_push)?" checked":""} class="rounded text-red-600" disabled${t}><span${t}>Push notifications (em breve)</span></label></div></div><div${t}><h4 class="font-medium text-gray-700 mb-3"${t}>Destinatários Padrão</h4><div class="space-y-2"${t}><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).notificar_rh)?k(r(_).notificar_rh,null):r(_).notificar_rh)?" checked":""} class="rounded text-red-600"${t}><span${t}>Equipe de RH</span></label><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).notificar_gestor)?k(r(_).notificar_gestor,null):r(_).notificar_gestor)?" checked":""} class="rounded text-red-600"${t}><span${t}>Gestor do colaborador</span></label><label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).notificar_colaborador)?k(r(_).notificar_colaborador,null):r(_).notificar_colaborador)?" checked":""} class="rounded text-red-600"${t}><span${t}>Próprio colaborador</span></label></div></div>`)}),_:1},t)),i(x(J,{title:"Resumo Diário",icon:"heroicons:calendar-days",iconColor:"text-slate-600"},{default:n((e,a,i,t)=>{if(!a)return[c("label",{class:"flex items-center gap-3"},[l(c("input",{type:"checkbox","onUpdate:modelValue":e=>r(_).enviar_resumo_diario=e,class:"rounded text-red-600"},null,8,["onUpdate:modelValue"]),[[p,r(_).enviar_resumo_diario]]),c("span",null,"Enviar resumo diário de alertas")]),c("div",{class:"flex items-center gap-2"},[c("span",{class:"text-sm text-gray-600"},"Horário de envio:"),l(c("input",{type:"time","onUpdate:modelValue":e=>r(_).horario_resumo_diario=e,class:"input w-32"},null,8,["onUpdate:modelValue"]),[[m,r(_).horario_resumo_diario]])])];a(`<label class="flex items-center gap-3"${t}><input type="checkbox"${b(Array.isArray(r(_).enviar_resumo_diario)?k(r(_).enviar_resumo_diario,null):r(_).enviar_resumo_diario)?" checked":""} class="rounded text-red-600"${t}><span${t}>Enviar resumo diário de alertas</span></label><div class="flex items-center gap-2"${t}><span class="text-sm text-gray-600"${t}>Horário de envio:</span><input type="time"${$("value",r(_).horario_resumo_diario)} class="input w-32"${t}></div>`)}),_:1},t)),i(`<div class="flex justify-end"><button${b(r(T))?" disabled":""} class="btn-primary px-8">`),i(x(E,{name:r(T)?"heroicons:arrow-path":"heroicons:check",class:[{"animate-spin":r(T)},"mr-2"]},null,t)),i(` ${y(r(T)?"Salvando...":"Salvar Configurações")}</button></div></div>`)):i("\x3c!----\x3e"),"alertas"===r(P)?(i(`<div><div class="flex justify-between items-center mb-6"><div class="flex gap-4"><select class="input"><option value="todos"${b(Array.isArray(r(z))?k(r(z),"todos"):U(r(z),"todos"))?" selected":""}>Todos os status</option><option value="pendente"${b(Array.isArray(r(z))?k(r(z),"pendente"):U(r(z),"pendente"))?" selected":""}>Pendentes</option><option value="lido"${b(Array.isArray(r(z))?k(r(z),"lido"):U(r(z),"lido"))?" selected":""}>Lidos</option><option value="resolvido"${b(Array.isArray(r(z))?k(r(z),"resolvido"):U(r(z),"resolvido"))?" selected":""}>Resolvidos</option><option value="ignorado"${b(Array.isArray(r(z))?k(r(z),"ignorado"):U(r(z),"ignorado"))?" selected":""}>Ignorados</option></select><select class="input"><option value="todas"${b(Array.isArray(r(M))?k(r(M),"todas"):U(r(M),"todas"))?" selected":""}>Todas as prioridades</option><option value="critica"${b(Array.isArray(r(M))?k(r(M),"critica"):U(r(M),"critica"))?" selected":""}>Crítica</option><option value="alta"${b(Array.isArray(r(M))?k(r(M),"alta"):U(r(M),"alta"))?" selected":""}>Alta</option><option value="media"${b(Array.isArray(r(M))?k(r(M),"media"):U(r(M),"media"))?" selected":""}>Média</option><option value="baixa"${b(Array.isArray(r(M))?k(r(M),"baixa"):U(r(M),"baixa"))?" selected":""}>Baixa</option></select></div><button class="btn-primary">`),i(x(E,{name:"heroicons:plus",class:"mr-2"},null,t)),i(" Novo Alerta </button></div>"),0===r(A).length?(i('<div class="card text-center py-12">'),i(x(E,{name:"heroicons:bell-slash",size:"48",class:"text-gray-300 mx-auto mb-4"},null,t)),i('<p class="text-gray-500">Nenhum alerta encontrado</p><button class="btn-primary mt-4">'),i(x(E,{name:"heroicons:bolt",class:"mr-2"},null,t)),i(" Gerar Alertas </button></div>")):(i('<div class="space-y-3">\x3c!--[--\x3e'),h(r(A),e=>{i(x(Q,{key:e.id,alerta:e,onMarcar:a=>(async(e,a)=>{try{await L(e.id,a)}catch{alert("Erro ao atualizar alerta")}})(e,a),onExcluir:a=>(async e=>{if(confirm(`Excluir alerta "${e.titulo}"?`))try{await j(e.id)}catch{alert("Erro ao excluir alerta")}})(e)},null,t))}),i("\x3c!--]--\x3e</div>")),i("</div>")):i("\x3c!----\x3e"),"tipos"===r(P)?i(x(W,{tiposAlertas:r(w)},null,t)):i("\x3c!----\x3e"),i("</div>"),i(x(Y,{modelValue:r(O),"onUpdate:modelValue":e=>u(O)?O.value=e:null,editando:r(H),tiposAlertas:r(w),colaboradores:r(G),onSalvar:handleSalvarAlerta},null,t)),i("</div>")}}}),G=H.setup;H.setup=(e,a)=>{const i=f();return(i.modules||(i.modules=new Set)).add("pages/configuracoes/notificacoes.vue"),G?G(e,a):void 0};export{H as default};
