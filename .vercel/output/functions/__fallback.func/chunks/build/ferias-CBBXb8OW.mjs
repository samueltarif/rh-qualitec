import{_ as e}from"./server.mjs";import{_ as a}from"./UIButton-BfdUCxqX.mjs";import{_ as o}from"./UserProfileDropdown-D7V90wtd.mjs";import{_ as i}from"./UIStatsCard-JOYac-_Z.mjs";import{defineComponent as t,ref as l,computed as r,watch as s,resolveComponent as n,mergeProps as d,withCtx as c,createVNode as m,createTextVNode as u,unref as p,isRef as v,withModifiers as f,createBlock as b,openBlock as g,Fragment as x,renderList as _,toDisplayString as h,createCommentVNode as y,useSSRContext as V}from"vue";import{ssrRenderAttrs as $,ssrRenderComponent as w,ssrRenderList as C,ssrRenderAttr as U,ssrInterpolate as j,ssrRenderClass as S,ssrRenderSlot as A}from"vue/server-renderer";import{_ as k}from"./UISearchInput-c9hD8k5T.mjs";import{_ as z}from"./UISelect-C9tnEbh5.mjs";import{_ as D}from"./UIEmptyState-DSGrV1Ch.mjs";import{_ as E}from"./UIBadge-CtMqDCMe.mjs";import{_ as I}from"./UIInput-CnioD5-Q.mjs";import{_ as P}from"./UICheckbox-D3lSEaws.mjs";import{_ as R}from"./UIModal-PwEumyFL.mjs";import{_ as F}from"./UIDateInput-DiOdCDUy.mjs";import{_ as M}from"./UITextarea-BZYijfXn.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"pinia";import"vue-router";import"@supabase/ssr";const q=t({__name:"UITabs",__ssrInlineRender:!0,props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup:e=>(a,o,i,t)=>{const l=n("Icon");o(`<div${$(t)}><div class="flex gap-1 border-b border-gray-200 overflow-x-auto">\x3c!--[--\x3e`),C(e.tabs,a=>{o(`<button type="button" class="${S([e.modelValue===a.id?"border-red-700 text-red-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors -mb-px flex items-center gap-2"])}">`),a.icon?o(w(l,{name:a.icon,size:"18"},null,i)):o("\x3c!----\x3e"),o(` ${j(a.label)} `),void 0!==a.count&&a.count>0?o(`<span class="${S([e.modelValue===a.id?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600","px-2 py-0.5 text-xs rounded-full"])}">${j(a.count)}</span>`):o("\x3c!----\x3e"),o("</button>")}),o('\x3c!--]--\x3e</div><div class="pt-6">'),A(a.$slots,e.modelValue,{},null,o,i),o("</div></div>")}}),N=q.setup;q.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/UITabs.vue"),N?N(e,a):void 0};const T=Object.assign(q,{__name:"UITabs"}),B=t({__name:"FeriasSolicitacaoCard",__ssrInlineRender:!0,props:{solicitacao:{},showApprovalActions:{type:Boolean,default:!1},showEditAction:{type:Boolean,default:!1},showCancelAction:{type:Boolean,default:!1}},emits:["aprovar","rejeitar","detalhes","editar","cancelar"],setup(e){const o=e,i=r(()=>({pendente:"warning",aprovada:"success",rejeitada:"danger",cancelada:"default",em_gozo:"info",concluida:"success"}[o.solicitacao.status]||"default")),t=r(()=>({pendente:"Pendente",aprovada:"Aprovada",rejeitada:"Rejeitada",cancelada:"Cancelada",em_gozo:"Em Gozo",concluida:"Concluída"}[o.solicitacao.status]||o.solicitacao.status)),l=r(()=>({normal:"Normal",fracionada:"Fracionada",abono_pecuniario:"Com Abono Pecuniário",coletiva:"Coletiva"}[o.solicitacao.tipo]||"Normal")),s=r(()=>({pendente:"bg-amber-100",aprovada:"bg-green-100",rejeitada:"bg-red-100",cancelada:"bg-gray-100",em_gozo:"bg-blue-100",concluida:"bg-green-100"}[o.solicitacao.status]||"bg-gray-100")),v=r(()=>({pendente:"text-amber-600",aprovada:"text-green-600",rejeitada:"text-red-600",cancelada:"text-gray-600",em_gozo:"text-blue-600",concluida:"text-green-600"}[o.solicitacao.status]||"text-gray-600")),formatDate=e=>e?new Date(e).toLocaleDateString("pt-BR"):"-";return(o,r,f,b)=>{const g=n("Icon"),x=E,_=a;r(`<div${$(d({class:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow"},b))}><div class="flex items-start justify-between mb-3"><div class="flex items-center gap-3"><div class="${S([p(s),"w-10 h-10 rounded-full flex items-center justify-center"])}">`),r(w(g,{name:"heroicons:user",class:p(v),size:"20"},null,f)),r(`</div><div><h4 class="font-semibold text-gray-800">${j(e.solicitacao.colaborador_nome)}</h4><p class="text-sm text-gray-500">${j(e.solicitacao.cargo||"Colaborador")}</p></div></div>`),r(w(x,{variant:p(i)},{default:c((e,a,o,i)=>{if(!a)return[u(h(p(t)),1)];a(`${j(p(t))}`)}),_:1},f)),r('</div><div class="space-y-2 mb-4"><div class="flex items-center gap-2 text-sm text-gray-600">'),r(w(g,{name:"heroicons:calendar",size:"16",class:"text-gray-400"},null,f)),r(`<span>${j(formatDate(e.solicitacao.data_inicio))} a ${j(formatDate(e.solicitacao.data_fim))}</span></div><div class="flex items-center gap-2 text-sm text-gray-600">`),r(w(g,{name:"heroicons:clock",size:"16",class:"text-gray-400"},null,f)),r(`<span>${j(e.solicitacao.dias_solicitados)} dias</span></div><div class="flex items-center gap-2 text-sm text-gray-600">`),r(w(g,{name:"heroicons:tag",size:"16",class:"text-gray-400"},null,f)),r(`<span>${j(p(l))}</span></div></div>`),e.solicitacao.vender_dias||e.solicitacao.adiantamento_13?(r('<div class="flex flex-wrap gap-2 mb-4">'),e.solicitacao.vender_dias?r(`<span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full"> Venda ${j(e.solicitacao.dias_venda)} dias </span>`):r("\x3c!----\x3e"),e.solicitacao.adiantamento_13?r('<span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"> Adiant. 13º </span>'):r("\x3c!----\x3e"),r("</div>")):r("\x3c!----\x3e"),"rejeitada"===e.solicitacao.status&&e.solicitacao.motivo_rejeicao?r(`<div class="bg-red-50 rounded-lg p-3 mb-4"><p class="text-xs text-red-600 font-medium mb-1">Motivo da rejeição:</p><p class="text-sm text-red-700">${j(e.solicitacao.motivo_rejeicao)}</p></div>`):r("\x3c!----\x3e"),r('<div class="flex gap-2 pt-4 border-t border-gray-100">'),"pendente"===e.solicitacao.status&&e.showApprovalActions?r(w(_,{theme:"admin",variant:"success",size:"sm",onClick:a=>o.$emit("aprovar",e.solicitacao)},{default:c((e,a,o,i)=>{if(!a)return[m(g,{name:"heroicons:check",size:"16"})];a(w(g,{name:"heroicons:check",size:"16"},null,o,i))}),_:1},f)):r("\x3c!----\x3e"),"pendente"===e.solicitacao.status&&e.showApprovalActions?r(w(_,{theme:"admin",variant:"danger",size:"sm",onClick:a=>o.$emit("rejeitar",e.solicitacao)},{default:c((e,a,o,i)=>{if(!a)return[m(g,{name:"heroicons:x-mark",size:"16"})];a(w(g,{name:"heroicons:x-mark",size:"16"},null,o,i))}),_:1},f)):r("\x3c!----\x3e"),r(w(_,{theme:"admin",variant:"ghost",size:"sm",onClick:a=>o.$emit("detalhes",e.solicitacao)},{default:c((e,a,o,i)=>{if(!a)return[m(g,{name:"heroicons:eye",size:"16"})];a(w(g,{name:"heroicons:eye",size:"16"},null,o,i))}),_:1},f)),"pendente"===e.solicitacao.status&&e.showEditAction?r(w(_,{theme:"admin",variant:"ghost",size:"sm",onClick:a=>o.$emit("editar",e.solicitacao)},{default:c((e,a,o,i)=>{if(!a)return[m(g,{name:"heroicons:pencil",size:"16"})];a(w(g,{name:"heroicons:pencil",size:"16"},null,o,i))}),_:1},f)):r("\x3c!----\x3e"),"pendente"===e.solicitacao.status&&e.showCancelAction?r(w(_,{theme:"admin",variant:"ghost",size:"sm",onClick:a=>o.$emit("cancelar",e.solicitacao)},{default:c((e,a,o,i)=>{if(!a)return[m(g,{name:"heroicons:trash",size:"16",class:"text-red-500"})];a(w(g,{name:"heroicons:trash",size:"16",class:"text-red-500"},null,o,i))}),_:1},f)):r("\x3c!----\x3e"),r("</div></div>")}}}),O=B.setup;B.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/FeriasSolicitacaoCard.vue"),O?O(e,a):void 0};const L=Object.assign(B,{__name:"FeriasSolicitacaoCard"}),G=t({__name:"UICard",__ssrInlineRender:!0,props:{title:{},subtitle:{},icon:{},variant:{default:"default"},padding:{default:"md"},iconColor:{default:"red"}},setup(e){const a=e,o=r(()=>["bg-white rounded-lg sm:rounded-xl",{default:"border border-gray-200",bordered:"border-2 border-gray-300",elevated:"shadow-lg"}[a.variant],{none:"",sm:"p-3 sm:p-4",md:"p-4 sm:p-6",lg:"p-5 sm:p-8"}[a.padding]].join(" ")),i=r(()=>`w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${{red:"bg-red-100",blue:"bg-blue-100",green:"bg-green-100",amber:"bg-amber-100",gray:"bg-gray-100"}[a.iconColor]}`),t=r(()=>({red:"text-red-600",blue:"text-blue-600",green:"text-green-600",amber:"text-amber-600",gray:"text-gray-600"}[a.iconColor]));return(a,l,r,s)=>{const c=n("Icon");l(`<div${$(d({class:p(o)},s))}>`),e.title||a.$slots.header?(l('<div class="flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-4 mb-3 sm:mb-4">'),A(a.$slots,"header",{},()=>{l('<div class="flex items-center gap-2 sm:gap-3">'),e.icon?(l(`<div class="${S(p(i))}">`),l(w(c,{name:e.icon,class:[p(t),"w-5 h-5 sm:w-6 sm:h-6"]},null,r)),l("</div>")):l("\x3c!----\x3e"),l(`<div class="min-w-0"><h3 class="text-base sm:text-lg font-bold text-gray-800 truncate">${j(e.title)}</h3>`),e.subtitle?l(`<p class="text-xs sm:text-sm text-gray-500 truncate">${j(e.subtitle)}</p>`):l("\x3c!----\x3e"),l("</div></div>")},l,r),l('<div class="flex-shrink-0">'),A(a.$slots,"actions",{},null,l,r),l("</div></div>")):l("\x3c!----\x3e"),A(a.$slots,"default",{},null,l,r),l("</div>")}}}),H=G.setup;G.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/UICard.vue"),H?H(e,a):void 0};const Y=Object.assign(G,{__name:"UICard"}),Q=t({__name:"FeriasCalendario",__ssrInlineRender:!0,props:{ferias:{default:()=>[]}},setup(e){const o=e,i=l((new Date).getMonth()),t=l((new Date).getFullYear()),s=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],v=r(()=>u[i.value]),f=r(()=>{const e=new Date(t.value,i.value,1),a=new Date(t.value,i.value+1,0).getDate(),l=e.getDay(),r=[],s=new Date(t.value,i.value,0).getDate();for(let e=l-1;e>=0;e--)r.push({numero:s-e,mesAtual:!1,hoje:!1,ferias:null});const n=new Date;for(let e=1;e<=a;e++){const a=new Date(t.value,i.value,e),l=o.ferias.filter(e=>{const o=new Date(e.data_inicio),i=new Date(e.data_fim);return a>=o&&a<=i}).map(e=>({id:e.id,colaborador:e.colaborador,status:e.status}));r.push({numero:e,mesAtual:!0,hoje:n.getDate()===e&&n.getMonth()===i.value&&n.getFullYear()===t.value,ferias:l.length>0?l:null})}const d=42-r.length;for(let e=1;e<=d;e++)r.push({numero:e,mesAtual:!1,hoje:!1,ferias:null});return r}),mesAnterior=()=>{0===i.value?(i.value=11,t.value--):i.value--},proximoMes=()=>{11===i.value?(i.value=0,t.value++):i.value++},getStatusClass=e=>{const a={pendente:"bg-amber-200 text-amber-800",aprovada:"bg-green-200 text-green-800",em_gozo:"bg-blue-200 text-blue-800",concluida:"bg-gray-200 text-gray-800",rejeitada:"bg-red-200 text-red-800"};return a[e]||a.pendente};return(e,o,i,l)=>{const r=Y,u=a,V=n("Icon");o(w(r,d({title:"Calendário de Férias",icon:"heroicons:calendar-days","icon-color":"amber"},l),{actions:c((e,a,o,i)=>{if(!a)return[m("div",{class:"flex items-center gap-2"},[m(u,{theme:"admin",variant:"ghost",size:"sm",onClick:mesAnterior},{default:c(()=>[m(V,{name:"heroicons:chevron-left",size:"20"})]),_:1}),m("span",{class:"text-sm font-semibold text-gray-700 min-w-[140px] text-center"},h(p(v))+" "+h(p(t)),1),m(u,{theme:"admin",variant:"ghost",size:"sm",onClick:proximoMes},{default:c(()=>[m(V,{name:"heroicons:chevron-right",size:"20"})]),_:1})])];a(`<div class="flex items-center gap-2"${i}>`),a(w(u,{theme:"admin",variant:"ghost",size:"sm",onClick:mesAnterior},{default:c((e,a,o,i)=>{if(!a)return[m(V,{name:"heroicons:chevron-left",size:"20"})];a(w(V,{name:"heroicons:chevron-left",size:"20"},null,o,i))}),_:1},o,i)),a(`<span class="text-sm font-semibold text-gray-700 min-w-[140px] text-center"${i}>${j(p(v))} ${j(p(t))}</span>`),a(w(u,{theme:"admin",variant:"ghost",size:"sm",onClick:proximoMes},{default:c((e,a,o,i)=>{if(!a)return[m(V,{name:"heroicons:chevron-right",size:"20"})];a(w(V,{name:"heroicons:chevron-right",size:"20"},null,o,i))}),_:1},o,i)),a("</div>")}),default:c((e,a,o,i)=>{if(!a)return[m("div",{class:"mt-4"},[m("div",{class:"grid grid-cols-7 gap-1 mb-2"},[(g(),b(x,null,_(s,e=>m("div",{key:e,class:"text-center text-xs font-semibold text-gray-500 py-2"},h(e),1)),64))]),m("div",{class:"grid grid-cols-7 gap-1"},[(g(!0),b(x,null,_(p(f),(e,a)=>(g(),b("div",{key:a,class:["min-h-[60px] p-1 rounded-lg text-sm border transition-colors",e.mesAtual?"bg-white border-gray-200":"bg-gray-50 border-transparent",e.hoje&&"ring-2 ring-red-500",e.ferias&&"bg-amber-50 border-amber-200"]},[m("div",{class:"flex items-center justify-between"},[m("span",{class:["text-xs font-medium",e.mesAtual?"text-gray-700":"text-gray-400",e.hoje&&"text-red-600 font-bold"]},h(e.numero),3)]),e.ferias?(g(),b("div",{key:0,class:"mt-1"},[(g(!0),b(x,null,_(e.ferias.slice(0,2),e=>(g(),b("div",{key:e.id,class:["text-xs truncate px-1 py-0.5 rounded mb-0.5",getStatusClass(e.status)],title:e.colaborador},h(e.colaborador.split(" ")[0]),11,["title"]))),128)),e.ferias.length>2?(g(),b("div",{key:0,class:"text-xs text-gray-500 px-1"}," +"+h(e.ferias.length-2)+" mais ",1)):y("",!0)])):y("",!0)],2))),128))]),m("div",{class:"flex flex-wrap gap-4 mt-4 pt-4 border-t border-gray-200"},[m("div",{class:"flex items-center gap-2"},[m("div",{class:"w-3 h-3 rounded bg-amber-200"}),m("span",{class:"text-xs text-gray-600"},"Pendente")]),m("div",{class:"flex items-center gap-2"},[m("div",{class:"w-3 h-3 rounded bg-green-200"}),m("span",{class:"text-xs text-gray-600"},"Aprovada")]),m("div",{class:"flex items-center gap-2"},[m("div",{class:"w-3 h-3 rounded bg-blue-200"}),m("span",{class:"text-xs text-gray-600"},"Em Gozo")])])])];a(`<div class="mt-4"${i}><div class="grid grid-cols-7 gap-1 mb-2"${i}>\x3c!--[--\x3e`),C(s,e=>{a(`<div class="text-center text-xs font-semibold text-gray-500 py-2"${i}>${j(e)}</div>`)}),a(`\x3c!--]--\x3e</div><div class="grid grid-cols-7 gap-1"${i}>\x3c!--[--\x3e`),C(p(f),(e,o)=>{a(`<div class="${S(["min-h-[60px] p-1 rounded-lg text-sm border transition-colors",e.mesAtual?"bg-white border-gray-200":"bg-gray-50 border-transparent",e.hoje&&"ring-2 ring-red-500",e.ferias&&"bg-amber-50 border-amber-200"])}"${i}><div class="flex items-center justify-between"${i}><span class="${S(["text-xs font-medium",e.mesAtual?"text-gray-700":"text-gray-400",e.hoje&&"text-red-600 font-bold"])}"${i}>${j(e.numero)}</span></div>`),e.ferias?(a(`<div class="mt-1"${i}>\x3c!--[--\x3e`),C(e.ferias.slice(0,2),e=>{a(`<div class="${S([getStatusClass(e.status),"text-xs truncate px-1 py-0.5 rounded mb-0.5"])}"${U("title",e.colaborador)}${i}>${j(e.colaborador.split(" ")[0])}</div>`)}),a("\x3c!--]--\x3e"),e.ferias.length>2?a(`<div class="text-xs text-gray-500 px-1"${i}> +${j(e.ferias.length-2)} mais </div>`):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),a("</div>")}),a(`\x3c!--]--\x3e</div><div class="flex flex-wrap gap-4 mt-4 pt-4 border-t border-gray-200"${i}><div class="flex items-center gap-2"${i}><div class="w-3 h-3 rounded bg-amber-200"${i}></div><span class="text-xs text-gray-600"${i}>Pendente</span></div><div class="flex items-center gap-2"${i}><div class="w-3 h-3 rounded bg-green-200"${i}></div><span class="text-xs text-gray-600"${i}>Aprovada</span></div><div class="flex items-center gap-2"${i}><div class="w-3 h-3 rounded bg-blue-200"${i}></div><span class="text-xs text-gray-600"${i}>Em Gozo</span></div></div></div>`)}),_:1},i))}}}),J=Q.setup;Q.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/FeriasCalendario.vue"),J?J(e,a):void 0};const X=Object.assign(Q,{__name:"FeriasCalendario"}),Z=t({__name:"FeriasSolicitacaoModal",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},solicitacao:{default:null},colaboradores:{},periodos:{}},emits:["update:modelValue","submit"],setup(e,{emit:o}){const i=e,t=o,n=l(!1),V=r({get:()=>i.modelValue,set:e=>t("update:modelValue",e)}),$=r(()=>!!i.solicitacao?.id),S=l({colaborador_id:"",periodo_aquisitivo_id:"",tipo:"normal",data_inicio:"",data_fim:"",vender_dias:!1,dias_venda:0,adiantamento_13:!1,observacoes:""}),A=r(()=>{const e=new Date;return e.setDate(e.getDate()+30),e.toISOString().split("T")[0]}),resetForm=()=>{S.value={colaborador_id:"",periodo_aquisitivo_id:"",tipo:"normal",data_inicio:"",data_fim:"",vender_dias:!1,dias_venda:0,adiantamento_13:!1,observacoes:""}},k=r(()=>S.value.colaborador_id?i.periodos.filter(e=>e.dias_saldo>0):i.periodos),D=r(()=>{if(!S.value.data_inicio||!S.value.data_fim)return 0;const e=new Date(S.value.data_inicio),a=new Date(S.value.data_fim),o=Math.ceil((a.getTime()-e.getTime())/864e5)+1;return o>0?o:0}),formatDate=e=>new Date(e).toLocaleDateString("pt-BR"),close=()=>{t("update:modelValue",!1),resetForm()},handleSubmit=async()=>{n.value=!0;try{t("submit",{...S.value,dias_solicitados:D.value})}finally{n.value=!1}};return s(()=>i.solicitacao,e=>{e?S.value={...e}:resetForm()},{immediate:!0}),(o,i,t,l)=>{const r=z,s=F,E=P,q=I,N=M,T=a;i(w(R,d({modelValue:p(V),"onUpdate:modelValue":e=>v(V)?V.value=e:null,title:p($)?"Editar Solicitação":"Nova Solicitação de Férias",size:"lg"},l),{default:c((a,o,i,t)=>{if(!o)return[m("form",{onSubmit:f(handleSubmit,["prevent"])},[m("div",{class:"space-y-6"},[m(r,{modelValue:p(S).colaborador_id,"onUpdate:modelValue":e=>p(S).colaborador_id=e,label:"Colaborador",placeholder:"Selecione o colaborador","icon-left":"heroicons:user",required:"",disabled:p($)},{default:c(()=>[(g(!0),b(x,null,_(e.colaboradores,e=>(g(),b("option",{key:e.id,value:e.id},h(e.nome),9,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","disabled"]),m(r,{modelValue:p(S).periodo_aquisitivo_id,"onUpdate:modelValue":e=>p(S).periodo_aquisitivo_id=e,label:"Período Aquisitivo",placeholder:"Selecione o período","icon-left":"heroicons:calendar"},{default:c(()=>[(g(!0),b(x,null,_(p(k),e=>(g(),b("option",{key:e.id,value:e.id},h(formatDate(e.data_inicio))+" a "+h(formatDate(e.data_fim))+" - Saldo: "+h(e.dias_saldo)+" dias ",9,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"]),m(r,{modelValue:p(S).tipo,"onUpdate:modelValue":e=>p(S).tipo=e,label:"Tipo de Férias","icon-left":"heroicons:tag",required:""},{default:c(()=>[m("option",{value:"normal"},"Normal (30 dias)"),m("option",{value:"fracionada"},"Fracionada"),m("option",{value:"abono_pecuniario"},"Com Abono Pecuniário"),m("option",{value:"coletiva"},"Coletiva")]),_:1},8,["modelValue","onUpdate:modelValue"]),m("div",{class:"grid grid-cols-2 gap-4"},[m(s,{modelValue:p(S).data_inicio,"onUpdate:modelValue":e=>p(S).data_inicio=e,label:"Data Início",min:p(A),required:""},null,8,["modelValue","onUpdate:modelValue","min"]),m(s,{modelValue:p(S).data_fim,"onUpdate:modelValue":e=>p(S).data_fim=e,label:"Data Fim",min:p(S).data_inicio,required:""},null,8,["modelValue","onUpdate:modelValue","min"])]),m("div",{class:"bg-gray-50 rounded-lg p-4"},[m("div",{class:"flex items-center justify-between"},[m("span",{class:"text-sm text-gray-600"},"Dias solicitados:"),m("span",{class:"text-lg font-bold text-gray-800"},h(p(D))+" dias",1)])]),m("div",{class:"space-y-3"},[m(E,{modelValue:p(S).vender_dias,"onUpdate:modelValue":e=>p(S).vender_dias=e,label:"Vender dias de férias (Abono Pecuniário)",description:"Converter até 10 dias em dinheiro"},null,8,["modelValue","onUpdate:modelValue"]),p(S).vender_dias?(g(),b("div",{key:0,class:"ml-8"},[m(q,{modelValue:p(S).dias_venda,"onUpdate:modelValue":e=>p(S).dias_venda=e,type:"number",label:"Quantidade de dias para vender",max:10,min:1},null,8,["modelValue","onUpdate:modelValue"])])):y("",!0),m(E,{modelValue:p(S).adiantamento_13,"onUpdate:modelValue":e=>p(S).adiantamento_13=e,label:"Solicitar adiantamento do 13º salário",description:"Receber 50% do 13º junto com as férias"},null,8,["modelValue","onUpdate:modelValue"])]),m(N,{modelValue:p(S).observacoes,"onUpdate:modelValue":e=>p(S).observacoes=e,label:"Observações",placeholder:"Informações adicionais sobre a solicitação...",rows:3},null,8,["modelValue","onUpdate:modelValue"])]),m("div",{class:"flex gap-3 mt-8 pt-6 border-t border-gray-200"},[m(T,{type:"button",theme:"admin",variant:"secondary","full-width":"",onClick:close},{default:c(()=>[u(" Cancelar ")]),_:1}),m(T,{type:"submit",theme:"admin",variant:"primary","full-width":"",loading:p(n)},{default:c(()=>[u(h(p($)?"Salvar Alterações":"Enviar Solicitação"),1)]),_:1},8,["loading"])])],32)];o(`<form${t}><div class="space-y-6"${t}>`),o(w(r,{modelValue:p(S).colaborador_id,"onUpdate:modelValue":e=>p(S).colaborador_id=e,label:"Colaborador",placeholder:"Selecione o colaborador","icon-left":"heroicons:user",required:"",disabled:p($)},{default:c((a,o,i,t)=>{if(!o)return[(g(!0),b(x,null,_(e.colaboradores,e=>(g(),b("option",{key:e.id,value:e.id},h(e.nome),9,["value"]))),128))];o("\x3c!--[--\x3e"),C(e.colaboradores,e=>{o(`<option${U("value",e.id)}${t}>${j(e.nome)}</option>`)}),o("\x3c!--]--\x3e")}),_:1},i,t)),o(w(r,{modelValue:p(S).periodo_aquisitivo_id,"onUpdate:modelValue":e=>p(S).periodo_aquisitivo_id=e,label:"Período Aquisitivo",placeholder:"Selecione o período","icon-left":"heroicons:calendar"},{default:c((e,a,o,i)=>{if(!a)return[(g(!0),b(x,null,_(p(k),e=>(g(),b("option",{key:e.id,value:e.id},h(formatDate(e.data_inicio))+" a "+h(formatDate(e.data_fim))+" - Saldo: "+h(e.dias_saldo)+" dias ",9,["value"]))),128))];a("\x3c!--[--\x3e"),C(p(k),e=>{a(`<option${U("value",e.id)}${i}>${j(formatDate(e.data_inicio))} a ${j(formatDate(e.data_fim))} - Saldo: ${j(e.dias_saldo)} dias </option>`)}),a("\x3c!--]--\x3e")}),_:1},i,t)),o(w(r,{modelValue:p(S).tipo,"onUpdate:modelValue":e=>p(S).tipo=e,label:"Tipo de Férias","icon-left":"heroicons:tag",required:""},{default:c((e,a,o,i)=>{if(!a)return[m("option",{value:"normal"},"Normal (30 dias)"),m("option",{value:"fracionada"},"Fracionada"),m("option",{value:"abono_pecuniario"},"Com Abono Pecuniário"),m("option",{value:"coletiva"},"Coletiva")];a(`<option value="normal"${i}>Normal (30 dias)</option><option value="fracionada"${i}>Fracionada</option><option value="abono_pecuniario"${i}>Com Abono Pecuniário</option><option value="coletiva"${i}>Coletiva</option>`)}),_:1},i,t)),o(`<div class="grid grid-cols-2 gap-4"${t}>`),o(w(s,{modelValue:p(S).data_inicio,"onUpdate:modelValue":e=>p(S).data_inicio=e,label:"Data Início",min:p(A),required:""},null,i,t)),o(w(s,{modelValue:p(S).data_fim,"onUpdate:modelValue":e=>p(S).data_fim=e,label:"Data Fim",min:p(S).data_inicio,required:""},null,i,t)),o(`</div><div class="bg-gray-50 rounded-lg p-4"${t}><div class="flex items-center justify-between"${t}><span class="text-sm text-gray-600"${t}>Dias solicitados:</span><span class="text-lg font-bold text-gray-800"${t}>${j(p(D))} dias</span></div></div><div class="space-y-3"${t}>`),o(w(E,{modelValue:p(S).vender_dias,"onUpdate:modelValue":e=>p(S).vender_dias=e,label:"Vender dias de férias (Abono Pecuniário)",description:"Converter até 10 dias em dinheiro"},null,i,t)),p(S).vender_dias?(o(`<div class="ml-8"${t}>`),o(w(q,{modelValue:p(S).dias_venda,"onUpdate:modelValue":e=>p(S).dias_venda=e,type:"number",label:"Quantidade de dias para vender",max:10,min:1},null,i,t)),o("</div>")):o("\x3c!----\x3e"),o(w(E,{modelValue:p(S).adiantamento_13,"onUpdate:modelValue":e=>p(S).adiantamento_13=e,label:"Solicitar adiantamento do 13º salário",description:"Receber 50% do 13º junto com as férias"},null,i,t)),o("</div>"),o(w(N,{modelValue:p(S).observacoes,"onUpdate:modelValue":e=>p(S).observacoes=e,label:"Observações",placeholder:"Informações adicionais sobre a solicitação...",rows:3},null,i,t)),o(`</div><div class="flex gap-3 mt-8 pt-6 border-t border-gray-200"${t}>`),o(w(T,{type:"button",theme:"admin",variant:"secondary","full-width":"",onClick:close},{default:c((e,a,o,i)=>{if(!a)return[u(" Cancelar ")];a(" Cancelar ")}),_:1},i,t)),o(w(T,{type:"submit",theme:"admin",variant:"primary","full-width":"",loading:p(n)},{default:c((e,a,o,i)=>{if(!a)return[u(h(p($)?"Salvar Alterações":"Enviar Solicitação"),1)];a(`${j(p($)?"Salvar Alterações":"Enviar Solicitação")}`)}),_:1},i,t)),o("</div></form>")}),_:1},t))}}}),K=Z.setup;Z.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/FeriasSolicitacaoModal.vue"),K?K(e,a):void 0};const W=Object.assign(Z,{__name:"FeriasSolicitacaoModal"}),ee=t({__name:"FeriasAprovacaoModal",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},solicitacao:{default:null}},emits:["update:modelValue","aprovar","rejeitar"],setup(e,{emit:o}){const i=e,t=o,s=l(!1),f=l("aprovar"),x=l(""),_=r({get:()=>i.modelValue,set:e=>t("update:modelValue",e)}),V=r(()=>({normal:"Normal",fracionada:"Fracionada",abono_pecuniario:"Com Abono Pecuniário",coletiva:"Coletiva"}[i.solicitacao?.tipo]||"Normal")),formatDate=e=>e?new Date(e).toLocaleDateString("pt-BR"):"-",close=()=>{t("update:modelValue",!1),f.value="aprovar",x.value=""},handleSubmit=async()=>{if(i.solicitacao?.id){s.value=!0;try{"aprovar"===f.value?t("aprovar",i.solicitacao.id):t("rejeitar",i.solicitacao.id,x.value),close()}finally{s.value=!1}}};return(o,i,t,l)=>{const r=R,$=n("Icon"),C=M,U=a;i(w(r,d({modelValue:p(_),"onUpdate:modelValue":e=>v(_)?_.value=e:null,title:"Aprovar/Rejeitar Solicitação",size:"md"},l),{default:c((a,o,i,t)=>{if(!o)return[e.solicitacao?(g(),b("div",{key:0,class:"space-y-6"},[m("div",{class:"bg-gray-50 rounded-lg p-4"},[m("div",{class:"flex items-center gap-4"},[m("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"},[m($,{name:"heroicons:user",class:"text-red-600",size:"24"})]),m("div",null,[m("h4",{class:"font-semibold text-gray-800"},h(e.solicitacao.colaborador_nome),1),m("p",{class:"text-sm text-gray-500"},h(e.solicitacao.cargo)+" - "+h(e.solicitacao.departamento),1)])])]),m("div",{class:"grid grid-cols-2 gap-4"},[m("div",null,[m("span",{class:"text-sm text-gray-500"},"Período"),m("p",{class:"font-semibold text-gray-800"},h(formatDate(e.solicitacao.data_inicio))+" a "+h(formatDate(e.solicitacao.data_fim)),1)]),m("div",null,[m("span",{class:"text-sm text-gray-500"},"Dias"),m("p",{class:"font-semibold text-gray-800"},h(e.solicitacao.dias_solicitados)+" dias",1)]),m("div",null,[m("span",{class:"text-sm text-gray-500"},"Tipo"),m("p",{class:"font-semibold text-gray-800"},h(p(V)),1)]),m("div",null,[m("span",{class:"text-sm text-gray-500"},"Solicitado em"),m("p",{class:"font-semibold text-gray-800"},h(formatDate(e.solicitacao.created_at)),1)])]),e.solicitacao.vender_dias||e.solicitacao.adiantamento_13?(g(),b("div",{key:0,class:"space-y-2"},[e.solicitacao.vender_dias?(g(),b("div",{key:0,class:"flex items-center gap-2 text-sm"},[m($,{name:"heroicons:check-circle",class:"text-green-500",size:"18"}),m("span",null,"Venda de "+h(e.solicitacao.dias_venda)+" dias",1)])):y("",!0),e.solicitacao.adiantamento_13?(g(),b("div",{key:1,class:"flex items-center gap-2 text-sm"},[m($,{name:"heroicons:check-circle",class:"text-green-500",size:"18"}),m("span",null,"Adiantamento do 13º salário")])):y("",!0)])):y("",!0),e.solicitacao.observacoes?(g(),b("div",{key:1},[m("span",{class:"text-sm text-gray-500"},"Observações do colaborador"),m("p",{class:"text-gray-700 mt-1 bg-gray-50 rounded-lg p-3"},h(e.solicitacao.observacoes),1)])):y("",!0),m("div",{class:"border-t border-gray-200 pt-4"},[m("div",{class:"flex gap-2 mb-4"},[m("button",{type:"button",class:["flex-1 py-2 px-4 rounded-lg font-medium transition-colors","aprovar"===p(f)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"],onClick:e=>f.value="aprovar"},[m($,{name:"heroicons:check",size:"18",class:"mr-1"}),u(" Aprovar ")],10,["onClick"]),m("button",{type:"button",class:["flex-1 py-2 px-4 rounded-lg font-medium transition-colors","rejeitar"===p(f)?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"],onClick:e=>f.value="rejeitar"},[m($,{name:"heroicons:x-mark",size:"18",class:"mr-1"}),u(" Rejeitar ")],10,["onClick"])]),"rejeitar"===p(f)?(g(),b(C,{key:0,modelValue:p(x),"onUpdate:modelValue":e=>v(x)?x.value=e:null,label:"Motivo da Rejeição",placeholder:"Informe o motivo da rejeição...",required:"",rows:3},null,8,["modelValue","onUpdate:modelValue"])):y("",!0)]),m("div",{class:"flex gap-3 pt-4"},[m(U,{type:"button",theme:"admin",variant:"secondary","full-width":"",onClick:close},{default:c(()=>[u(" Cancelar ")]),_:1}),m(U,{type:"button",theme:"admin",variant:"aprovar"===p(f)?"success":"danger","full-width":"",loading:p(s),disabled:"rejeitar"===p(f)&&!p(x),onClick:handleSubmit},{default:c(()=>[u(h("aprovar"===p(f)?"Confirmar Aprovação":"Confirmar Rejeição"),1)]),_:1},8,["variant","loading","disabled"])])])):y("",!0)];e.solicitacao?(o(`<div class="space-y-6"${t}><div class="bg-gray-50 rounded-lg p-4"${t}><div class="flex items-center gap-4"${t}><div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"${t}>`),o(w($,{name:"heroicons:user",class:"text-red-600",size:"24"},null,i,t)),o(`</div><div${t}><h4 class="font-semibold text-gray-800"${t}>${j(e.solicitacao.colaborador_nome)}</h4><p class="text-sm text-gray-500"${t}>${j(e.solicitacao.cargo)} - ${j(e.solicitacao.departamento)}</p></div></div></div><div class="grid grid-cols-2 gap-4"${t}><div${t}><span class="text-sm text-gray-500"${t}>Período</span><p class="font-semibold text-gray-800"${t}>${j(formatDate(e.solicitacao.data_inicio))} a ${j(formatDate(e.solicitacao.data_fim))}</p></div><div${t}><span class="text-sm text-gray-500"${t}>Dias</span><p class="font-semibold text-gray-800"${t}>${j(e.solicitacao.dias_solicitados)} dias</p></div><div${t}><span class="text-sm text-gray-500"${t}>Tipo</span><p class="font-semibold text-gray-800"${t}>${j(p(V))}</p></div><div${t}><span class="text-sm text-gray-500"${t}>Solicitado em</span><p class="font-semibold text-gray-800"${t}>${j(formatDate(e.solicitacao.created_at))}</p></div></div>`),e.solicitacao.vender_dias||e.solicitacao.adiantamento_13?(o(`<div class="space-y-2"${t}>`),e.solicitacao.vender_dias?(o(`<div class="flex items-center gap-2 text-sm"${t}>`),o(w($,{name:"heroicons:check-circle",class:"text-green-500",size:"18"},null,i,t)),o(`<span${t}>Venda de ${j(e.solicitacao.dias_venda)} dias</span></div>`)):o("\x3c!----\x3e"),e.solicitacao.adiantamento_13?(o(`<div class="flex items-center gap-2 text-sm"${t}>`),o(w($,{name:"heroicons:check-circle",class:"text-green-500",size:"18"},null,i,t)),o(`<span${t}>Adiantamento do 13º salário</span></div>`)):o("\x3c!----\x3e"),o("</div>")):o("\x3c!----\x3e"),e.solicitacao.observacoes?o(`<div${t}><span class="text-sm text-gray-500"${t}>Observações do colaborador</span><p class="text-gray-700 mt-1 bg-gray-50 rounded-lg p-3"${t}>${j(e.solicitacao.observacoes)}</p></div>`):o("\x3c!----\x3e"),o(`<div class="border-t border-gray-200 pt-4"${t}><div class="flex gap-2 mb-4"${t}><button type="button" class="${S(["aprovar"===p(f)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","flex-1 py-2 px-4 rounded-lg font-medium transition-colors"])}"${t}>`),o(w($,{name:"heroicons:check",size:"18",class:"mr-1"},null,i,t)),o(` Aprovar </button><button type="button" class="${S(["rejeitar"===p(f)?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","flex-1 py-2 px-4 rounded-lg font-medium transition-colors"])}"${t}>`),o(w($,{name:"heroicons:x-mark",size:"18",class:"mr-1"},null,i,t)),o(" Rejeitar </button></div>"),"rejeitar"===p(f)?o(w(C,{modelValue:p(x),"onUpdate:modelValue":e=>v(x)?x.value=e:null,label:"Motivo da Rejeição",placeholder:"Informe o motivo da rejeição...",required:"",rows:3},null,i,t)):o("\x3c!----\x3e"),o(`</div><div class="flex gap-3 pt-4"${t}>`),o(w(U,{type:"button",theme:"admin",variant:"secondary","full-width":"",onClick:close},{default:c((e,a,o,i)=>{if(!a)return[u(" Cancelar ")];a(" Cancelar ")}),_:1},i,t)),o(w(U,{type:"button",theme:"admin",variant:"aprovar"===p(f)?"success":"danger","full-width":"",loading:p(s),disabled:"rejeitar"===p(f)&&!p(x),onClick:handleSubmit},{default:c((e,a,o,i)=>{if(!a)return[u(h("aprovar"===p(f)?"Confirmar Aprovação":"Confirmar Rejeição"),1)];a(`${j("aprovar"===p(f)?"Confirmar Aprovação":"Confirmar Rejeição")}`)}),_:1},i,t)),o("</div></div>")):o("\x3c!----\x3e")}),_:1},t))}}}),ae=ee.setup;ee.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("components/FeriasAprovacaoModal.vue"),ae?ae(e,a):void 0};const oe=Object.assign(ee,{__name:"FeriasAprovacaoModal"});const ie=t({__name:"ferias",__ssrInlineRender:!0,setup(t){const{ferias:y,stats:V,loading:S,fetchFerias:A,criarSolicitacao:E,aprovarFerias:R,rejeitarFerias:F,cancelarFerias:M,salvarConfig:q}=function(){const e=l([]),a=l({pendentes:0,aprovadas:0,em_gozo:0,concluidas:0,rejeitadas:0,vencendo:0,total_dias_ano:0}),o=l({dias_minimos_fracionamento:5,dias_maximos_venda:10,antecedencia_minima_dias:30,permite_fracionamento:!0,max_fracoes:3,permite_abono_pecuniario:!0,notificar_vencimento_dias:60,notificar_aprovador:!0,notificar_rh:!0,bloquear_ferias_coletivas:!1,periodos_bloqueados:[]}),i=l(!1),t=l(null),fetchFerias=async a=>{i.value=!0,t.value=null;try{const o=new URLSearchParams;a?.status&&"todos"!==a.status&&o.append("status",a.status),a?.colaborador_id&&o.append("colaborador_id",a.colaborador_id),a?.ano&&o.append("ano",a.ano.toString());const i=o.toString(),t=i?`/api/ferias?${i}`:"/api/ferias",l=await $fetch(t);e.value=l||[]}catch(a){t.value=a.message||"Erro ao buscar férias",console.error("Erro ao buscar férias:",a),e.value=[]}finally{i.value=!1}},fetchStats=async()=>{try{const e=await $fetch("/api/ferias/stats");a.value=e}catch(e){console.error("Erro ao buscar estatísticas:",e)}},fetchConfig=async()=>{try{const e=await $fetch("/api/ferias/config");o.value=e}catch(e){console.error("Erro ao buscar configurações:",e)}};return{ferias:e,stats:a,config:o,loading:i,error:t,fetchFerias:fetchFerias,fetchStats:fetchStats,fetchConfig:fetchConfig,criarSolicitacao:async e=>{i.value=!0;try{const a=await $fetch("/api/ferias",{method:"POST",body:e});return await fetchFerias(),await fetchStats(),a}catch(e){throw t.value=e.message||"Erro ao criar solicitação",e}finally{i.value=!1}},aprovarFerias:async e=>{i.value=!0;try{await $fetch("/api/ferias/aprovar",{method:"POST",body:{id:e,acao:"aprovar"}}),await fetchFerias(),await fetchStats()}catch(e){throw t.value=e.message||"Erro ao aprovar férias",e}finally{i.value=!1}},rejeitarFerias:async(e,a)=>{i.value=!0;try{await $fetch("/api/ferias/aprovar",{method:"POST",body:{id:e,acao:"rejeitar",motivo_rejeicao:a}}),await fetchFerias(),await fetchStats()}catch(e){throw t.value=e.message||"Erro ao rejeitar férias",e}finally{i.value=!1}},cancelarFerias:async e=>{i.value=!0;try{await $fetch(`/api/ferias/${e}`,{method:"DELETE"}),await fetchFerias(),await fetchStats()}catch(e){throw t.value=e.message||"Erro ao cancelar férias",e}finally{i.value=!1}},salvarConfig:async e=>{i.value=!0;try{await $fetch("/api/ferias/config",{method:"PUT",body:e}),await fetchConfig()}catch(e){throw t.value=e.message||"Erro ao salvar configurações",e}finally{i.value=!1}},getStatusColor:e=>({Pendente:"warning",Aprovada:"success",Rejeitada:"danger",Cancelada:"default",Em_Andamento:"info",Concluida:"success"}[e]||"default"),getStatusLabel:e=>({Pendente:"Pendente",Aprovada:"Aprovada",Rejeitada:"Rejeitada",Cancelada:"Cancelada",Em_Andamento:"Em Gozo",Concluida:"Concluída"}[e]||e),getTipoLabel:e=>({normal:"Normal",fracionada:"Fracionada",abono_pecuniario:"Com Abono Pecuniário",coletiva:"Coletiva"}[e]||"Normal"),formatDate:e=>e?new Date(e).toLocaleDateString("pt-BR"):"-"}}(),N=l("solicitacoes"),B=l(""),O=l("todos"),G=l((new Date).getFullYear()),H=l(!1),Q=l(!1),J=l(null),Z=l(!1),K=l([]),ee=l({dias_minimos_fracionamento:5,dias_maximos_venda:10,antecedencia_minima_dias:30,permite_fracionamento:!0,max_fracoes:3,permite_abono_pecuniario:!0,notificar_vencimento_dias:60,notificar_aprovador:!0,notificar_rh:!0,bloquear_ferias_coletivas:!1,periodos_bloqueados:[]}),ae=r(()=>[{id:"solicitacoes",label:"Solicitações",icon:"heroicons:document-text",count:V.value.pendentes},{id:"calendario",label:"Calendário",icon:"heroicons:calendar"},{id:"configuracoes",label:"Configurações",icon:"heroicons:cog-6-tooth"}]),ie=r(()=>{const e=(new Date).getFullYear();return[e-1,e,e+1]}),te=r(()=>{let e=y.value;if(B.value){const a=B.value.toLowerCase();e=e.filter(e=>e.colaborador_nome?.toLowerCase().includes(a)||e.departamento?.toLowerCase().includes(a))}return e}),le=r(()=>y.value.filter(e=>["Aprovada","Em_Andamento"].includes(e.status)).map(e=>({id:e.id,colaborador:e.colaborador_nome,data_inicio:e.data_inicio,data_fim:e.data_fim,status:"Em_Andamento"===e.status?"em_gozo":"aprovada"}))),abrirModalSolicitacao=()=>{H.value=!0},abrirModalAprovacao=e=>{J.value=e,Q.value=!0},verDetalhes=e=>{console.log("Ver detalhes:",e)},confirmarCancelamento=async e=>{if(confirm(`Deseja cancelar a solicitação de férias de ${e.colaborador_nome}?`))try{await M(e.id)}catch(e){alert("Erro ao cancelar solicitação")}},criarNovaSolicitacao=async e=>{try{await E(e),H.value=!1}catch(e){alert("Erro ao criar solicitação")}},handleAprovar=async e=>{try{await R(e),Q.value=!1}catch(e){alert("Erro ao aprovar férias")}},handleRejeitar=async(e,a)=>{try{await F(e,a),Q.value=!1}catch(e){alert("Erro ao rejeitar férias")}},salvarConfiguracoes=async()=>{Z.value=!0;try{await q(ee.value),alert("Configurações salvas com sucesso!")}catch(e){alert("Erro ao salvar configurações")}finally{Z.value=!1}};return s([O,G],()=>{A({status:"todos"===O.value?void 0:O.value,ano:G.value})}),(t,l,r,s)=>{const y=e,A=n("Icon"),E=a,R=o,F=i,M=T,q=k,re=z,se=D,ne=L,de=X,ce=Y,me=I,ue=P,pe=W,ve=oe;l(`<div${$(d({class:"min-h-screen bg-gray-50"},s))}><header class="bg-white border-b border-gray-200 sticky top-0 z-40"><div class="max-w-7xl mx-auto px-8 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-4">`),l(w(y,{to:"/admin",class:"w-10 h-10 bg-red-700 rounded-lg flex items-center justify-center hover:bg-red-800 transition-colors"},{default:c((e,a,o,i)=>{if(!a)return[m(A,{name:"heroicons:arrow-left",class:"text-white",size:"20"})];a(w(A,{name:"heroicons:arrow-left",class:"text-white",size:"20"},null,o,i))}),_:1},r)),l('<div><h1 class="text-xl font-bold text-gray-800">Gestão de Férias</h1><p class="text-sm text-gray-500">Controle de férias e períodos aquisitivos</p></div></div><div class="flex items-center gap-3">'),l(w(E,{theme:"admin",variant:"primary",onClick:abrirModalSolicitacao},{default:c((e,a,o,i)=>{if(!a)return[m(A,{name:"heroicons:plus",size:"20",class:"mr-1"}),u(" Nova Solicitação ")];a(w(A,{name:"heroicons:plus",size:"20",class:"mr-1"},null,o,i)),a(" Nova Solicitação ")}),_:1},r)),l(w(R,{theme:"admin"},null,r)),l('</div></div></div></header><div class="max-w-7xl mx-auto p-8"><div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8">'),l(w(F,{label:"Pendentes",value:p(V).pendentes,icon:"heroicons:clock",color:"amber"},null,r)),l(w(F,{label:"Aprovadas",value:p(V).aprovadas,icon:"heroicons:check-circle",color:"green"},null,r)),l(w(F,{label:"Em Gozo",value:p(V).em_gozo,icon:"heroicons:sun",color:"blue"},null,r)),l(w(F,{label:"Concluídas",value:p(V).concluidas,icon:"heroicons:check-badge",color:"gray"},null,r)),l(w(F,{label:"Rejeitadas",value:p(V).rejeitadas,icon:"heroicons:x-circle",color:"red"},null,r)),l(w(F,{label:"Vencendo",value:p(V).vencendo,icon:"heroicons:exclamation-triangle",color:"amber"},null,r)),l(w(F,{label:"Dias no Ano",value:p(V).total_dias_ano,icon:"heroicons:calendar-days",color:"purple"},null,r)),l("</div>"),l(w(M,{modelValue:p(N),"onUpdate:modelValue":e=>v(N)?N.value=e:null,tabs:p(ae),class:"mb-6"},{solicitacoes:c((e,a,o,i)=>{if(!a)return[m("div",{class:"flex flex-wrap gap-4 mb-6"},[m(q,{modelValue:p(B),"onUpdate:modelValue":e=>v(B)?B.value=e:null,placeholder:"Buscar colaborador...",class:"w-64"},null,8,["modelValue","onUpdate:modelValue"]),m(re,{modelValue:p(O),"onUpdate:modelValue":e=>v(O)?O.value=e:null,class:"w-48"},{default:c(()=>[m("option",{value:"todos"},"Todos os status"),m("option",{value:"Pendente"},"Pendentes"),m("option",{value:"Aprovada"},"Aprovadas"),m("option",{value:"Em_Andamento"},"Em Gozo"),m("option",{value:"Concluida"},"Concluídas"),m("option",{value:"Rejeitada"},"Rejeitadas"),m("option",{value:"Cancelada"},"Canceladas")]),_:1},8,["modelValue","onUpdate:modelValue"]),m(re,{modelValue:p(G),"onUpdate:modelValue":e=>v(G)?G.value=e:null,class:"w-32"},{default:c(()=>[(g(!0),b(x,null,_(p(ie),e=>(g(),b("option",{key:e,value:e},h(e),9,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),p(S)?(g(),b("div",{key:0,class:"text-center py-12"},[m(A,{name:"heroicons:arrow-path",class:"animate-spin text-gray-400",size:"40"}),m("p",{class:"text-gray-500 mt-2"},"Carregando...")])):0===p(te).length?(g(),b("div",{key:1},[m(se,{icon:"heroicons:sun",title:"Nenhuma solicitação encontrada",description:"Não há solicitações de férias com os filtros selecionados.",color:"amber"},{action:c(()=>[m(E,{theme:"admin",variant:"primary",onClick:abrirModalSolicitacao},{default:c(()=>[u(" Nova Solicitação ")]),_:1})]),_:1})])):(g(),b("div",{key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},[(g(!0),b(x,null,_(p(te),e=>(g(),b(ne,{key:e.id,solicitacao:e,"show-approval-actions":"Pendente"===e.status,"show-cancel-action":"Pendente"===e.status,onAprovar:abrirModalAprovacao,onRejeitar:abrirModalAprovacao,onDetalhes:verDetalhes,onCancelar:confirmarCancelamento},null,8,["solicitacao","show-approval-actions","show-cancel-action"]))),128))]))];a(`<div class="flex flex-wrap gap-4 mb-6"${i}>`),a(w(q,{modelValue:p(B),"onUpdate:modelValue":e=>v(B)?B.value=e:null,placeholder:"Buscar colaborador...",class:"w-64"},null,o,i)),a(w(re,{modelValue:p(O),"onUpdate:modelValue":e=>v(O)?O.value=e:null,class:"w-48"},{default:c((e,a,o,i)=>{if(!a)return[m("option",{value:"todos"},"Todos os status"),m("option",{value:"Pendente"},"Pendentes"),m("option",{value:"Aprovada"},"Aprovadas"),m("option",{value:"Em_Andamento"},"Em Gozo"),m("option",{value:"Concluida"},"Concluídas"),m("option",{value:"Rejeitada"},"Rejeitadas"),m("option",{value:"Cancelada"},"Canceladas")];a(`<option value="todos"${i}>Todos os status</option><option value="Pendente"${i}>Pendentes</option><option value="Aprovada"${i}>Aprovadas</option><option value="Em_Andamento"${i}>Em Gozo</option><option value="Concluida"${i}>Concluídas</option><option value="Rejeitada"${i}>Rejeitadas</option><option value="Cancelada"${i}>Canceladas</option>`)}),_:1},o,i)),a(w(re,{modelValue:p(G),"onUpdate:modelValue":e=>v(G)?G.value=e:null,class:"w-32"},{default:c((e,a,o,i)=>{if(!a)return[(g(!0),b(x,null,_(p(ie),e=>(g(),b("option",{key:e,value:e},h(e),9,["value"]))),128))];a("\x3c!--[--\x3e"),C(p(ie),e=>{a(`<option${U("value",e)}${i}>${j(e)}</option>`)}),a("\x3c!--]--\x3e")}),_:1},o,i)),a("</div>"),p(S)?(a(`<div class="text-center py-12"${i}>`),a(w(A,{name:"heroicons:arrow-path",class:"animate-spin text-gray-400",size:"40"},null,o,i)),a(`<p class="text-gray-500 mt-2"${i}>Carregando...</p></div>`)):0===p(te).length?(a(`<div${i}>`),a(w(se,{icon:"heroicons:sun",title:"Nenhuma solicitação encontrada",description:"Não há solicitações de férias com os filtros selecionados.",color:"amber"},{action:c((e,a,o,i)=>{if(!a)return[m(E,{theme:"admin",variant:"primary",onClick:abrirModalSolicitacao},{default:c(()=>[u(" Nova Solicitação ")]),_:1})];a(w(E,{theme:"admin",variant:"primary",onClick:abrirModalSolicitacao},{default:c((e,a,o,i)=>{if(!a)return[u(" Nova Solicitação ")];a(" Nova Solicitação ")}),_:1},o,i))}),_:1},o,i)),a("</div>")):(a(`<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"${i}>\x3c!--[--\x3e`),C(p(te),e=>{a(w(ne,{key:e.id,solicitacao:e,"show-approval-actions":"Pendente"===e.status,"show-cancel-action":"Pendente"===e.status,onAprovar:abrirModalAprovacao,onRejeitar:abrirModalAprovacao,onDetalhes:verDetalhes,onCancelar:confirmarCancelamento},null,o,i))}),a("\x3c!--]--\x3e</div>"))}),calendario:c((e,a,o,i)=>{if(!a)return[m(de,{ferias:p(le)},null,8,["ferias"])];a(w(de,{ferias:p(le)},null,o,i))}),configuracoes:c((e,a,o,i)=>{if(!a)return[m(ce,{title:"Configurações de Férias",icon:"heroicons:cog-6-tooth","icon-color":"gray"},{default:c(()=>[m("form",{onSubmit:f(salvarConfiguracoes,["prevent"]),class:"space-y-6"},[m("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[m(me,{modelValue:p(ee).dias_minimos_fracionamento,"onUpdate:modelValue":e=>p(ee).dias_minimos_fracionamento=e,modelModifiers:{number:!0},type:"number",label:"Dias mínimos por fração",min:5,max:30},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).dias_maximos_venda,"onUpdate:modelValue":e=>p(ee).dias_maximos_venda=e,modelModifiers:{number:!0},type:"number",label:"Máximo de dias para venda",min:0,max:10},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).antecedencia_minima_dias,"onUpdate:modelValue":e=>p(ee).antecedencia_minima_dias=e,modelModifiers:{number:!0},type:"number",label:"Antecedência mínima (dias)",min:1},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).max_fracoes,"onUpdate:modelValue":e=>p(ee).max_fracoes=e,modelModifiers:{number:!0},type:"number",label:"Máximo de frações",min:1,max:3},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).notificar_vencimento_dias,"onUpdate:modelValue":e=>p(ee).notificar_vencimento_dias=e,modelModifiers:{number:!0},type:"number",label:"Notificar vencimento (dias antes)",min:1},null,8,["modelValue","onUpdate:modelValue"])]),m("div",{class:"space-y-3"},[m(ue,{modelValue:p(ee).permite_fracionamento,"onUpdate:modelValue":e=>p(ee).permite_fracionamento=e,label:"Permitir fracionamento de férias",description:"Colaboradores podem dividir as férias em até 3 períodos"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).permite_abono_pecuniario,"onUpdate:modelValue":e=>p(ee).permite_abono_pecuniario=e,label:"Permitir abono pecuniário",description:"Colaboradores podem vender até 10 dias de férias"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).notificar_aprovador,"onUpdate:modelValue":e=>p(ee).notificar_aprovador=e,label:"Notificar aprovador",description:"Enviar e-mail ao gestor quando houver nova solicitação"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).notificar_rh,"onUpdate:modelValue":e=>p(ee).notificar_rh=e,label:"Notificar RH",description:"Enviar cópia das notificações para o RH"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).bloquear_ferias_coletivas,"onUpdate:modelValue":e=>p(ee).bloquear_ferias_coletivas=e,label:"Bloquear férias coletivas",description:"Impedir solicitações durante períodos de férias coletivas"},null,8,["modelValue","onUpdate:modelValue"])]),m("div",{class:"flex justify-end pt-4 border-t border-gray-200"},[m(E,{type:"submit",theme:"admin",variant:"primary",loading:p(Z)},{default:c(()=>[u(" Salvar Configurações ")]),_:1},8,["loading"])])],32)]),_:1})];a(w(ce,{title:"Configurações de Férias",icon:"heroicons:cog-6-tooth","icon-color":"gray"},{default:c((e,a,o,i)=>{if(!a)return[m("form",{onSubmit:f(salvarConfiguracoes,["prevent"]),class:"space-y-6"},[m("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[m(me,{modelValue:p(ee).dias_minimos_fracionamento,"onUpdate:modelValue":e=>p(ee).dias_minimos_fracionamento=e,modelModifiers:{number:!0},type:"number",label:"Dias mínimos por fração",min:5,max:30},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).dias_maximos_venda,"onUpdate:modelValue":e=>p(ee).dias_maximos_venda=e,modelModifiers:{number:!0},type:"number",label:"Máximo de dias para venda",min:0,max:10},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).antecedencia_minima_dias,"onUpdate:modelValue":e=>p(ee).antecedencia_minima_dias=e,modelModifiers:{number:!0},type:"number",label:"Antecedência mínima (dias)",min:1},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).max_fracoes,"onUpdate:modelValue":e=>p(ee).max_fracoes=e,modelModifiers:{number:!0},type:"number",label:"Máximo de frações",min:1,max:3},null,8,["modelValue","onUpdate:modelValue"]),m(me,{modelValue:p(ee).notificar_vencimento_dias,"onUpdate:modelValue":e=>p(ee).notificar_vencimento_dias=e,modelModifiers:{number:!0},type:"number",label:"Notificar vencimento (dias antes)",min:1},null,8,["modelValue","onUpdate:modelValue"])]),m("div",{class:"space-y-3"},[m(ue,{modelValue:p(ee).permite_fracionamento,"onUpdate:modelValue":e=>p(ee).permite_fracionamento=e,label:"Permitir fracionamento de férias",description:"Colaboradores podem dividir as férias em até 3 períodos"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).permite_abono_pecuniario,"onUpdate:modelValue":e=>p(ee).permite_abono_pecuniario=e,label:"Permitir abono pecuniário",description:"Colaboradores podem vender até 10 dias de férias"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).notificar_aprovador,"onUpdate:modelValue":e=>p(ee).notificar_aprovador=e,label:"Notificar aprovador",description:"Enviar e-mail ao gestor quando houver nova solicitação"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).notificar_rh,"onUpdate:modelValue":e=>p(ee).notificar_rh=e,label:"Notificar RH",description:"Enviar cópia das notificações para o RH"},null,8,["modelValue","onUpdate:modelValue"]),m(ue,{modelValue:p(ee).bloquear_ferias_coletivas,"onUpdate:modelValue":e=>p(ee).bloquear_ferias_coletivas=e,label:"Bloquear férias coletivas",description:"Impedir solicitações durante períodos de férias coletivas"},null,8,["modelValue","onUpdate:modelValue"])]),m("div",{class:"flex justify-end pt-4 border-t border-gray-200"},[m(E,{type:"submit",theme:"admin",variant:"primary",loading:p(Z)},{default:c(()=>[u(" Salvar Configurações ")]),_:1},8,["loading"])])],32)];a(`<form class="space-y-6"${i}><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"${i}>`),a(w(me,{modelValue:p(ee).dias_minimos_fracionamento,"onUpdate:modelValue":e=>p(ee).dias_minimos_fracionamento=e,modelModifiers:{number:!0},type:"number",label:"Dias mínimos por fração",min:5,max:30},null,o,i)),a(w(me,{modelValue:p(ee).dias_maximos_venda,"onUpdate:modelValue":e=>p(ee).dias_maximos_venda=e,modelModifiers:{number:!0},type:"number",label:"Máximo de dias para venda",min:0,max:10},null,o,i)),a(w(me,{modelValue:p(ee).antecedencia_minima_dias,"onUpdate:modelValue":e=>p(ee).antecedencia_minima_dias=e,modelModifiers:{number:!0},type:"number",label:"Antecedência mínima (dias)",min:1},null,o,i)),a(w(me,{modelValue:p(ee).max_fracoes,"onUpdate:modelValue":e=>p(ee).max_fracoes=e,modelModifiers:{number:!0},type:"number",label:"Máximo de frações",min:1,max:3},null,o,i)),a(w(me,{modelValue:p(ee).notificar_vencimento_dias,"onUpdate:modelValue":e=>p(ee).notificar_vencimento_dias=e,modelModifiers:{number:!0},type:"number",label:"Notificar vencimento (dias antes)",min:1},null,o,i)),a(`</div><div class="space-y-3"${i}>`),a(w(ue,{modelValue:p(ee).permite_fracionamento,"onUpdate:modelValue":e=>p(ee).permite_fracionamento=e,label:"Permitir fracionamento de férias",description:"Colaboradores podem dividir as férias em até 3 períodos"},null,o,i)),a(w(ue,{modelValue:p(ee).permite_abono_pecuniario,"onUpdate:modelValue":e=>p(ee).permite_abono_pecuniario=e,label:"Permitir abono pecuniário",description:"Colaboradores podem vender até 10 dias de férias"},null,o,i)),a(w(ue,{modelValue:p(ee).notificar_aprovador,"onUpdate:modelValue":e=>p(ee).notificar_aprovador=e,label:"Notificar aprovador",description:"Enviar e-mail ao gestor quando houver nova solicitação"},null,o,i)),a(w(ue,{modelValue:p(ee).notificar_rh,"onUpdate:modelValue":e=>p(ee).notificar_rh=e,label:"Notificar RH",description:"Enviar cópia das notificações para o RH"},null,o,i)),a(w(ue,{modelValue:p(ee).bloquear_ferias_coletivas,"onUpdate:modelValue":e=>p(ee).bloquear_ferias_coletivas=e,label:"Bloquear férias coletivas",description:"Impedir solicitações durante períodos de férias coletivas"},null,o,i)),a(`</div><div class="flex justify-end pt-4 border-t border-gray-200"${i}>`),a(w(E,{type:"submit",theme:"admin",variant:"primary",loading:p(Z)},{default:c((e,a,o,i)=>{if(!a)return[u(" Salvar Configurações ")];a(" Salvar Configurações ")}),_:1},o,i)),a("</div></form>")}),_:1},o,i))}),_:1},r)),l("</div>"),l(w(pe,{modelValue:p(H),"onUpdate:modelValue":e=>v(H)?H.value=e:null,colaboradores:p(K),periodos:[],onSubmit:criarNovaSolicitacao},null,r)),l(w(ve,{modelValue:p(Q),"onUpdate:modelValue":e=>v(Q)?Q.value=e:null,solicitacao:p(J),onAprovar:handleAprovar,onRejeitar:handleRejeitar},null,r)),l("</div>")}}}),te=ie.setup;ie.setup=(e,a)=>{const o=V();return(o.modules||(o.modules=new Set)).add("pages/ferias.vue"),te?te(e,a):void 0};export{ie as default};
