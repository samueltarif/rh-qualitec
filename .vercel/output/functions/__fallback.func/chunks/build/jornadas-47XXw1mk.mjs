import{_ as e}from"./server.mjs";import{_ as a}from"./UserProfileDropdown-D7V90wtd.mjs";import{defineComponent as r,ref as o,resolveComponent as t,mergeProps as l,withCtx as i,createVNode as s,unref as d,useSSRContext as n}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as p,ssrRenderList as u,ssrRenderClass as m,ssrInterpolate as b,ssrRenderAttr as x,ssrIncludeBooleanAttr as g,ssrLooseContain as v,ssrLooseEqual as y}from"vue/server-renderer";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"pinia";import"vue-router";import"@supabase/ssr";import"./UIButton-BfdUCxqX.mjs";const h=r({__name:"jornadas",__ssrInlineRender:!0,setup(r){const n=o(!0),h=o(!1),f=o(!1),_=o(!1),w=o([]),$={domingo:"Dom",segunda:"Seg",terca:"Ter",quarta:"Qua",quinta:"Qui",sexta:"Sex",sabado:"Sáb"},k=o({id:null,nome:"",descricao:"",codigo:"",tipo:"padrao",carga_horaria_semanal:44,carga_horaria_diaria:8,hora_entrada:"08:00",hora_saida:"17:00",hora_intervalo_inicio:"12:00",hora_intervalo_fim:"13:00",tolerancia_entrada_minutos:10,tolerancia_saida_minutos:10,dias_trabalho:{domingo:!1,segunda:!0,terca:!0,quarta:!0,quinta:!0,sexta:!0,sabado:!1},permite_hora_extra:!0,percentual_hora_extra_50:50,percentual_hora_extra_100:100,adicional_noturno:!1,hora_inicio_noturno:"22:00",hora_fim_noturno:"05:00",percentual_adicional_noturno:20,padrao:!1}),getTipoIcon=e=>({padrao:"heroicons:clock",escala:"heroicons:calendar-days","12x36":"heroicons:arrow-path","6x1":"heroicons:calendar","5x2":"heroicons:calendar",flexivel:"heroicons:adjustments-horizontal",parcial:"heroicons:sun",noturno:"heroicons:moon",personalizado:"heroicons:cog-6-tooth"}[e]||"heroicons:clock");return(r,o,A,j)=>{const z=e,C=t("Icon"),E=a;o(`<div${c(l({class:"min-h-screen bg-gray-50"},j))}><header class="bg-white border-b border-gray-200 sticky top-0 z-40"><div class="max-w-7xl mx-auto px-8 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-4">`),o(p(z,{to:"/configuracoes",class:"w-10 h-10 bg-red-700 rounded-lg flex items-center justify-center hover:bg-red-800 transition-colors"},{default:i((e,a,r,o)=>{if(!a)return[s(C,{name:"heroicons:arrow-left",class:"text-white",size:"20"})];a(p(C,{name:"heroicons:arrow-left",class:"text-white",size:"20"},null,r,o))}),_:1},A)),o('<div><h1 class="text-xl font-bold text-gray-800">Jornadas de Trabalho</h1><p class="text-sm text-gray-500">Configure horários, escalas e turnos</p></div></div><div class="flex items-center gap-4"><button class="px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors flex items-center gap-2">'),o(p(C,{name:"heroicons:plus",size:"20"},null,A)),o(" Nova Jornada </button>"),o(p(E,{theme:"admin"},null,A)),o('</div></div></div></header><div class="max-w-7xl mx-auto p-8">'),d(n)?(o('<div class="card text-center py-12">'),o(p(C,{name:"heroicons:arrow-path",class:"animate-spin text-gray-400 mx-auto mb-4",size:"48"},null,A)),o('<p class="text-gray-600">Carregando jornadas...</p></div>')):(o('<div class="space-y-6"><div class="card bg-blue-50 border-2 border-blue-200"><div class="flex items-start gap-3">'),o(p(C,{name:"heroicons:information-circle",class:"text-blue-600 flex-shrink-0",size:"24"},null,A)),o('<div><h3 class="font-semibold text-blue-900 mb-1">Sobre Jornadas de Trabalho</h3><p class="text-sm text-blue-800"> As jornadas configuradas aqui serão vinculadas aos colaboradores e usadas para controle de ponto e cálculo de horas extras. </p></div></div></div><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">\x3c!--[--\x3e'),u(d(w),e=>{var a;o('<div class="card hover:shadow-lg transition-shadow cursor-pointer relative">'),e.padrao?o('<span class="absolute top-3 right-3 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full"> Padrão </span>'):o("\x3c!----\x3e"),o(`<div class="flex items-start gap-4"><div class="${m([(a=e.tipo,{padrao:"bg-blue-500",escala:"bg-purple-500","12x36":"bg-orange-500","6x1":"bg-amber-500","5x2":"bg-green-500",flexivel:"bg-cyan-500",parcial:"bg-pink-500",noturno:"bg-indigo-500",personalizado:"bg-gray-500"}[a]||"bg-gray-500"),"w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0"])}">`),o(p(C,{name:getTipoIcon(e.tipo),class:"text-white",size:"24"},null,A)),o(`</div><div class="flex-1 min-w-0"><h3 class="text-lg font-semibold text-gray-800 truncate">${b(e.nome)}</h3><p class="text-sm text-gray-500 mb-2">${b(e.codigo)}</p><div class="space-y-1 text-sm text-gray-600"><div class="flex items-center gap-2">`),o(p(C,{name:"heroicons:clock",size:"16",class:"text-gray-400"},null,A)),o(`<span>${b(e.hora_entrada?.slice(0,5))} - ${b(e.hora_saida?.slice(0,5))}</span></div><div class="flex items-center gap-2">`),o(p(C,{name:"heroicons:calendar-days",size:"16",class:"text-gray-400"},null,A)),o(`<span>${b(e.carga_horaria_semanal)}h/semana</span></div></div></div></div></div>`)}),o("\x3c!--]--\x3e</div>"),0===d(w).length?(o('<div class="card text-center py-12">'),o(p(C,{name:"heroicons:clock",class:"text-gray-300 mx-auto mb-4",size:"64"},null,A)),o('<h3 class="text-lg font-semibold text-gray-600 mb-2">Nenhuma jornada cadastrada</h3><p class="text-gray-500 mb-4">Crie sua primeira jornada de trabalho</p><button class="px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800"> Nova Jornada </button></div>')):o("\x3c!----\x3e"),o("</div>")),o("</div>"),d(f)?(o(`<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"><div class="p-6 border-b border-gray-200"><div class="flex items-center justify-between"><h2 class="text-xl font-bold text-gray-800">${b(d(_)?"Editar Jornada":"Nova Jornada")}</h2><button class="text-gray-400 hover:text-gray-600">`),o(p(C,{name:"heroicons:x-mark",size:"24"},null,A)),o(`</button></div></div><form class="p-6 space-y-6"><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Nome *</label><input${x("value",d(k).nome)} type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Ex: Comercial Padrão"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Código</label><input${x("value",d(k).codigo)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Ex: COM-44"></div></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label><textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Descrição da jornada">${b(d(k).descricao)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Jornada</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg"><option value="padrao"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"padrao"):y(d(k).tipo,"padrao"))?" selected":""}>Padrão (CLT)</option><option value="escala"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"escala"):y(d(k).tipo,"escala"))?" selected":""}>Escala</option><option value="12x36"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"12x36"):y(d(k).tipo,"12x36"))?" selected":""}>12x36</option><option value="6x1"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"6x1"):y(d(k).tipo,"6x1"))?" selected":""}>6x1</option><option value="5x2"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"5x2"):y(d(k).tipo,"5x2"))?" selected":""}>5x2</option><option value="flexivel"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"flexivel"):y(d(k).tipo,"flexivel"))?" selected":""}>Flexível</option><option value="parcial"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"parcial"):y(d(k).tipo,"parcial"))?" selected":""}>Meio Período</option><option value="noturno"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"noturno"):y(d(k).tipo,"noturno"))?" selected":""}>Noturno</option><option value="personalizado"${g(Array.isArray(d(k).tipo)?v(d(k).tipo,"personalizado"):y(d(k).tipo,"personalizado"))?" selected":""}>Personalizado</option></select></div><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Carga Horária Semanal (h)</label><input${x("value",d(k).carga_horaria_semanal)} type="number" step="0.5" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Carga Horária Diária (h)</label><input${x("value",d(k).carga_horaria_diaria)} type="number" step="0.5" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div></div><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Entrada</label><input${x("value",d(k).hora_entrada)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Saída</label><input${x("value",d(k).hora_saida)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Início Intervalo</label><input${x("value",d(k).hora_intervalo_inicio)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Fim Intervalo</label><input${x("value",d(k).hora_intervalo_fim)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div></div><div class="grid md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Tolerância Entrada (min)</label><input${x("value",d(k).tolerancia_entrada_minutos)} type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Tolerância Saída (min)</label><input${x("value",d(k).tolerancia_saida_minutos)} type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Dias de Trabalho</label><div class="flex flex-wrap gap-2">\x3c!--[--\x3e`),u($,(e,a)=>{o(`<label class="${m([d(k).dias_trabalho[a]?"bg-red-50 border-red-300":"bg-gray-50 border-gray-200","flex items-center gap-2 px-3 py-2 border rounded-lg cursor-pointer"])}"><input type="checkbox"${g(Array.isArray(d(k).dias_trabalho[a])?v(d(k).dias_trabalho[a],null):d(k).dias_trabalho[a])?" checked":""} class="rounded text-red-600"><span class="text-sm">${b(e)}</span></label>`)}),o(`\x3c!--]--\x3e</div></div><div class="space-y-4"><label class="flex items-center gap-2"><input type="checkbox"${g(Array.isArray(d(k).permite_hora_extra)?v(d(k).permite_hora_extra,null):d(k).permite_hora_extra)?" checked":""} class="rounded text-red-600"><span class="text-sm font-medium text-gray-700">Permite Hora Extra</span></label>`),d(k).permite_hora_extra?o(`<div class="grid md:grid-cols-2 gap-4 pl-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">% Hora Extra 50%</label><input${x("value",d(k).percentual_hora_extra_50)} type="number" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">% Hora Extra 100%</label><input${x("value",d(k).percentual_hora_extra_100)} type="number" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div></div>`):o("\x3c!----\x3e"),o(`</div><div class="space-y-4"><label class="flex items-center gap-2"><input type="checkbox"${g(Array.isArray(d(k).adicional_noturno)?v(d(k).adicional_noturno,null):d(k).adicional_noturno)?" checked":""} class="rounded text-red-600"><span class="text-sm font-medium text-gray-700">Adicional Noturno</span></label>`),d(k).adicional_noturno?o(`<div class="grid md:grid-cols-3 gap-4 pl-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">Início Noturno</label><input${x("value",d(k).hora_inicio_noturno)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">Fim Noturno</label><input${x("value",d(k).hora_fim_noturno)} type="time" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-1">% Adicional</label><input${x("value",d(k).percentual_adicional_noturno)} type="number" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg"></div></div>`):o("\x3c!----\x3e"),o(`</div><label class="flex items-center gap-2"><input type="checkbox"${g(Array.isArray(d(k).padrao)?v(d(k).padrao,null):d(k).padrao)?" checked":""} class="rounded text-red-600"><span class="text-sm font-medium text-gray-700">Definir como jornada padrão da empresa</span></label><div class="flex gap-4 pt-4 border-t">`),d(_)?o('<button type="button" class="px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg"> Excluir </button>'):o("\x3c!----\x3e"),o(`<div class="flex-1"></div><button type="button" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"> Cancelar </button><button type="submit"${g(d(h))?" disabled":""} class="px-6 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 disabled:opacity-50">${b(d(h)?"Salvando...":"Salvar")}</button></div></form></div></div>`)):o("\x3c!----\x3e"),o("</div>")}}}),f=h.setup;h.setup=(e,a)=>{const r=n();return(r.modules||(r.modules=new Set)).add("pages/configuracoes/jornadas.vue"),f?f(e,a):void 0};export{h as default};
