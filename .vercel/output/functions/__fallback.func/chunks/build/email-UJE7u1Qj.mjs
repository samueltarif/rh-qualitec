import{defineComponent as e,ref as a,watch as t,resolveComponent as s,mergeProps as i,unref as l,isRef as o,computed as r,useSSRContext as n}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as d,ssrRenderList as m,ssrRenderClass as u,ssrInterpolate as p,ssrRenderAttr as v,ssrIncludeBooleanAttr as b,ssrLooseContain as x,ssrLooseEqual as g}from"vue/server-renderer";const y=e({__name:"CardEmailStats",__ssrInlineRender:!0,props:{stats:{}},setup:e=>(a,t,s,l)=>{t(`<div${c(i({class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8"},l))}><div class="card"><div class="text-sm text-gray-600 mb-1">Enviados</div><div class="text-2xl font-bold text-gray-800">${p(e.stats.totalEnviados)}</div></div><div class="card"><div class="text-sm text-gray-600 mb-1">Pendentes</div><div class="text-2xl font-bold text-amber-600">${p(e.stats.totalPendentes)}</div></div><div class="card"><div class="text-sm text-gray-600 mb-1">Falhas</div><div class="text-2xl font-bold text-red-600">${p(e.stats.totalFalhas)}</div></div><div class="card"><div class="text-sm text-gray-600 mb-1">Taxa Abertura</div><div class="text-2xl font-bold text-green-600">${p(e.stats.taxaAbertura)}%</div></div><div class="card"><div class="text-sm text-gray-600 mb-1">Hoje</div><div class="text-2xl font-bold text-blue-600">${p(e.stats.enviadosHoje)}</div></div><div class="card"><div class="text-sm text-gray-600 mb-1">Templates</div><div class="text-2xl font-bold text-purple-600">${p(e.stats.totalTemplates)}</div></div></div>`)}}),f=y.setup;y.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/CardEmailStats.vue"),f?f(e,a):void 0};const _=Object.assign(y,{__name:"CardEmailStats"}),h=e({__name:"FormSmtpConfig",__ssrInlineRender:!0,props:{smtp:{},salvando:{type:Boolean},testando:{type:Boolean}},emits:["salvar","testar"],setup:e=>(a,t,l,o)=>{const r=s("Icon");t(`<div${c(i({class:"card"},o))}><h2 class="text-xl font-semibold mb-4">Configurações SMTP</h2><form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Servidor SMTP *</label><input${v("value",e.smtp.servidor_smtp)} type="text" required placeholder="smtp.gmail.com" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Porta *</label><input${v("value",e.smtp.porta)} type="number" required placeholder="587" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Usuário SMTP *</label><input${v("value",e.smtp.usuario_smtp)} type="text" required placeholder="seu-email@empresa.com" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Senha SMTP *</label><input${v("value",e.smtp.senha_smtp)} type="password" required placeholder="••••••••" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">E-mail Remetente *</label><input${v("value",e.smtp.email_remetente)} type="email" required placeholder="noreply@empresa.com" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Nome Remetente *</label><input${v("value",e.smtp.nome_remetente)} type="text" required placeholder="RH Empresa" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">E-mail Resposta</label><input${v("value",e.smtp.email_resposta)} type="email" placeholder="rh@empresa.com" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Timeout (segundos)</label><input${v("value",e.smtp.timeout)} type="number" placeholder="30" class="input"></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="flex items-center"><input${b(Array.isArray(e.smtp.usa_ssl)?x(e.smtp.usa_ssl,null):e.smtp.usa_ssl)?" checked":""} type="checkbox" id="usa_ssl" class="checkbox"><label for="usa_ssl" class="ml-2 text-sm text-gray-700">Usar SSL</label></div><div class="flex items-center"><input${b(Array.isArray(e.smtp.usa_tls)?x(e.smtp.usa_tls,null):e.smtp.usa_tls)?" checked":""} type="checkbox" id="usa_tls" class="checkbox"><label for="usa_tls" class="ml-2 text-sm text-gray-700">Usar TLS</label></div><div class="flex items-center"><input${b(Array.isArray(e.smtp.ativo)?x(e.smtp.ativo,null):e.smtp.ativo)?" checked":""} type="checkbox" id="smtp_ativo" class="checkbox"><label for="smtp_ativo" class="ml-2 text-sm text-gray-700">Ativo</label></div></div><div class="flex gap-3 pt-4"><button type="submit" class="btn-primary"${b(e.salvando)?" disabled":""}>`),t(d(r,{name:"mdi:content-save",class:"mr-2"},null,l)),t(` ${p(e.salvando?"Salvando...":"Salvar Configurações")}</button><button type="button" class="btn-secondary"${b(e.testando||!e.smtp.servidor_smtp)?" disabled":""}>`),t(d(r,{name:"mdi:test-tube",class:"mr-2"},null,l)),t(` ${p(e.testando?"Testando...":"Testar Conexão")}</button></div></form></div>`)}}),$=h.setup;h.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/FormSmtpConfig.vue"),$?$(e,a):void 0};const A=Object.assign(h,{__name:"FormSmtpConfig"}),k=e({__name:"SectionEmailTemplates",__ssrInlineRender:!0,props:{templates:{}},emits:["novo","editar","excluir"],setup:e=>(a,t,l,o)=>{const r=s("Icon");t(`<div${c(i({class:"space-y-6"},o))}><div class="flex justify-between items-center mb-4"><div><h2 class="text-xl font-semibold">Templates de E-mail</h2><p class="text-sm text-gray-600">Gerencie templates reutilizáveis</p></div><button class="btn-primary">`),t(d(r,{name:"mdi:plus",class:"mr-2"},null,l)),t(' Novo Template </button></div><div class="grid grid-cols-1 gap-4">\x3c!--[--\x3e'),m(e.templates,e=>{t(`<div class="card hover:shadow-lg transition-shadow"><div class="flex justify-between items-start"><div class="flex-1"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold">${p(e.nome)}</h3>`),e.sistema?t('<span class="px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded">Sistema</span>'):t("\x3c!----\x3e"),e.ativo?t("\x3c!----\x3e"):t('<span class="px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded">Inativo</span>'),t(`</div><p class="text-sm text-gray-600 mb-2">${p(e.descricao)}</p><div class="flex items-center gap-4 text-xs text-gray-500"><span>`),t(d(r,{name:"mdi:tag",class:"inline"},null,l)),t(` ${p(e.categoria)}</span><span>`),t(d(r,{name:"mdi:email-send",class:"inline"},null,l)),t(` ${p(e.total_enviados)} enviados</span>`),e.total_enviados>0?(t("<span>"),t(d(r,{name:"mdi:email-open",class:"inline"},null,l)),t(` ${p((e.total_abertos/e.total_enviados*100).toFixed(1))}% abertos </span>`)):t("\x3c!----\x3e"),t('</div></div><div class="flex gap-2"><button class="btn-icon" title="Editar">'),t(d(r,{name:"mdi:pencil"},null,l)),t("</button>"),e.sistema?t("\x3c!----\x3e"):(t('<button class="btn-icon text-red-600 hover:bg-red-50" title="Excluir">'),t(d(r,{name:"mdi:delete"},null,l)),t("</button>")),t("</div></div></div>")}),t("\x3c!--]--\x3e</div></div>")}}),S=k.setup;k.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/SectionEmailTemplates.vue"),S?S(e,a):void 0};const w=Object.assign(k,{__name:"SectionEmailTemplates"}),E=e({__name:"FormComunicacaoConfig",__ssrInlineRender:!0,props:{comunicacao:{},salvando:{type:Boolean}},emits:["salvar"],setup(e){const a=[{key:"notificar_admissao",label:"Admissão de colaborador"},{key:"notificar_demissao",label:"Demissão de colaborador"},{key:"notificar_aniversario",label:"Aniversário de colaborador"},{key:"notificar_ferias_aprovadas",label:"Férias aprovadas"},{key:"notificar_ferias_vencendo",label:"Férias vencendo"},{key:"notificar_documentos_vencendo",label:"Documentos vencendo"},{key:"notificar_ponto_inconsistente",label:"Ponto inconsistente"},{key:"notificar_folha_gerada",label:"Folha de pagamento gerada"}];return(t,l,o,r)=>{const n=s("Icon");l(`<div${c(i({class:"card"},r))}><h2 class="text-xl font-semibold mb-4">Notificações Automáticas</h2><form class="space-y-6"><div class="space-y-3"><h3 class="font-medium text-gray-700">Eventos que Disparam E-mails</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-3">\x3c!--[--\x3e`),m(a,a=>{l(`<label class="flex items-center"><input${b(Array.isArray(e.comunicacao[a.key])?x(e.comunicacao[a.key],null):e.comunicacao[a.key])?" checked":""} type="checkbox" class="checkbox"><span class="ml-2 text-sm text-gray-700">${p(a.label)}</span></label>`)}),l(`\x3c!--]--\x3e</div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Alerta Férias (dias)</label><input${v("value",e.comunicacao.dias_alerta_ferias)} type="number" min="1" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Alerta Documentos (dias)</label><input${v("value",e.comunicacao.dias_alerta_documentos)} type="number" min="1" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Alerta Aniversário (dias)</label><input${v("value",e.comunicacao.dias_alerta_aniversario)} type="number" min="0" class="input"></div></div><div><h3 class="font-medium text-gray-700 mb-3">Horários de Envio</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Início</label><input${v("value",e.comunicacao.horario_envio_inicio)} type="time" class="input"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Fim</label><input${v("value",e.comunicacao.horario_envio_fim)} type="time" class="input"></div><div class="flex items-center pt-8"><input${b(Array.isArray(e.comunicacao.enviar_finais_semana)?x(e.comunicacao.enviar_finais_semana,null):e.comunicacao.enviar_finais_semana)?" checked":""} type="checkbox" class="checkbox"><span class="ml-2 text-sm text-gray-700">Enviar nos finais de semana</span></div></div></div><div class="flex items-center gap-4"><label class="flex items-center"><input${b(Array.isArray(e.comunicacao.rastrear_abertura)?x(e.comunicacao.rastrear_abertura,null):e.comunicacao.rastrear_abertura)?" checked":""} type="checkbox" class="checkbox"><span class="ml-2 text-sm text-gray-700">Rastrear abertura de e-mails</span></label><label class="flex items-center"><input${b(Array.isArray(e.comunicacao.rastrear_cliques)?x(e.comunicacao.rastrear_cliques,null):e.comunicacao.rastrear_cliques)?" checked":""} type="checkbox" class="checkbox"><span class="ml-2 text-sm text-gray-700">Rastrear cliques em links</span></label></div><div class="flex gap-3 pt-4"><button type="submit" class="btn-primary"${b(e.salvando)?" disabled":""}>`),l(d(n,{name:"mdi:content-save",class:"mr-2"},null,o)),l(` ${p(e.salvando?"Salvando...":"Salvar Configurações")}</button></div></form></div>`)}}}),T=E.setup;E.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/FormComunicacaoConfig.vue"),T?T(e,a):void 0};const C=Object.assign(E,{__name:"FormComunicacaoConfig"}),q=e({__name:"SectionEmailHistorico",__ssrInlineRender:!0,props:{historico:{},filtroStatus:{}},emits:["update:filtroStatus"],setup(e,{emit:a}){const t=e,o=a,n=r({get:()=>t.filtroStatus,set:e=>o("update:filtroStatus",e)});return(a,t,o,r)=>{const v=s("Icon");t(`<div${c(i({class:"card"},r))}><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-semibold">Histórico de Envios</h2><select class="input w-40"><option value=""${b(Array.isArray(l(n))?x(l(n),""):g(l(n),""))?" selected":""}>Todos</option><option value="enviado"${b(Array.isArray(l(n))?x(l(n),"enviado"):g(l(n),"enviado"))?" selected":""}>Enviados</option><option value="pendente"${b(Array.isArray(l(n))?x(l(n),"pendente"):g(l(n),"pendente"))?" selected":""}>Pendentes</option><option value="falha"${b(Array.isArray(l(n))?x(l(n),"falha"):g(l(n),"falha"))?" selected":""}>Falhas</option></select></div><div class="overflow-x-auto"><table class="table"><thead><tr><th>Data</th><th>Destinatário</th><th>Assunto</th><th>Template</th><th>Status</th><th>Aberto</th></tr></thead><tbody>\x3c!--[--\x3e`),m(e.historico,e=>{var a,s;t(`<tr><td>${p((a=e.created_at,new Date(a).toLocaleString("pt-BR")))}</td><td><div class="font-medium">${p(e.destinatario_nome)}</div><div class="text-xs text-gray-500">${p(e.destinatario_email)}</div></td><td>${p(e.assunto)}</td><td>`),e.templates_email?t(`<span class="text-sm text-gray-600">${p(e.templates_email.nome)}</span>`):t('<span class="text-xs text-gray-400">-</span>'),t(`</td><td><span class="${u(["px-2 py-1 text-xs rounded",(s=e.status,{enviado:"bg-green-100 text-green-700",pendente:"bg-amber-100 text-amber-700",falha:"bg-red-100 text-red-700"}[s]||"bg-gray-100 text-gray-700")])}">${p(e.status)}</span></td><td>`),e.aberto_em?t(d(v,{name:"mdi:email-open",class:"text-green-600",title:"E-mail aberto"},null,o)):t(d(v,{name:"mdi:email",class:"text-gray-400",title:"Não aberto"},null,o)),t("</td></tr>")}),t("\x3c!--]--\x3e</tbody></table></div></div>")}}}),P=q.setup;q.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/SectionEmailHistorico.vue"),P?P(e,a):void 0};const F=Object.assign(q,{__name:"SectionEmailHistorico"}),j=e({__name:"ModalTemplateEmail",__ssrInlineRender:!0,props:{template:{}},emits:["close","saved"],setup(e,{emit:t}){const o=a(!1),r=a({codigo:"",nome:"",descricao:"",categoria:"",assunto:"",corpo_html:"",corpo_texto:"",prioridade:"normal",variaveis_disponiveis:[],ativo:!0,requer_confirmacao_leitura:!1});return(a,t,n,u)=>{const y=s("Icon");t(`<div${c(i({class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},u))}><div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col"><div class="flex items-center justify-between p-6 border-b border-gray-200"><h2 class="text-2xl font-bold text-gray-900">${p(e.template?"Editar Template":"Novo Template")}</h2><button class="text-gray-400 hover:text-gray-600 transition-colors" type="button">`),t(d(y,{name:"mdi:close",size:"28"},null,n)),t('</button></div><form class="flex-1 overflow-y-auto p-6 space-y-4">'),e.template?.sistema?(t('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3">'),t(d(y,{name:"mdi:information",class:"text-blue-600 flex-shrink-0 mt-0.5",size:"20"},null,n)),t('<div class="text-sm text-blue-800"><strong>Template do Sistema:</strong> O código e categoria não podem ser alterados. Você pode editar o conteúdo, assunto e outras configurações. </div></div>')):t("\x3c!----\x3e"),t(`<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2"> Código * </label><input${v("value",l(r).codigo)} type="text" required${b(e.template?.sistema)?" disabled":""} placeholder="bem_vindo" class="input"><p class="text-xs text-gray-500 mt-1"> Identificador único (sem espaços) </p></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Nome * </label><input${v("value",l(r).nome)} type="text" required placeholder="Boas-vindas" class="input"></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Descrição </label><textarea rows="2" placeholder="Descrição do template" class="input">${p(l(r).descricao)}</textarea></div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2"> Categoria * </label><select required class="input"><option value=""${b(Array.isArray(l(r).categoria)?x(l(r).categoria,""):g(l(r).categoria,""))?" selected":""}>Selecione...</option><option value="sistema"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"sistema"):g(l(r).categoria,"sistema"))?" selected":""}>Sistema</option><option value="rh"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"rh"):g(l(r).categoria,"rh"))?" selected":""}>RH</option><option value="folha"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"folha"):g(l(r).categoria,"folha"))?" selected":""}>Folha de Pagamento</option><option value="ferias"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"ferias"):g(l(r).categoria,"ferias"))?" selected":""}>Férias</option><option value="ponto"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"ponto"):g(l(r).categoria,"ponto"))?" selected":""}>Ponto</option><option value="documentos"${b(Array.isArray(l(r).categoria)?x(l(r).categoria,"documentos"):g(l(r).categoria,"documentos"))?" selected":""}>Documentos</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Prioridade </label><select class="input"><option value="baixa"${b(Array.isArray(l(r).prioridade)?x(l(r).prioridade,"baixa"):g(l(r).prioridade,"baixa"))?" selected":""}>Baixa</option><option value="normal"${b(Array.isArray(l(r).prioridade)?x(l(r).prioridade,"normal"):g(l(r).prioridade,"normal"))?" selected":""}>Normal</option><option value="alta"${b(Array.isArray(l(r).prioridade)?x(l(r).prioridade,"alta"):g(l(r).prioridade,"alta"))?" selected":""}>Alta</option><option value="urgente"${b(Array.isArray(l(r).prioridade)?x(l(r).prioridade,"urgente"):g(l(r).prioridade,"urgente"))?" selected":""}>Urgente</option></select></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Assunto * </label><input${v("value",l(r).assunto)} type="text" required placeholder="Bem-vindo à {{nome_empresa}}!" class="input"><p class="text-xs text-gray-500 mt-1"> Use ${p(a.variavel)} para inserir dados dinâmicos </p></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Corpo HTML * </label><textarea rows="8" required placeholder="&lt;h2&gt;Olá {{nome_colaborador}}!&lt;/h2&gt;&lt;p&gt;Conteúdo do e-mail...&lt;/p&gt;" class="input font-mono text-sm">${p(l(r).corpo_html)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Corpo Texto (opcional) </label><textarea rows="4" placeholder="Versão em texto puro do e-mail" class="input">${p(l(r).corpo_texto)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2"> Variáveis Disponíveis </label><div class="space-y-2">\x3c!--[--\x3e`),m(l(r).variaveis_disponiveis,(e,a)=>{t(`<div class="flex gap-2"><input${v("value",e.nome)} type="text" placeholder="nome_variavel" class="input flex-1"><input${v("value",e.descricao)} type="text" placeholder="Descrição" class="input flex-1"><button type="button" class="btn-icon text-red-600">`),t(d(y,{name:"mdi:delete"},null,n)),t("</button></div>")}),t('\x3c!--]--\x3e<button type="button" class="btn-secondary text-sm">'),t(d(y,{name:"mdi:plus",class:"mr-1"},null,n)),t(` Adicionar Variável </button></div></div><div class="flex items-center gap-4"><div class="flex items-center"><input${b(Array.isArray(l(r).ativo)?x(l(r).ativo,null):l(r).ativo)?" checked":""} type="checkbox" id="template_ativo" class="checkbox"><label for="template_ativo" class="ml-2 text-sm text-gray-700"> Ativo </label></div><div class="flex items-center"><input${b(Array.isArray(l(r).requer_confirmacao_leitura)?x(l(r).requer_confirmacao_leitura,null):l(r).requer_confirmacao_leitura)?" checked":""} type="checkbox" id="confirmacao_leitura" class="checkbox"><label for="confirmacao_leitura" class="ml-2 text-sm text-gray-700"> Requer confirmação de leitura </label></div></div><div class="flex items-center justify-between gap-4 p-6 border-t border-gray-200 bg-gray-50"><button type="button" class="flex items-center gap-2 px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">`),t(d(y,{name:"mdi:arrow-left",size:"20"},null,n)),t(` Voltar para Configurações </button><div class="flex gap-3"><button type="button" class="px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"> Cancelar </button><button type="submit" class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"${b(l(o))?" disabled":""}>`),t(d(y,{name:"mdi:content-save",size:"20"},null,n)),t(` ${p(l(o)?"Salvando...":"Salvar")}</button></div></div></form></div></div>`)}}}),I=j.setup;j.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("components/ModalTemplateEmail.vue"),I?I(e,a):void 0};const R=Object.assign(j,{__name:"ModalTemplateEmail"}),D=e({__name:"email",__ssrInlineRender:!0,setup(e){const r=[{id:"smtp",label:"Configurações SMTP",icon:"mdi:email-settings"},{id:"templates",label:"Templates",icon:"mdi:email-edit"},{id:"comunicacao",label:"Notificações",icon:"mdi:bell"},{id:"historico",label:"Histórico",icon:"mdi:history"}],n=a("smtp"),v=a(!1),b=a(!1),x=a(!1),g=a(!1),y=a(null),f=a(""),h=a({totalEnviados:0,totalPendentes:0,totalFalhas:0,taxaAbertura:"0.0",enviadosHoje:0,totalTemplates:0}),$=a({servidor_smtp:"",porta:587,usa_ssl:!0,usa_tls:!0,usuario_smtp:"",senha_smtp:"",email_remetente:"",nome_remetente:"",email_resposta:"",timeout:30,ativo:!0}),k=a({notificar_admissao:!0,notificar_demissao:!0,notificar_aniversario:!0,notificar_ferias_aprovadas:!0,notificar_ferias_vencendo:!0,notificar_documentos_vencendo:!0,notificar_ponto_inconsistente:!0,notificar_folha_gerada:!0,dias_alerta_ferias:30,dias_alerta_documentos:15,dias_alerta_aniversario:3,horario_envio_inicio:"08:00",horario_envio_fim:"18:00",enviar_finais_semana:!1,rastrear_abertura:!0,rastrear_cliques:!0}),S=a([]),E=a([]),carregarTemplates=async()=>{try{S.value=await $fetch("/api/email/templates")}catch(e){console.error(e)}},carregarHistorico=async()=>{try{const e=f.value?`?status=${f.value}`:"",a=await $fetch(`/api/email/historico${e}`);E.value=a.data}catch(e){console.error(e)}},salvarSMTP=async()=>{v.value=!0;try{await $fetch("/api/email/smtp",{method:"PUT",body:$.value}),alert("Configurações SMTP salvas!")}catch{alert("Erro ao salvar SMTP")}finally{v.value=!1}},testarSMTP=async()=>{x.value=!0;try{const e=await $fetch("/api/email/smtp-test",{method:"POST",body:$.value});alert(e.message),e.success&&await(async()=>{try{const e=await $fetch("/api/email/smtp");e&&($.value={...$.value,...e})}catch(e){console.error(e)}})()}catch{alert("Erro ao testar SMTP")}finally{x.value=!1}},salvarComunicacao=async()=>{b.value=!0;try{await $fetch("/api/email/comunicacao",{method:"PUT",body:k.value}),alert("Configurações salvas!")}catch{alert("Erro ao salvar")}finally{b.value=!1}},abrirModalTemplate=(e=null)=>{y.value=e,g.value=!0},excluirTemplate=async e=>{if(confirm("Deseja excluir este template?"))try{await $fetch(`/api/email/templates/${e}`,{method:"DELETE"}),await carregarTemplates(),alert("Template excluído!")}catch{alert("Erro ao excluir")}};return t(n,e=>{"historico"===e&&carregarHistorico()}),t(f,()=>carregarHistorico()),(e,a,t,T)=>{const q=s("Icon"),P=_,j=A,I=w,D=C,M=F,H=R;a(`<div${c(i({class:"container mx-auto px-4 py-8"},T))}><div class="mb-6"><button class="flex items-center gap-2 px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm">`),a(d(q,{name:"mdi:arrow-left",size:"20"},null,t)),a(' Voltar para Configurações </button></div><div class="mb-8"><h1 class="text-3xl font-bold text-gray-800 mb-2">E-mail e Comunicação</h1><p class="text-gray-600">Configure SMTP, templates de e-mail e notificações automáticas</p></div>'),a(d(P,{stats:l(h)},null,t)),a('<div class="mb-6"><div class="border-b border-gray-200"><nav class="-mb-px flex space-x-8">\x3c!--[--\x3e'),m(r,e=>{a(`<button class="${u(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",l(n)===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"])}">`),a(d(q,{name:e.icon,class:"inline mr-2"},null,t)),a(`${p(e.label)}</button>`)}),a("\x3c!--]--\x3e</nav></div></div>"),"smtp"===l(n)?a(d(j,{smtp:l($),salvando:l(v),testando:l(x),onSalvar:salvarSMTP,onTestar:testarSMTP},null,t)):a("\x3c!----\x3e"),"templates"===l(n)?a(d(I,{templates:l(S),onNovo:e=>abrirModalTemplate(),onEditar:abrirModalTemplate,onExcluir:excluirTemplate},null,t)):a("\x3c!----\x3e"),"comunicacao"===l(n)?a(d(D,{comunicacao:l(k),salvando:l(b),onSalvar:salvarComunicacao},null,t)):a("\x3c!----\x3e"),"historico"===l(n)?a(d(M,{historico:l(E),filtroStatus:l(f),"onUpdate:filtroStatus":e=>o(f)?f.value=e:null},null,t)):a("\x3c!----\x3e"),l(g)?a(d(H,{template:l(y),onClose:e=>g.value=!1,onSaved:carregarTemplates},null,t)):a("\x3c!----\x3e"),a("</div>")}}}),M=D.setup;D.setup=(e,a)=>{const t=n();return(t.modules||(t.modules=new Set)).add("pages/configuracoes/email.vue"),M?M(e,a):void 0};export{D as default};
